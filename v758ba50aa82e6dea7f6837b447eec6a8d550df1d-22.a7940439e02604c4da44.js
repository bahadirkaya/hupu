(this.webpackJsonpglide=this.webpackJsonpglide||[]).push([[22,5],{363:function(e,t,n){"use strict";n.r(t),n.d(t,"registerOnPushTokenLoadCallback",(function(){return y})),n.d(t,"unregisterOnPushTokenLoadCallback",(function(){return k})),n.d(t,"suppressPushNotificationTopic",(function(){return w})),n.d(t,"unsuppressPushNotificationTopic",(function(){return S})),n.d(t,"prepareActivePushNotifications",(function(){return M})),n.d(t,"requestPushNotificationPermissionIfNecessary",(function(){return D}));var r,i=n(2),a=n.n(i),o=n(8),c=n(60),u=n.n(c),l=(n(975),n(15)),s=n(43),d=n(135),f=n(12);function p(){return void 0!==window.Notification&&void 0!==navigator.serviceWorker&&u.a.messaging.isSupported()}function v(){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p()){e.next=2;break}return e.abrupt("return");case 2:if(void 0===r){e.next=6;break}return e.next=5,r;case 5:return e.abrupt("return",e.sent);case 6:return r=Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(d.a)(),(t=u.a.messaging()).usePublicVapidKey(Object(s.a)().fcmKey),e.next=5,navigator.serviceWorker.ready;case 5:n=e.sent,t.useServiceWorker(n);case 7:case"end":return e.stop()}}),e)})))(),e.next=9,r;case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=null,m=new Set;function g(e,t){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t){e.next=9;break}return e.prev=1,e.next=4,n(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Object(f.a)(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function y(e){return j.apply(this,arguments)}function j(){return(j=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:if(!m.has(t)){e.next=4;break}return e.abrupt("return");case 4:return m.add(t),e.next=7,g(b,t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){m.delete(e)}var x=new l.DefaultMap((function(){return new Set}));function C(e,t){return x.get(e).has(t)}function w(e,t){x.get(e).add(t)}function S(e,t){x.get(e).delete(t)}var E=!1;function M(){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:if(p()){e.next=4;break}return e.abrupt("return");case 4:if("granted"===Notification.permission){e.next=6;break}return e.abrupt("return");case 6:return t=u.a.messaging(),e.next=9,t.getToken();case 9:if(n=e.sent,b=n,!E){e.next=13;break}return e.abrupt("return");case 13:return E=!0,r=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,i,o,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r=!1,i=void 0,e.prev=3,o=m[Symbol.iterator]();case 5:if(n=(c=o.next()).done){e.next=12;break}return u=c.value,e.next=9,g(t,u);case 9:n=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),r=!0,i=e.t0;case 18:e.prev=18,e.prev=19,n||null==o.return||o.return();case 21:if(e.prev=21,!r){e.next=24;break}throw i;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,null,[[3,14,18,26],[19,,21,25]])})));return function(t){return e.apply(this,arguments)}}(),t.onMessage(function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,i,o,c,u,s,d,p,v,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,r=t.notification,i=t.fcmOptions,o=r.title,c=r.body,u=r.icon,s=r.tag,d=n.topic,p=n.appID,v=Object(l.definedMap)(i,(function(e){return e.link})),!C(p,d)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,navigator.serviceWorker.ready;case 8:if(null===(h=e.sent).active){e.next=14;break}return e.next=12,h.showNotification(o,{body:c,icon:u,tag:s,data:{type:"open-link-in-window",link:v}});case 12:e.next=15;break;case 14:Object(f.b)("active service worker is null");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Object(f.a)("In push notification handler: ".concat(e))})),e.next=18,r(n);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p()){e.next=2;break}return e.abrupt("return");case 2:if(t=Notification,"default"!==(n=t.permission)){e.next=7;break}return e.next=6,Notification.requestPermission();case 6:n=e.sent;case 7:if("granted"===n){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,M();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},589:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var r=n(10),i=n(4),a=n(5),o=n(26),c=n(9),u=n(21),l=n(13),s=n(46),d=n.n(s),f=n(15),p=n(729),v=n(12),h=n(31),b=n(872),m=n(725),g=n(7),O=n(3),y=n(28),j=n(14),k=n(55),x=n(30);var C=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"updateGlideAppState",value:function(e){this.setState(e)}},{key:"quotasDidUpdate",value:function(e,t){var n,r;(null===(n=e["rows-used"])||void 0===n?void 0:n.limit)!==(null===(r=t["rows-used"])||void 0===r?void 0:r.limit)&&this.props.appEnvironment.dataStore.resetFromUpstream()}},{key:"getComputedColumn",value:function(e,t,n){var r=this.glideAppState;if(void 0!==r){var i=r.computedColumns.get(t.name);if(void 0!==i)return i.get(n)}}},{key:"modifyColumnsInSchema",value:function(e){return Object(v.a)("Trying to modify schema in the player"),{schema:e,errors:[]}}},{key:"registerColumnFormatChangedCallback",value:function(){return Object(O.hb)("Column formats are only dynamic in the builder")}},{key:"unregisterColumnFormatChangedCallback",value:function(){return Object(O.hb)("Column formats are only dynamic in the builder")}},{key:"getColumnFormat",value:function(){return Object(O.hb)("Column formats are only dynamic in the builder")}},{key:"makeMenuScreen",value:function(e,t,n){var r=Object(j.db)(e,t);return void 0!==this.serializedApp.screens[r]?r:n}},{key:"addImageComponent",value:function(){return Object(O.hb)("Adding component is only supported in the builder")}},{key:"startBuilderBusy",value:function(){return Object(O.hb)("Builder busy is only supported in the builder")}},{key:"stopBuilderBusy",value:function(){return Object(O.hb)("Builder busy is only supported in the builder")}},{key:"render",value:function(){if(void 0!==this.glideAppState){var e="",t="",r=this.glideAppState.navigationModel.currentScreen;void 0!==this.props.serializedApp.features&&this.props.serializedApp.features.removeBranding?e="".concat(this.props.serializedApp.title," \xb7 "):this.props.useFrame&&(e="".concat(this.props.serializedApp.title," \xb7 "),t="Made with Glide");var i=Object(g.M)(Object(f.definedMap)(r.title,(function(e){return e.current})),g.F),a=t.length>0?" \xb7 ".concat(t):"";void 0!==i&&i!==y.i?document.title=e+i+a:e.length>0?document.title=e+t:document.title="App"+a}return Object(o.a)(Object(l.a)(n.prototype),"render",this).call(this)}},{key:"isTabletMode",get:function(){return this.props.useTablet}},{key:"shortName",get:function(){return this.props.shortName}},{key:"customDomain",get:function(){return this.props.customDomain}},{key:"serializedApp",get:function(){return this.props.serializedApp}},{key:"paymentInformation",get:function(){return this.props.paymentInfomation}},{key:"demonstratingProComponents",get:function(){return!1}},{key:"eminenceFlags",get:function(){var e,t,n=Object(h.q)(this.serializedApp).removeBranding?x.a.Pro:x.a.Free,r=null!==(e=this.props.eminence)&&void 0!==e?e:n;return null!==(t=x.b[r])&&void 0!==t?t:x.b[n]}},{key:"fallbackAuthor",get:function(){var e;return null===(e=this.serializedApp.manifest)||void 0===e?void 0:e.author}},{key:"isPublished",get:function(){return!0}},{key:"glideAppState",get:function(){return Object(O.eb)(this.state)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.serializedApp,i=e.appEnvironment;if(null!==t&&i===t.appEnvironment&&d()(t.serializedApp,n,{strict:!0}))return Object(r.a)(Object(r.a)({},t),{},{serializedApp:n});Object(v.b)("making state");var a=Object(b.a)(n,i,(function(e,t){return{screens:e,functions:t}})),o=a.state,c=a.evaluatedRoots;if(void 0===c)return document.location.reload(!0),null;var u=i.appID,l=Object(m.b)(Object(O.n)(c).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{provenance:void 0})})),Object(h.o)(n.tabs),{onAppNavigationPush:function(e){return function(e,t){var n=t.currentScreenTitle;Object(k.j)(e,n)}(u,e)}});Object(k.j)(u,l.currentScreenTitle);var s=Object(r.a)(Object(r.a)({},o),{},{navigationModel:l,builderNavigationModel:l,serializedApp:n,appEnvironment:i});return Object(v.b)("done making state"),s}}]),n}(p.b)},596:function(e,t,n){"use strict";n.d(t,"p",(function(){return k})),n.d(t,"L",(function(){return x})),n.d(t,"h",(function(){return w})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return E})),n.d(t,"F",(function(){return M})),n.d(t,"g",(function(){return R})),n.d(t,"E",(function(){return D})),n.d(t,"o",(function(){return T})),n.d(t,"e",(function(){return P})),n.d(t,"M",(function(){return I})),n.d(t,"N",(function(){return _})),n.d(t,"G",(function(){return N})),n.d(t,"x",(function(){return A})),n.d(t,"w",(function(){return F})),n.d(t,"I",(function(){return L})),n.d(t,"H",(function(){return B})),n.d(t,"y",(function(){return V})),n.d(t,"l",(function(){return U})),n.d(t,"f",(function(){return z})),n.d(t,"D",(function(){return W})),n.d(t,"u",(function(){return H})),n.d(t,"C",(function(){return K})),n.d(t,"v",(function(){return q})),n.d(t,"q",(function(){return G})),n.d(t,"K",(function(){return X})),n.d(t,"J",(function(){return Y})),n.d(t,"n",(function(){return Q})),n.d(t,"k",(function(){return $})),n.d(t,"a",(function(){return J})),n.d(t,"t",(function(){return ee})),n.d(t,"j",(function(){return te})),n.d(t,"s",(function(){return ne})),n.d(t,"B",(function(){return re})),n.d(t,"A",(function(){return ie})),n.d(t,"r",(function(){return ae})),n.d(t,"O",(function(){return oe})),n.d(t,"i",(function(){return ce})),n.d(t,"m",(function(){return ue})),n.d(t,"z",(function(){return le})),n.d(t,"d",(function(){return se}));var r=n(29),i=n(10),a=n(20),o=n(115),c=n.n(o),u=n(6),l=n(14),s=n(3),d=n(38),f=n(12),p=n(204),v=n(624),h=n(633),b=n(28),m=n(626),g=n(69),O=n(258),y=n(637),j=n(7);function k(e,t,n,r){var i=Object(u.withDefault)(Object(d.f)(n),l.j.URL);switch(i){case l.j.URL:var a=r?"URLArrayImageSource":"URLImageSource";return e.builtinCall(a,[t]);case l.j.MapFromAddress:return e.builtinCall("MapFromAddressImageSource",[t]);default:return Object(s.e)(i)}}function x(e,t,n,r){return[Object(u.definedMap)(Object(d.d)(n.titleProperty),(function(n){return Object(h.d)(e,t,n)})),Object(u.definedMap)(Object(d.d)(n.subtitleProperty),(function(n){return Object(h.d)(e,t,n)})),Object(u.definedMap)(t,(function(t){return function(e,t,n,r){if(void 0!==n.imageURLProperty){var i=e.b,a=Object(d.d)(n.imageURLProperty);if(void 0!==a){var o=Object(u.definedMap)(a,(function(e){return Object(l.lb)(t,e)}));if(void 0!==o)return k(i,i.getProperty(a,r,t),n.imageKind,"array"===o.type.kind);e.error("Column not found in table ".concat(Object(l.nb)(t).name," for URL image"))}else e.error("URL property for image is not a column")}}(e,t,n,r)})),Object(u.definedMap)(Object(d.d)(n.linkURLProperty),(function(n){return e.b.getProperty(n,r,t)}))]}function C(e,t,n,r){var o=new Map,c=!0,u=!1,l=void 0;try{for(var s,d=e.components[Symbol.iterator]();!(c=(s=d.next()).done);c=!0){var p=s.value,h=Object(v.d)(p.kind);if(void 0!==h){var b=!0,m=!1,g=void 0;try{for(var O,y=h.getEditedColumns(p,t,n,r)[Symbol.iterator]();!(b=(O=y.next()).done);b=!0){var j=Object(a.a)(O.value,2),k=j[0];if(j[1]){var x=o.get(k);void 0===x?o.set(k,{first:p,firstName:h.getDescriptiveName(p,t,n)[0],others:0}):o.set(k,Object(i.a)(Object(i.a)({},x),{},{others:x.others+1}))}}}catch(C){m=!0,g=C}finally{try{b||null==y.return||y.return()}finally{if(m)throw g}}}else Object(f.a)("No handler for component",p)}}catch(C){u=!0,l=C}finally{try{c||null==d.return||d.return()}finally{if(u)throw l}}return o}function w(e,t,n,r,a){var o=new Map(C(e,n,r,a));if(t){var c=Object(l.X)(e),u=!0,s=!1,d=void 0;try{for(var f,p=c[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var v=f.value,h=v.destColumn,b=v.value,g=o.get(h);if(void 0===g){var O=Object(m.b)(b.kind);o.set(h,{first:v,firstName:O.getColumnAssignmentName(b),others:0})}else o.set(h,Object(i.a)(Object(i.a)({},g),{},{others:g.others+1}))}}catch(y){s=!0,d=y}finally{try{u||null==p.return||p.return()}finally{if(s)throw d}}}return o}function S(e,t,n){var r=Object(p.q)(e,t.schema);if(void 0!==r){var i=new Set,a=!0,o=!1,c=void 0;try{for(var u,s=w(e,!0,r,t,n).keys()[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var d=u.value,f=Object(l.lb)(r.output,d);void 0!==f&&i.add(f)}}catch(v){o=!0,c=v}finally{try{a||null==s.return||s.return()}finally{if(o)throw c}}return i}}function E(e,t,n){var r=S(e,t,n);return Object(u.definedMap)(r,(function(e){return Array.from(e).map((function(e){return e.name}))}))}function M(e,t,n,r){return new Set(C(e,t,n,r).keys())}function R(e,t,n){var i=[],a=!0,o=!1,c=void 0;try{for(var u,l=t.components[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var s=u.value,d=Object(v.d)(s.kind);void 0!==d&&i.push.apply(i,Object(r.a)(d.getDefaultValues(e,s,n)))}}catch(f){o=!0,c=f}finally{try{a||null==l.return||l.return()}finally{if(o)throw c}}return i}function D(e,t,n,r,i,a,o){var c=e.b,u=Object(y.b)(e,t,r,a);if(void 0!==u){var d;if(t.kind===l.q.DefaultContext)d=n;else if(t.kind===l.q.UserProfile){var f;d=null===(f=e.makeUserProfileRow())||void 0===f?void 0:f.row}else{if(t.kind!==l.q.ContainingScreen)return Object(s.e)(t.kind);d=i}if(void 0!==d){for(var p,v=0;v<u.length;v++)p=u[v],d=c.getProperty(p.column.name,d,p.table);return Object(s.d)(void 0!==p),o&&(d=Object(h.e)(e,d,p.table,p.column)),{value:d,table:p.table,column:p.column}}}}function T(e,t,n,r){var i=e.b;if(t.operator!==l.f.Equals)return Object(s.e)(t.operator);function a(t){var n;return Object(s.d)(t.kind===l.q.DefaultContext),null===(n=D(e,t,i.getContext,r,void 0,void 0,!1))||void 0===n?void 0:n.value}var o,c=i.getVariable("keyValue"),u=Object(m.b)(t.value.kind).makeValueForPropertyDescription(i,t.value,!1,a);if(void 0===u)return Object(f.a)("Could not get value column for filter",t),n;o=Object(l.Cb)(t)?i.builtinCall("MatchesEmailFilter",[c,u]):i.areEqual(c,u);var d=i.filter(n,o),p=Object(m.b)(t.key.kind).makeValueForPropertyDescription(i,t.key,!1,a);return void 0===p?(Object(f.a)("Could not get key column for filter",t),d):i.let([["keyValue",p]],d)}function P(e,t,n){switch(t.kind){case"number":return e.convertToNumber(n);case"boolean":return e.convertToBoolean(n);case"date":case"date-time":return e.let([["v",n]],e.withDefault(e.parseUserDateTime(e.getVariable("v")),e.getVariable("v")));default:return Object(l.Qb)(t.kind)?e.convertToString(n):n}}function I(e,t,n,r,i,a,o,c,u){var d=e.b;void 0!==a&&(n=T(e,a,n,t)),!c.some((function(e){return e.kind===l.c.Sort}))&&o&&(n=d.reverseList(n));var p=!0,v=!1,b=void 0;try{for(var m,g=c[Symbol.iterator]();!(p=(m=g.next()).done);p=!0){var O=m.value;switch(O.kind){case l.c.Filter:if(!1===O.isActive)continue;if(O.predicate.kind===l.g.Constant&&!0===O.predicate.value)break;var y=Object(h.b)(e,t,O.predicate,r,i);if(!y.success){Object(f.a)("Could not compile filter predicate",y);continue}n=d.filter(n,y.value);break;case l.c.Sort:if(0===O.keys.length)continue;if(1!==O.keys.length)return Object(s.hb)("We don't support multi-key sorts yet");var j=O.keys[0],k=j.key,x=j.order,C=Object(h.c)(e,t,k,!1,!1,"transformArray shouldn't need unique IDs");if(!C.success){Object(f.a)("Could not compile sort key",C);continue}var w=C.value;if(k.kind===l.g.GetColumn){var S=Object(l.lb)(t,k.column);void 0!==S&&(w=P(d,S.type,w))}n=d.sort(n,w,d.constant(x));break;case l.c.Shuffle:n=d.shuffle(n,u);break;case l.c.TableOrder:O.reverse&&(n=d.reverseList(n));break;default:return Object(s.e)(O)}}}catch(E){v=!0,b=E}finally{try{p||null==g.return||g.return()}finally{if(v)throw b}}return n}var _="trimmedSearch",N="search";function A(e){return{rawSearchVariable:e.getVariable("rawSearch"),trimmedSearchVariable:e.getVariable(_)}}function F(e,t,n,r,a){var o=e.getVariable("rawSearch"),c=Object(u.withDefault)(r,e.localizedString("search")),l=e.searchBar(a?o:e.getNonTableProperty(N,e.getContext),c,t);return void 0!==n&&(l=e.if(n,l,e.emptyUI)),Object(i.a)({topBar:l,searchLets:[["rawSearch",e.clonePrimitive(e.constant(""))],[_,e.builtinCall("TrimString",[o])]]},A(e))}function L(e){return Object(s.V)(e.components,(function(e){var t=Object(v.d)(e.kind);if(void 0!==t&&t.isSearchable(e))return{handler:t,description:e}}))}function B(e,t,n){return Object(s.V)(L(t),(function(t){var r=t.handler,i=t.description;return r.makeNeedsSearch(e,i,n)}))}function V(e,t,n,r,i,a){var o=t.classScreenDescriptionForTable(i);if(void 0!==o){var c=!0,u=!1,l=void 0;try{for(var s,d=o.components[Symbol.iterator]();!(c=(s=d.next()).done);c=!0){var f=s.value,h=Object(p.q)(o,t.schema),b=Object(v.d)(f.kind);void 0!==b&&void 0!==h&&(r=r.concat(b.getSearchableColumnsUsed(f,h,t).map((function(e){return e.name}))))}}catch(m){u=!0,l=m}finally{try{c||null==d.return||d.return()}finally{if(u)throw l}}}if(0!==r.length)return e.let([["arr",n],["ss",a],["properties",e.constant(Array.from(new Set(r)))]],e.if(e.stringEmpty(e.getVariable("ss")),e.getVariable("arr"),e.filter(e.getVariable("arr"),e.propertiesContainString(e.getContext,e.getVariable("properties"),e.getVariable("ss")))))}function U(e,t){return"".concat(e,"-").concat(t.toString())}function z(e){if(!Object(l.Lb)(e))return Object(l.F)(e)}function W(e,t,n,r){if(void 0!==n)return e.isNotEmpty(e.getProperty(n,t,r))}function H(e,t){var n=e.constant(!1);return t.needListQuota&&(n=e.if(e.builtinCall("IsRowQuotaReached",[]),e.constant(b.k.List),n)),t.needMapQuota&&(n=e.if(e.builtinCall("IsGeolocationQuotaReached",[]),e.constant(b.k.Map),n)),n}function K(e){return e}function q(e,t,n,r){void 0!==(null===t||void 0===t?void 0:t.rowIDColumn)&&(n=t.rowIDColumn);var i=e.getProperty(g.d,r,t);return void 0===n?{rowIndex:i}:{keyColumnName:e.constant(n),keyColumnValue:e.getProperty(n,r,t),rowIndex:i}}function G(e,t){if(Object(u.hasOwnProperty)(t,"keyColumnName")){var n=[["keyColumnName",t.keyColumnName],["keyColumnValue",t.keyColumnValue]],r={keyColumnName:e.getVariable("keyColumnName"),keyColumnValue:e.getVariable("keyColumnValue")};return void 0!==t.rowIndex&&(n.push(["rowIndex",t.rowIndex]),r=Object(i.a)(Object(i.a)({},r),{},{rowIndex:e.getVariable("rowIndex")})),{lets:n,rowIndexOrRowID:r}}return{lets:[["rowIndex",t.rowIndex]],rowIndexOrRowID:{rowIndex:e.getVariable("rowIndex")}}}var J,Z={debounce:!0,withDiode:!0};function X(e,t,n,r,o,u,d){var f=Object(i.a)(Object(i.a)({},Z),d),p=f.debounce,v=f.withDiode,h=Object(l.nb)(r),b=q(e,r,o,u),m=[],g={},O=!0,y=!1,j=void 0;try{for(var k,x=c()(n)[Symbol.iterator]();!(O=(k=x.next()).done);O=!0){var C=Object(a.a)(k.value,2),w=C[0],S=C[1],E=S.propertyValue,M=S.defaultValue,R=Object(l.lb)(r,w);if(void 0===R||Object(l.wb)(R))return;var D=void 0;if(!1!==v&&void 0===t){var T=!0===v?"diode-".concat(w):v;m.push([T,e.primitiveDiode(E,M)]),D=e.getVariable(T)}else D=E;g[w]=D}}catch(I){y=!0,j=I}finally{try{O||null==x.return||x.return()}finally{if(y)throw j}}if(void 0!==t)return Object(s.d)(0===[].length),{lets:m,valuesToModify:g,action:void 0,isEnabled:void 0};var P=e.setColumnsInRowForColumnValues(g,h.name,b,p);return{lets:m,valuesToModify:g,action:P.action,isEnabled:P.isEnabled}}function Y(e,t,n,r,i,a,o,c,u){var l=X(e,t,{[n]:{propertyValue:r,defaultValue:i}},a,o,c,u);if(void 0!==l){var d=l.lets,f=l.valuesToModify,p=l.action,v=l.isEnabled;return{lets:d,valueToModify:Object(s.n)(f[n]),action:p,isEnabled:v}}}function Q(e,t,n,r){if(void 0!==Object(l.lb)(t,g.b)){var i=Y(e,n,g.b,e.getVariable("toSave"),void 0,t,r,e.getContext,{debounce:!1,withDiode:!1});if(void 0!==i){var a=i.action,o=i.isEnabled;if(void 0!==a){var c=[["original",e.convertToBoolean(e.getProperty(g.b,e.getContext,t))],["copy",e.primitiveDiode(e.getVariable("original"),e.constant(!1))],["toSave",e.data(!1)],["setColumn",e.bindContextToValue(a,e.getContext)]],u=e.getVariable("copy");return{lets:c,value:u,onChange:e.sequence([e.set(e.getVariable("toSave"),u),e.actionWithUserSpecificData(e.getVariable("setColumn"),e.sequence([e.set(u,e.getVariable("original"))]))]),isEnabled:o}}}}}function $(e){var t;if(0!==e.length)return null===(t=Object(O.d)(e[0].kind))||void 0===t?void 0:t.iconName}function ee(e,t,n){var r;switch(n){case J.ShortURL:r=e.shortenLink(e.getVariable("link"));break;case J.FullURL:r=e.getVariable("link");break;case J.LastPathComponent:r=e.getLastURLPathComponent(e.getVariable("link"));break;case J.CaptionAsTitle:case J.PageTitle:r=e.getNonTableProperty("title",e.classifyLink(e.getVariable("link")));break;default:return Object(s.e)(n)}return e.actionIfContextDefined(e.let([["link",t],["title",r]],e.pushModalBuilderScreen(l.qc,e.object({link:e.getVariable("link"),title:e.getVariable("title")}),e.getVariable("title"),void 0)))}function te(e,t,n,r,i){if(void 0===t||void 0===n)return i(t,n);var a=e.let([["onTap",t]],i(e.getVariable("onTap"),e.ifIsDefined(e.getVariable("onTap"),n)));return r&&(a=e.holdContainer(a)),a}function ne(e,t,n,r,i,a){var o=e.b;return o.holdAction(o.let([["comment",o.clonePrimitive(o.constant(""))]],e.makePushOverlayEditorScreen(o.getVariable("comment"),o.localizedString(n),o.localizedString(r),o.localizedString(i),o.constant("send"),o.constant(a),!1,o.bindContextToValue(o.postComment(t),o.object({comment:o.getVariable("comment"),email:o.verifiedEmailAddress(),username:o.fallbackUsername()})))))}function re(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],f=arguments.length>7?arguments[7]:void 0,p=Object(u.definedMap)(Object(d.l)(t),(function(t){return D(e,t,null!==f&&void 0!==f?f:e.b.getContext,n,void 0,void 0,a)})),v=null===p||void 0===p?void 0:p.value;if(void 0!==v&&c&&(v=e.b.clonePrimitive(v)),void 0!==v&&o)return{text:v,typeKind:null===p||void 0===p||null===(r=p.column)||void 0===r?void 0:r.type.kind};var h,b=Object(d.n)(t);if(void 0!==b){if(i&&(b=Object(s.wb)(b)),void 0===b)return;return{text:c?e.b.data(b):e.b.constant(b),typeKind:Object(s.K)(b)?"uri":void 0}}if(void 0!==v)return{text:v,typeKind:null===p||void 0===p||null===(h=p.column)||void 0===h?void 0:h.type.kind};var m=Object(d.m)(t);return void 0!==m&&Object(l.Mb)(l.jc[m])?{text:e.b.specialValue(m),typeKind:l.jc[m]}:void 0}function ie(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7?arguments[7]:void 0;return null===(r=re(e,t,n,i,a,o,c,u))||void 0===r?void 0:r.text}function ae(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,a=Object(u.definedMap)(Object(d.l)(t),(function(t){var r;return null===(r=D(e,t,null!==i&&void 0!==i?i:e.b.getContext,n,void 0,void 0,!1))||void 0===r?void 0:r.value}));if(void 0!==a&&r&&(a=e.b.clonePrimitive(a)),void 0!==a)return a;var o=Object(d.i)(t);return Object(u.definedMap)(o,r?e.b.data:e.b.constant)}function oe(e,t,n,i,a){var o=ie(e,n,t,!0);return void 0!==o&&(i=[].concat(Object(r.a)(i),[["caption",o]]),o=e.b.getVariable("caption")),e.b.let(i,a(o))}function ce(e,t,n,r){var i,a,o,c=e.b;if(void 0===r)return[];if(Object(s.D)(t)?(i=t[0],a=t[1]):(i=t.propertyName,a=t.defaultValue),Object(l.Jb)(r))o=Object(u.definedMap)(a,(function(t){return ae(e,t,n)}));else if("boolean"===r){var f=Object(d.f)(a);"boolean"===typeof f&&(o=c.constant(f))}else if(Object(l.zb)(r)){var p=Object(d.n)(a);if(void 0!==p){Object(s.s)(Object(s.mb)(p));var v=Object(s.nb)(p);void 0!==v&&(o=c.constant(v.toISOString()))}else{"now"===Object(d.f)(a)&&(o=c.specialValue(l.r.Timestamp),"date"===r&&(o=c.startOfDay(o)))}}else if(void 0===(o=ie(e,a,n,!0,!1,!1))){var h=Object(d.f)(a);Object(j.K)(h)&&(o=c.constant(Object(j.w)(h)))}void 0===o&&(o=Object(u.definedMap)(Object(d.l)(a),(function(t){var r;return null===(r=D(e,t,c.getContext,n,void 0,void 0,!1))||void 0===r?void 0:r.value})));var b=Object(d.d)(i);return void 0===o||void 0===b?[]:[[b,c.clonePrimitive(o)]]}function ue(e,t){return{pivotComponents:[{componentName:t,component:e.errorUI,menuItems:[]}],additionalComponents:void 0,ctxModifier:void 0,title:void 0,topBar:void 0,pivotPicker:void 0,quotaBannerMessage:e.constant(!1),flags:[]}}function le(e,t,n){switch(t.kind){case"array":return[e.smartNumberOfItems(e.getContext,e.localizedString("noItems")),void 0,void 0,void 0];case"table-ref":return void 0===n?Object(s.hb)("Description for table-ref must be compound"):n;default:return Object(l.Lb)(t)?function(e,t,n){switch(t){case"boolean":return[e.if(n,e.localizedString("yes"),e.localizedString("no")),e.constant(""),void 0,void 0];case"uri":return[n,void 0,void 0,n];case"image-uri":return[e.localizedString("image"),void 0,n,void 0];case"audio-uri":return[e.localizedString("audio"),void 0,n,void 0];default:return[n,void 0,void 0,void 0]}}(e,t.kind,e.getContext):Object(s.e)(t)}}function se(e,t,n,r,i){var a=e.b,o=!0,c=!1,d=void 0;try{for(var p,v=Object(u.withDefault)(r,[])[Symbol.iterator]();!(o=(p=v.next()).done);o=!0){var b=p.value;if(b.kind!==l.c.Filter)return Object(s.hb)("Component visibility must be filter, but is ".concat(b.kind));if(!1!==b.isActive){var m=Object(h.c)(e,t,b.predicate,!1,!1,"compileFilters shouldn't need unique IDs");if(m.success){var g=m.value;n!==a.getContext&&(g=a.bindContextToValue(m.value,n)),i=void 0===i?g:a.and(i,g)}else Object(f.a)("Could not compile visibility predicate",m)}}}catch(O){c=!0,d=O}finally{try{o||null==v.return||v.return()}finally{if(c)throw d}}return i}!function(e){e.PageTitle="page-title",e.LastPathComponent="last-path-component",e.ShortURL="short-url",e.FullURL="full-url",e.CaptionAsTitle="caption-as-title"}(J||(J={}))},599:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(2),i=n.n(r),a=n(8),o=n(10),c=n(4),u=n(5),l=n(263),s=n.n(l),d=n(15),f=n(3),p=n(258),v=n(14),h=n(626),b=n(595),m=n(663),g=n(597),O=n(38),y=n(146),j=n(204),k=n(637),x=function(){function e(t){Object(c.a)(this,e),this.kind=t}return Object(u.a)(e,[{key:"getBasePropertyDescriptors",value:function(){return[g.l]}},{key:"getFavoritePivots",value:function(e,t,n,r){}},{key:"getCaption",value:function(e,t,n){var r=Object(g.i)(this.getDescriptor(e,t,n,void 0).properties);if(void 0!==r){var i=Object(y.l)(e,r);if(void 0!==i&&i.kind===v.l.String)return Object(f.i)(i.value)}}},{key:"getIsEditor",value:function(e,t){return!1}},{key:"getDescriptiveName",value:function(e,t,n){for(var r=this.getDescriptor(e,t.input,n,void 0),i=0,a=[!0,!1];i<a.length;i++){var o=a[i],c=!0,u=!1,l=void 0;try{for(var p,h=r.properties[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var b=p.value,m=Object(j.l)(v.l.Column,b);if(void 0!==m)if(m.required||!o){var g=Object(O.l)(Object(y.l)(e,b));if(void 0!==g){var x,C=Object(k.b)(n,g,t.input,void 0);return[r.name,null!==(x=Object(d.definedMap)(C,(function(e){return Object(v.mb)(Object(f.n)(s()(e)).column)})))&&void 0!==x?x:"?"]}}var w=Object(j.l)(v.l.String,b);if(void 0!==w)if(w.required||!o){var S=Object(O.n)(Object(y.l)(e,b));if(void 0!==S)return[r.name,S]}}}catch(E){u=!0,l=E}finally{try{c||null==h.return||h.return()}finally{if(u)throw l}}}return[r.name,""]}},{key:"getActions",value:function(e){var t;return{actions:null!==(t=e.actions)&&void 0!==t?t:[]}}},{key:"getComponentID",value:function(e){}},{key:"defaultAction",value:function(e,t,n,r){var i=this;return Object(d.definedMap)(this.getDescriptor(e,t,n,void 0).action,(function(a){Object(f.d)(a.kinds.length>0);var o=Object(p.d)(a.kinds[0]);if(void 0!==o)return o.newActionDescription(Object(v.Vb)(t),n,i.getComponentID(e),r)}))}},{key:"getColumnsUsed",value:function(e,t,n){return Object(b.c)(this.getDescriptor(e,t.input,n,void 0).properties,e,t,n)}},{key:"getSearchableColumnsUsed",value:function(e,t,n){var r=this.getDescriptor(e,t.input,n,void 0).properties;return Object(b.c)(r,e,t,n,(function(e,t){return t.searchable}))}},{key:"getEditedColumns",value:function(e,t,n,r){var i=t.input,a=this.getDescriptor(e,i,n,r);return Object(b.f)(a.properties,e)}},{key:"getDefaultValues",value:function(e,t,n){return[]}},{key:"getAdditionalDataEdits",value:function(e,t,n,r){}},{key:"needValidation",value:function(e){return!1}},{key:"makeValidationFlag",value:function(e,t,n,r){}},{key:"makeNeedsSearch",value:function(e,t,n){}},{key:"isSearchable",value:function(e){return!1}},{key:"getQuotaBannerRequirements",value:function(e){return{needListQuota:!1,needMapQuota:!1}}},{key:"rewriteAfterReload",value:function(e,t,n,r){var i=this,a=Object(m.a)((function(e){return i.getDescriptor(e,t.input,n,void 0).properties}),h.a.Rewrite,e,e,t,n,!0,r);if(void 0!==a)return Object(o.a)(Object(o.a)({},a),Object(y.C)(Object(y.v)(this.getActions(e),(function(e){var i;return null!==(i=Object(p.g)(e,t,n,r))&&void 0!==i?i:[]}))))}},{key:"getEmptyDescription",value:function(){return{kind:this.kind}}},{key:"newComponent",value:function(e,t,n,r){var i=this,a=this.getEmptyDescription();if(void 0!==(a=Object(m.a)((function(t){return i.getDescriptor(t,e.input,n,r).properties}),h.a.Default,a,a,e,n,!1,r,t))){var c=this.getDescriptor(a,e.input,n,r);if(void 0!==c.action){var u=Object(b.k)(c.action,e,a);a=Object(o.a)(Object(o.a)({},a),{},{actions:Object(f.o)(u,[],(function(e){return[e]}))})}return a}}},{key:"newSpecialCaseComponent",value:function(e,t,n,r,i){return Object(f.hb)("Please implement special case component")}},{key:"updateComponent",value:function(e,t,n,r,i){var a=this,o=Object(f.yb)(e,t);return Object(f.n)(Object(m.a)((function(e){return a.getDescriptor(e,n.input,r,i).properties}),h.a.Rewrite,o,o,n,r,!0,i,void 0,!0))}},{key:"duplicateComponentBase",value:function(e){return Object(o.a)({},e)}},{key:"duplicateComponent",value:function(){var e=Object(a.a)(i.a.mark((function e(t,n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.duplicateComponentBase(t),e.t0=o.a,e.t1=Object(o.a)({},a),e.t2=y.C,e.next=6,Object(p.b)(this.getActions(t),this.getComponentID(a),n,r);case 6:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.abrupt("return",(0,e.t0)(e.t1,e.t4));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getErrorAndLink",value:function(e,t){}},{key:"specialCaseDescriptors",get:function(){return[]}},{key:"needsColumns",get:function(){return!0}},{key:"isNonEmptyValidationStopper",get:function(){return!1}},{key:"prerequisites",get:function(){return[]}}]),e}()},606:function(e,t,n){"use strict";var r;function i(e,t){return e.indexOf(t)>=0}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e.QR="qrcode",e.Code128="code_128",e.EAN_13="ean_13",e.EAN_5="ean_5",e.EAN_2="ean_2",e.EAN_8="ean_8",e.Code39="code_39",e.Code39_VIN="code_39_vin",e.Codabar="codabar",e.UPC_A="upc_a",e.UPC_E="upc_e",e.i2of5="i2of5",e.TwoOfFive="2of5",e.Code93="code_93",e.Code32="code_32",e.Unknown="unknown"}(r||(r={}))},616:function(e,t,n){"use strict";var r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e.Small="small",e.Medium="medium",e.Large="large"}(r||(r={})),function(e){e.Normal="normal",e.AllCaps="all-caps"}(i||(i={}))},625:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"y",(function(){return O})),n.d(t,"l",(function(){return y})),n.d(t,"n",(function(){return j})),n.d(t,"b",(function(){return a})),n.d(t,"K",(function(){return D})),n.d(t,"a",(function(){return o})),n.d(t,"q",(function(){return z})),n.d(t,"G",(function(){return H})),n.d(t,"p",(function(){return K})),n.d(t,"m",(function(){return Z})),n.d(t,"C",(function(){return X})),n.d(t,"E",(function(){return Q})),n.d(t,"f",(function(){return _})),n.d(t,"H",(function(){return ne})),n.d(t,"i",(function(){return ae})),n.d(t,"F",(function(){return oe})),n.d(t,"e",(function(){return N})),n.d(t,"I",(function(){return fe})),n.d(t,"D",(function(){return he})),n.d(t,"J",(function(){return me})),n.d(t,"d",(function(){return ue})),n.d(t,"B",(function(){return ye})),n.d(t,"A",(function(){return Ce})),n.d(t,"L",(function(){return Me})),n.d(t,"x",(function(){return De})),n.d(t,"t",(function(){return Ie})),n.d(t,"k",(function(){return _e})),n.d(t,"j",(function(){return Ne})),n.d(t,"u",(function(){return Ae})),n.d(t,"s",(function(){return Fe})),n.d(t,"w",(function(){return Le})),n.d(t,"c",(function(){return Pe})),n.d(t,"r",(function(){return Be})),n.d(t,"z",(function(){return Ve})),n.d(t,"o",(function(){return Ue})),n.d(t,"v",(function(){return ze}));var r,i,a,o,c=n(10),u=n(29),l=n(20),s=n(71),d=n.n(s),f=n(46),p=n.n(f),v=n(15),h=n(14),b=n(3),m=n(815),g=n(56);function O(e,t,n){var r=n.hostColumn,i=n.targetTable,a=n.targetColumn,o=n.multiple,c=Object(v.definedMap)(Object(h.O)(e,t),(function(e){return Object(h.lb)(e,r)})),u=Object(v.definedMap)(Object(h.O)(e,i),(function(e){return Object(h.lb)(e,a)}));if(void 0!==c&&void 0!==u){var l,s=Object(h.Lb)(c.type),d=Object(h.Lb)(u.type),f={kind:h.g.GetColumn,column:r},p={kind:h.g.GetColumn,column:a,contextName:"matchee"};l=s&&d?{kind:h.g.CompareValues,left:f,operator:h.f.Equals,right:p}:s||d?{kind:h.g.ArrayContains,array:s?p:f,item:s?f:p}:{kind:h.g.ArraysOverlap,left:f,right:p};var b={kind:h.g.GetTableRows,table:i};return o?{kind:h.g.FilterRows,rows:b,predicateContextName:"matchee",predicate:l}:{kind:h.g.FindRow,rows:b,predicateContextName:"matchee",predicate:l}}}function y(e){var t=[j,Y,$,ie,T,ce,ve,be,ge,we,xe,Re,Te].find((function(t){return void 0!==t(e)}));if(void 0!==t)return t(e)}function j(e){if(e.kind===h.g.FilterRows||e.kind===h.g.FindRow){var t=e.rows,n=e.predicate,i=e.predicateContextName;if(t.kind===h.g.GetTableRows){var a,o;if(n.kind===h.g.CompareValues&&n.operator===h.f.Equals)a=n.left,o=n.right;else if(n.kind===h.g.ArrayContains){var c=n.array,u=n.item;if(c.kind!==h.g.GetColumn||u.kind!==h.g.GetColumn)return;void 0===c.contextName?(a=c,o=u):(a=u,o=c)}else{if(n.kind!==h.g.ArraysOverlap)return;a=n.left,o=n.right}if(a.kind===h.g.GetColumn&&void 0===a.contextName&&o.kind===h.g.GetColumn&&o.contextName===i)return{kind:r.FilterReference,hostColumn:a.column,targetTable:t.table,targetColumn:o.column,multiple:e.kind===h.g.FilterRows}}}}function k(e,t){var n=Object(h.jb)(e);Object(b.d)(1===n.length);var r=n[0];function i(e,n){return t?{kind:h.g.ApplyColumnFormat,column:r,value:n,contextName:e}:n}return e.kind===h.q.DefaultContext?i(void 0,{kind:h.g.GetColumn,column:r}):e.kind===h.q.UserProfile?{kind:h.g.With,context:{kind:h.g.GetUserProfileRow},contextName:"user",value:i("user",{kind:h.g.GetColumn,column:r,contextName:"user"})}:e.kind===h.q.ContainingScreen?(Object(b.d)(!t),{kind:h.g.GetColumn,column:r,contextName:Ne}):Object(b.e)(e.kind)}function x(e){if(e.kind===h.g.ApplyColumnFormat){var t=x(e.value);if(void 0===t)return;return t.column.kind!==h.q.DefaultContext||t.withFormat||e.column!==t.column.name?void 0:{column:t.column,withFormat:!0}}if(e.kind===h.g.GetColumn&&void 0===e.contextName)return{column:Object(h.Wb)(e.column),withFormat:!1};if(e.kind===h.g.GetColumn&&e.contextName===Ne)return{column:Object(h.Wb)(e.column,h.q.ContainingScreen),withFormat:!1};if(e.kind===h.g.With&&e.context.kind===h.g.GetUserProfileRow){if(e.value.kind===h.g.GetColumn&&e.contextName===e.value.contextName)return{column:{kind:h.q.UserProfile,name:e.value.column},withFormat:!1};if(e.value.kind===h.g.ApplyColumnFormat&&e.value.value.kind===h.g.GetColumn&&e.contextName===e.value.contextName&&e.contextName===e.value.value.contextName)return{column:Object(h.Wb)(e.value.column,h.q.UserProfile),withFormat:!0}}}function C(e){var t=x(e);if(!1===(null===t||void 0===t?void 0:t.withFormat))return t.column}function w(e){return{kind:h.g.Constant,value:e}}function S(e,t,n){if(e.kind===a.Column)return k(e.column,!1);if(e.kind===a.Constant){var r=e.value;if(t&&"string"===typeof r){var i=Object(b.kb)(r);void 0!==i&&(r=i)}return""!==r||n?w(r):{kind:h.g.Empty}}return e.kind===a.SpecialValue?{kind:h.g.SpecialValue,valueKind:e.specialValue}:Object(b.e)(e)}function E(e){if(e.kind===h.g.Constant)return{kind:a.Constant,value:e.value};if(e.kind===h.g.Empty)return{kind:a.Constant,value:""};if(e.kind===h.g.SpecialValue)return{kind:a.SpecialValue,specialValue:e.valueKind};var t=C(e);return void 0!==t?{kind:a.Column,column:t}:void 0}function M(e){return e.kind===a.Column||e.kind===a.Constant&&"string"===typeof e.value}function R(e){return e.kind===a.Column||e.kind===a.Constant&&("string"===typeof e.value||"number"===typeof e.value)}function D(e){var t=e.template,n=e.replacements;return n=n.filter((function(e){return void 0!==e[1]})),{kind:h.g.TextTemplate,template:S(t,!1,!1),replacements:n.map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return{pattern:w(n),replacement:k(Object(b.n)(r),!0)}}))}}function T(e){if(e.kind===h.g.TextTemplate){var t=E(e.template);if(void 0!==t&&M(t)){var n=[],i=!0,a=!1,o=void 0;try{for(var c,u=e.replacements[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value,s=l.pattern,d=l.replacement;if(s.kind!==h.g.Constant||"string"!==typeof s.value)return;var f=x(d);if(void 0===f)return;n.push([s.value,f.column])}}catch(p){a=!0,o=p}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return{kind:r.TextTemplate,template:t,replacements:n}}}}!function(e){e.FilterReference="filter-reference",e.IfThenElse="if-then-else",e.Lookup="lookup",e.SingleValue="single-value",e.TextTemplate="text-template",e.Math="math",e.Rollup="rollup",e.JoinStrings="join-strings",e.SplitString="split-string",e.GeoDistance="geo-distance",e.GenerateImage="generate-image",e.UserAPIFetch="user-api-fetch",e.ConstructURL="construct-url"}(r||(r={})),function(e){e.Number="number",e.DateTime="date-time"}(i||(i={})),function(e){e[e.Column=0]="Column",e[e.Constant=1]="Constant",e[e.SpecialValue=2]="SpecialValue"}(a||(a={})),function(e){e.Literal="literal",e.Now="now",e.Today="today"}(o||(o={}));var P={[h.t.IsEmpty]:h.u.IsNotEmpty};function I(e){var t,n,r=e.column,i=e.operator,a=k(r,!1);if(i===h.t.MatchesVerifiedEmailAddress||i===h.t.DoesNotMatchVerifiedEmailAddress)t={kind:h.g.CompareValues,left:{kind:h.g.SpecialValue,valueKind:h.r.VerifiedEmailAddress},operator:h.f.MatchesEmailAddress,right:a},n=i===h.t.DoesNotMatchVerifiedEmailAddress;else{var o=P[i];void 0===o?(o=i,n=!1):n=!0,t={kind:h.g.CheckValue,operator:o,value:a}}return n&&(t={kind:h.g.Not,value:t}),t}var _,N,A={[h.e.DoesNotEqual]:h.f.Equals,[h.e.DoesNotContainString]:h.f.ContainsString,[h.e.IsNotContainedInString]:h.f.IsContainedInString},F={[h.e.IsBefore]:{op:h.f.IsLessThan,needsDuration:!1,endOfDuration:!1},[h.e.IsAfter]:{op:h.f.IsGreaterThan,needsDuration:!1,endOfDuration:!0},[h.e.IsOnOrBefore]:{op:h.f.IsLessThan,needsDuration:!0,endOfDuration:!0},[h.e.IsOnOrAfter]:{op:h.f.IsGreaterOrEqualTo,needsDuration:!0,endOfDuration:!1}};function L(e,t){var n={kind:h.g.ConvertToType,typeKind:"date-time",value:e};return void 0===t?n:{kind:t?h.g.EndOfDay:h.g.StartOfDay,dateTime:n}}function B(e,t){if(Object(h.Pb)(e)){var n=k(e,!1);return void 0===t?n:L(n,t)}switch(e.kind){case o.Literal:return Object(b.d)(void 0===t),w(e.value);case o.Now:return{kind:h.g.SpecialValue,valueKind:h.r.Timestamp};case o.Today:return{kind:!0===t?h.g.EndOfDay:h.g.StartOfDay,dateTime:{kind:h.g.SpecialValue,valueKind:h.r.Timestamp}};default:return Object(b.e)(e)}}function V(e){var t,n=e.column,r=e.operator,i=e.value,a=k(n,!1),o=A[r],c=F[r],u=!1;if(void 0!==c)r=c.op,a=L(a,void 0),t=Object(h.Pb)(i)?L(k(i,!1),c.needsDuration?c.endOfDuration:void 0):B(i,c.endOfDuration);else{if(r===h.e.IsWithin)return{kind:h.g.IsInRange,value:L(a,void 0),start:B(i,!1),end:B(i,!0)};t=B(i),void 0!==o&&(r=o,u=!0)}var l={kind:h.g.CompareValues,left:a,operator:r,right:t};return u&&(l={kind:h.g.Not,value:l}),l}function U(e){return e.kind!==h.g.Not?{value:e,isNegated:!1}:{value:e.value,isNegated:!0}}function z(e){var t,n,r=U(e),i=r.value,a=r.isNegated;if(i.kind===h.g.CompareValues&&i.operator===h.f.MatchesEmailAddress&&i.left.kind===h.g.SpecialValue&&i.left.valueKind===h.r.VerifiedEmailAddress)t=C(i.right),n=h.t.MatchesVerifiedEmailAddress;else{if(i.kind!==h.g.CheckValue)return;var o=i.operator;t=C(i.value),n=o}if(void 0!==t)return a&&(n=n===h.t.MatchesVerifiedEmailAddress?h.t.DoesNotMatchVerifiedEmailAddress:Object(b.n)(Object(b.fb)(P,n))),{kind:"unary",column:t,operator:n}}function W(e){return"unary"===e.kind?I(e):"binary"===e.kind?V(e):Object(b.e)(e)}function H(e){var t,n,r=e.combinator,i=e.predicates;if("and"===r)t=!0;else{if("or"!==r)return Object(b.e)(r);t=!1}var a=!0,o=!1,c=void 0;try{for(var l,s=Object(u.a)(i).reverse()[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var d=W(l.value);n=void 0===n?d:{kind:t?h.g.And:h.g.Or,left:d,right:n}}}catch(f){o=!0,c=f}finally{try{a||null==s.return||s.return()}finally{if(o)throw c}}return void 0===n?w(t):n}function K(e){if(e.kind===h.g.Constant)return"boolean"===typeof e.value?{kind:"predicate-combination",combinator:e.value?"and":"or",predicates:[]}:void 0;var t=e.kind!==h.g.Or,n=[],r=!1;return function e(i){if(i.kind===h.g.And&&!t||i.kind===h.g.Or&&t)r=!0;else if(i.kind===h.g.And||i.kind===h.g.Or)e(i.left),e(i.right);else{var a=function(e){var t=z(e);if(void 0!==t)return t;var n=Z(e);return void 0!==n?n:void 0}(i);if(void 0===a)return void(r=!0);n.push(a)}}(e),r?void 0:{kind:"predicate-combination",combinator:t?"and":"or",predicates:n}}function q(e){return e.kind===h.g.SpecialValue&&e.valueKind===h.r.Timestamp?e:e.kind===h.g.ConvertToType&&"date-time"===e.typeKind?e.value:void 0}function G(e,t){if(e.kind===h.g.SpecialValue&&e.valueKind===h.r.Timestamp)return{value:{kind:o.Now},endOfDuration:t};if(e.kind===h.g.StartOfDay||e.kind===h.g.EndOfDay){if(t=e.kind===h.g.EndOfDay,e.dateTime.kind===h.g.SpecialValue&&e.dateTime.valueKind===h.r.Timestamp)return{value:{kind:o.Today},endOfDuration:t};if(e.dateTime.kind===h.g.ConvertToType&&"date-time"===e.dateTime.typeKind){var n=C(e.dateTime.value);if(void 0!==n)return{value:n,endOfDuration:t}}}}function J(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=d()(F)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=Object(l.a)(a.value,2),u=c[0],s=c[1];if(void 0!==s&&(s.op===e&&(void 0===t||s.endOfDuration===t)))return u}}catch(f){r=!0,i=f}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}function Z(e){if(e.kind===h.g.IsInRange){var t=q(e.value),n=G(e.start,!1),r=G(e.end,!0),i=Object(v.definedMap)(t,C);if(void 0===i)return;if(void 0===n||void 0===r)return;if(n.endOfDuration||!r.endOfDuration)return;if(Object(h.Pb)(n.value)&&Object(h.Pb)(r.value)){if(!Object(h.y)(n.value,r.value))return}else{if(Object(h.Pb)(n.value))return;if(n.value.kind!==r.value.kind)return}return{kind:"binary",column:i,operator:h.e.IsWithin,value:n.value}}var a=U(e),c=a.value,u=a.isNegated;if(c.kind===h.g.CompareValues){var l=c.left,s=c.right,d=c.operator;if(u&&d===h.f.Equals&&s.kind===h.g.StartOfDay&&s.dateTime.kind===h.g.SpecialValue&&s.dateTime.valueKind===h.r.Timestamp){var f=C(l);if(void 0!==f)return{kind:"binary",column:f,operator:h.e.IsOnOrAfter,value:{kind:o.Today}}}var p,m=d;if(u){var g=Object(b.fb)(A,m);if(void 0===g)return;m=g}else{var O=q(l),y=q(s);if(void 0!==O&&void 0!==y){l=O,s=y;var j=J(m,void 0);if(void 0===j)return;m=j}else if(void 0!==O){l=O;var k=G(s);if(void 0===k)return;var x=J(m,k.endOfDuration);if(void 0===x){if(m!==h.f.IsGreaterOrEqualTo||!0!==k.endOfDuration)return;x=h.e.IsAfter}p=Object(h.Pb)(k.value)?k.value:{kind:k.value.kind},m=x}}var w=C(l);if(void 0!==w&&(void 0!==p||void 0!==(p=function(e){var t=C(e);if(void 0!==t)return t;switch(e.kind){case h.g.Constant:return{kind:o.Literal,value:e.value};case h.g.SpecialValue:switch(e.valueKind){case h.r.Timestamp:return{kind:o.Now}}}}(s))))return{kind:"binary",column:w,operator:m,value:p}}}function X(e){var t=e.clauses,n=S(e.elseValue,!0,!1),r=!0,i=!1,a=void 0;try{for(var o,c=t.slice().reverse()[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var u=o.value,l=u.condition,s=u.thenValue;n={kind:h.g.IfThenElse,condition:"binary"===l.kind?V(l):I(l),consequent:S(s,!0,!1),alternative:n}}}catch(d){i=!0,a=d}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}function Y(e){for(var t=[];e.kind===h.g.IfThenElse;){var n,i=e,a=i.condition,o=i.consequent,c=i.alternative;if(void 0===c)return;var u=null!==(n=Z(a))&&void 0!==n?n:z(a);if(void 0===u)return;var l=E(o);if(void 0===l||!R(l))return;t.push({condition:u,thenValue:l}),e=c}var s=E(e);if(void 0!==s&&R(s))return{kind:r.IfThenElse,clauses:t,elseValue:s}}function Q(e){var t=e.relationColumn,n=e.isMultiRelation,r=e.columnInRelation,i={kind:h.g.GetColumn,column:t},a={kind:h.g.GetColumn,column:r,contextName:"relation"};return n?{kind:h.g.MapRows,rows:i,functionContextName:"relation",function:a}:{kind:h.g.With,contextName:"relation",context:i,value:a}}function $(e){var t,n,i,a;if(e.kind===h.g.With)t=!1,n=e.context,i=e.value,a=e.contextName;else{if(e.kind!==h.g.MapRows)return;t=!0,n=e.rows,i=e.function,a=e.functionContextName}if(n.kind===h.g.GetColumn&&i.kind===h.g.GetColumn&&a===i.contextName)return{kind:r.Lookup,relationColumn:n.column,columnInRelation:i.column,isMultiRelation:t}}function ee(e){return"string"===typeof e?{kind:h.g.GetColumn,column:e}:{kind:h.g.GetTableRows,table:e}}function te(e){return e.kind===h.g.GetColumn?e.column:e.kind===h.g.GetTableRows?e.table:void 0}function ne(e){var t,n=e.tableOrRelationColumn,r=e.valueColumn,i=e.position,a=ee(n);switch(i.kind){case _.First:case _.Last:t={kind:i.kind===_.First?h.g.GetNth:h.g.GetNthLast,array:a,index:w(0)};break;case _.Random:t={kind:h.g.RandomPick,array:a};break;case _.FromStart:case _.FromEnd:t={kind:i.kind===_.FromStart?h.g.GetNth:h.g.GetNthLast,array:a,index:S(i.offset,!0,!1)};break;default:return Object(b.e)(i)}if(void 0===r)return t;return{kind:h.g.With,contextName:"first",context:t,value:{kind:h.g.GetColumn,column:r,contextName:"first"}}}function re(e){if(e.kind===h.g.GetNth||e.kind===h.g.GetNthLast){var t=te(e.array);if(void 0===t)return;var n,r=E(e.index);if(void 0===r)return;if(r.kind===a.Constant&&"number"!==typeof r.value)return;if(r.kind===a.Constant&&0===r.value)n={kind:e.kind===h.g.GetNth?_.First:_.Last};else n={kind:e.kind===h.g.GetNth?_.FromStart:_.FromEnd,offset:r};return{tableOrRelationColumn:t,position:n}}if(e.kind===h.g.RandomPick){var i=te(e.array);if(void 0===i)return;return{tableOrRelationColumn:i,position:{kind:_.Random}}}}function ie(e){if(e.kind!==h.g.With){var t=re(e);if(void 0===t)return;return Object(c.a)(Object(c.a)({kind:r.SingleValue},t),{},{valueColumn:void 0})}var n=e.context,i=e.value,a=re(n);if(void 0!==a&&i.kind===h.g.GetColumn&&e.contextName===i.contextName)return Object(c.a)(Object(c.a)({kind:r.SingleValue},a),{},{valueColumn:i.column})}function ae(e,t,n){var r=[],i=!0,a=!1,o=void 0;try{for(var c,u=function(){var e=c.value,t=n.find((function(t){return t[0]===e}));if(void 0===t)return{v:void 0};var i=t[1],a=void 0;a=i===h.r.Timestamp?{kind:h.g.SpecialValue,valueKind:h.r.Timestamp}:k(i,!1),r.push([e,a])},l=t[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var s=u();if("object"===typeof s)return s.v}}catch(d){a=!0,o=d}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return{kind:h.g.AssignVariables,assignments:r,body:e}}function oe(e){var t=e.expr,n=e.variables,r=Object(m.b)(t);if(!1!==r.success)return ae(r.formula,r.variableNames,n)}function ce(e){if(e.kind===h.g.AssignVariables){var t=e.assignments,n=e.body,i=[],a=!0,o=!1,c=void 0;try{for(var u,s=t[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var d=Object(l.a)(u.value,2),f=d[0],p=d[1],v=void 0;if(void 0===(v=p.kind===h.g.SpecialValue&&p.valueKind===h.r.Timestamp?h.r.Timestamp:C(p)))return;i.push([f,v])}}catch(g){o=!0,c=g}finally{try{a||null==s.return||s.return()}finally{if(o)throw c}}var b=Object(m.c)(n);if(void 0!==b)return{kind:r.Math,expr:b,variables:i}}}!function(e){e[e.First=0]="First",e[e.Last=1]="Last",e[e.Random=2]="Random",e[e.FromStart=3]="FromStart",e[e.FromEnd=4]="FromEnd"}(_||(_={})),function(e){e.AllTrue="all-true",e.SomeTrue="some-true",e.Sum="sum",e.CountNonEmpty="count-non-empty",e.Average="average",e.Minimum="minimum",e.Maximum="maximum",e.Earliest="earliest",e.Latest="latest",e.Range="range",e.CountTrue="count-true",e.CountNotTrue="count-not-true",e.CountUnique="count-unique"}(N||(N={}));var ue,le={[N.AllTrue]:h.m.AllTrue,[N.SomeTrue]:h.m.SomeTrue,[N.Sum]:h.m.Sum,[N.CountNonEmpty]:h.m.CountNonEmpty,[N.Average]:h.m.Average,[N.CountTrue]:h.m.CountTrue,[N.CountNotTrue]:h.m.CountNotTrue,[N.CountUnique]:h.m.CountUnique,[N.Range]:h.m.Range},se={[N.Minimum]:[h.n.Minimum,"number"],[N.Maximum]:[h.n.Maximum,"number"],[N.Earliest]:[h.n.Minimum,"date-time"],[N.Latest]:[h.n.Maximum,"date-time"]};function de(e,t){return{rows:ee(e),value:{kind:h.g.GetColumn,column:t,contextName:"value"},valueContextName:"value"}}function fe(e){var t=e.tableOrRelationColumn,n=e.valueColumn,r=e.rollupKind,i=de(t,n),a=i.rows,o=i.value,c=i.valueContextName;function u(e){return{kind:h.g.Reduce,operator:e,rows:a,valueContextName:c,value:o}}var s=le[r];if(void 0!==s)return u(s);var d=se[r];if(void 0!==d){var f=Object(l.a)(d,2),p=f[0],v=f[1];return{kind:h.g.ReduceToMemberBy,operator:p,rows:a,valueContextName:c,value:o,key:{kind:h.g.ConvertToType,typeKind:v,value:o}}}return u(h.m.CountNonEmpty)}function pe(e,t,n){if(t.kind===h.g.GetColumn&&n===t.contextName){var r=te(e);if(void 0!==r)return{tableOrRelationColumn:r,valueColumn:t.column}}}function ve(e){if(e.kind===h.g.Reduce||e.kind===h.g.ReduceToMemberBy){var t=e.rows,n=e.valueContextName,i=e.value,a=e.operator,o=pe(t,i,n);if(void 0!==o){var c,u=o.tableOrRelationColumn,l=o.valueColumn;if(e.kind===h.g.Reduce)c=Object(b.fb)(le,a);else if(e.kind===h.g.ReduceToMemberBy){var s=e.key;if(s.kind!==h.g.ConvertToType||!p()(s.value,i,{strict:!0}))return;c=Object(b.fb)(se,[a,s.typeKind],(function(e,t){return p()(e,t,{strict:!0})}))}if(void 0!==c)return{kind:r.Rollup,tableOrRelationColumn:u,valueColumn:l,rollupKind:c}}}}function he(e){var t=e.tableOrRelationColumn,n=e.valueColumn,r=e.separator,i=de(t,n),a=i.rows,o=i.value,c=i.valueContextName;return{kind:h.g.JoinStrings,rows:a,value:o,valueContextName:c,separator:S(r,!1,!0)}}function be(e){if(e.kind===h.g.JoinStrings){var t=pe(e.rows,e.value,e.valueContextName);if(void 0!==t){var n=t.tableOrRelationColumn,i=t.valueColumn,a=E(e.separator);if(void 0!==a&&M(a))return{kind:r.JoinStrings,tableOrRelationColumn:n,valueColumn:i,separator:a}}}}function me(e){var t=e.stringColumn,n=e.separator;return{kind:h.g.SplitString,string:k(t,!1),separator:S(n,!1,!0)}}function ge(e){if(e.kind===h.g.SplitString){var t=x(e.string);if(void 0!==t&&!t.withFormat){var n=E(e.separator);if(void 0!==n&&M(n))return{kind:r.SplitString,stringColumn:t.column,separator:n}}}}function Oe(e){return"here"===e?{kind:h.g.CurrentLocation}:{kind:h.g.GeocodeAddress,address:k(e,!1)}}!function(e){e.KM="km",e.Miles="Miles"}(ue||(ue={}));function ye(e){var t=e.locationColumn,n=e.otherLocationColumn,r=e.unit,i={kind:h.g.GeoDistance,left:Oe(n),right:Oe(t)};return r===ue.KM?i:r===ue.Miles?{kind:h.g.BinaryMath,fn:h.d.Multiply,left:i,right:w(.621371)}:Object(b.e)(r)}function je(e){if(e.kind===h.g.GeocodeAddress)return C(e.address)}function ke(e){if(e.kind===h.g.GeoDistance){var t=je(e.right);if(void 0!==t){var n=function(e){var t=je(e);return void 0!==t?t:e.kind===h.g.CurrentLocation?"here":void 0}(e.left);if(void 0!==n)return{locationColumn:t,otherLocationColumn:n}}}}function xe(e){var t;if(e.kind===h.g.BinaryMath&&e.fn===h.d.Multiply){if(e.right.kind!==h.g.Constant||.621371!==e.right.value)return;t=ue.Miles,e=e.left}else t=ue.KM;var n=ke(e);if(void 0!==n)return Object(c.a)(Object(c.a)({kind:r.GeoDistance},n),{},{unit:t})}function Ce(e){var t=e.input,n=e.imageKind,r=S(t,!1,!0);return{kind:h.g.GenerateImage,input:r,imageKind:w(n)}}function we(e){if(e.kind===h.g.GenerateImage){var t=e.input,n=e.imageKind,i=E(t);if(void 0!==i&&M(i)&&n.kind===h.g.Constant&&(n.value===h.h.Mesh||n.value===h.h.Triangles))return{kind:r.GenerateImage,input:i,imageKind:n.value}}}function Se(e){return e.filter((function(e){return void 0!==e[1]})).map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return{name:w(n),value:S(r,!1,!0)}}))}function Ee(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value,u=c.name,l=c.value;if(u.kind!==h.g.Constant||"string"!==typeof u.value)return;var s=E(l);if(void 0===s||!M(s))return;t.push([u.value,s])}}catch(d){r=!0,i=d}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}function Me(e){var t=e.webhookID,n=e.params;return{kind:h.g.UserAPIFetch,webhookID:w(t),params:Se(n)}}function Re(e){if(e.kind===h.g.UserAPIFetch&&void 0!==e.webhookID&&e.webhookID.kind===h.g.Constant&&"string"===typeof e.webhookID.value){var t=Ee(e.params);if(void 0!==t)return{kind:r.UserAPIFetch,webhookID:e.webhookID.value,params:t}}}function De(e){var t=e.scheme,n=e.host,r=e.path,i=e.params;return{kind:h.g.ConstructURL,scheme:S(t,!1,!1),host:S(n,!1,!1),path:S(r,!1,!1),params:Se(i)}}function Te(e){if(e.kind===h.g.ConstructURL){var t=E(e.scheme);if(void 0!==t&&M(t)){var n=E(e.host);if(void 0!==n&&M(n)){var i=E(e.path);if(void 0!==i&&M(i)){var a=Ee(e.params);if(void 0!==a)return{kind:r.ConstructURL,scheme:t,host:n,path:i,params:a}}}}}}var Pe,Ie="x",_e="containing-screen",Ne="screen",Ae={kind:h.g.GetVariable,name:Ie},Fe={kind:i.Number,decimalsAfterPoint:2,groupSeparator:!0,unit:void 0,unitAfterNumber:!0};function Le(e){return e.kind===h.g.GetVariable&&e.name===Ie}!function(e){e.DateOnly="date-only",e.TimeOnly="time-only",e.DateTime="date-time"}(Pe||(Pe={}));var Be={kind:i.DateTime,parts:Pe.DateTime,dateFormat:g.a.Medium,timeFormat:g.b.WithoutSeconds};function Ve(e){switch(e.kind){case i.Number:return function(e){var t=e.decimalsAfterPoint,n=e.groupSeparator,r=e.unit,i=e.unitAfterNumber,a={kind:h.g.FormatNumberFixed,value:{kind:h.g.GetVariable,name:Ie},decimalsAfterPoint:w(t),groupSeparator:w(n),currency:void 0};return void 0===r?a:"$"!==r||i?{kind:h.g.IfThenElse,condition:{kind:h.g.CheckValue,operator:h.u.IsNotEmpty,value:{kind:h.g.GetVariable,name:Ie}},consequent:{kind:h.g.TextTemplate,template:w(i?"NU":"UN"),replacements:[{pattern:w("N"),replacement:a},{pattern:w("U"),replacement:w(r)}]}}:Object(c.a)(Object(c.a)({},a),{},{currency:w("USD")})}(e);case i.DateTime:return function(e){var t=e.parts,n=e.dateFormat,r=e.timeFormat;return{kind:h.g.FormatDateTime,value:{kind:h.g.GetVariable,name:Ie},dateFormat:t===Pe.TimeOnly?void 0:w(n),timeFormat:t===Pe.DateOnly?void 0:w(r)}}(e);default:return Object(b.e)(e)}}function Ue(e){var t=function(e){function t(e){if(e.kind===h.g.FormatNumberFixed){var t=e.value,n=e.decimalsAfterPoint,r=e.groupSeparator,a=e.currency;if(Le(t)&&n.kind===h.g.Constant&&"number"===typeof n.value&&r.kind===h.g.Constant&&"boolean"===typeof r.value){var o={kind:i.Number,decimalsAfterPoint:n.value,groupSeparator:r.value,unit:void 0,unitAfterNumber:!0};if(void 0!==a){if(a.kind!==h.g.Constant||"USD"!==a.value)return;return Object(c.a)(Object(c.a)({},o),{},{unit:"$",unitAfterNumber:!1})}return o}}}if(e.kind!==h.g.IfThenElse)return t(e);var n=e.condition,r=e.consequent,a=e.alternative;if(n.kind===h.g.CheckValue&&n.operator===h.u.IsNotEmpty&&Le(n.value)&&void 0===a&&r.kind===h.g.TextTemplate){var o=r.template,u=r.replacements;if(o.kind===h.g.Constant){var s;if("NU"===o.value)s=!0;else{if("UN"!==o.value)return;s=!1}if(2===u.length){var d=Object(l.a)(u,2),f=d[0],p=d[1];if(f.pattern.kind===h.g.Constant&&"N"===f.pattern.value){var v=t(f.replacement);if(void 0!==v&&p.pattern.kind===h.g.Constant&&"U"===p.pattern.value&&p.replacement.kind===h.g.Constant&&"string"===typeof p.replacement.value)return Object(c.a)(Object(c.a)({},v),{},{unit:p.replacement.value,unitAfterNumber:s})}}}}}(e);if(void 0!==t)return t;var n=function(e){var t,n;if(e.kind===h.g.FormatDateTime){var r=e.value,a=e.dateFormat,o=e.timeFormat;if(r.kind===h.g.GetVariable&&r.name===Ie){var c,u;if(void 0!==a){if(a.kind!==h.g.Constant)return;c=a.value}if(void 0!==o){if(o.kind!==h.g.Constant)return;u=o.value}if(void 0!==c||void 0!==u){var l=void 0===c?Pe.TimeOnly:void 0===u?Pe.DateOnly:Pe.DateTime;return{kind:i.DateTime,parts:l,dateFormat:null!==(t=c)&&void 0!==t?t:Be.dateFormat,timeFormat:null!==(n=u)&&void 0!==n?n:Be.timeFormat}}}}}(e);return void 0!==n?n:void 0}function ze(e){return Object(h.Jb)(e)?Fe:Object(h.zb)(e)?Be:void 0}},626:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));var r,i=n(3);!function(e){e[e.Rewrite=0]="Rewrite",e[e.Default=1]="Default",e[e.UserRequest=2]="UserRequest"}(r||(r={}));var a=new Map;function o(e){var t=e.kind;Object(i.d)(!a.has(t)),a.set(t,e)}function c(e){return Object(i.n)(a.get(e))}},631:function(e,t,n){"use strict";var r,i;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),function(e){e[e.None=0]="None",e[e.Inert=1]="Inert",e[e.WrapText=2]="WrapText",e[e.InvertTitleAndSubtitle=4]="InvertTitleAndSubtitle",e[e.SwapImageSide=8]="SwapImageSide",e[e.DisableChevron=16]="DisableChevron",e[e.LargeImage=32]="LargeImage",e[e.DrawSeparator=64]="DrawSeparator",e[e.SmallImage=128]="SmallImage",e[e.ReserveImageSpace=256]="ReserveImageSpace",e[e.ReserveDetailSpace=512]="ReserveDetailSpace",e[e.ReserveCaptionSpace=1024]="ReserveCaptionSpace",e[e.BigCaption=2048]="BigCaption",e[e.TruncateWrap=4096]="TruncateWrap",e[e.DisableLongPress=8192]="DisableLongPress",e[e.LightWeight=16384]="LightWeight",e[e.ConvertNewlines=32768]="ConvertNewlines",e[e.HorizontalLayout=65536]="HorizontalLayout",e[e.ForceListStyle=131072]="ForceListStyle"}(r||(r={})),function(e){e.Left="left",e.TopRight="top-right",e.Right="right"}(i||(i={}))},633:function(e,t,n){"use strict";n.d(t,"c",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return S})),n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return M}));var r=n(10),i=n(20),a=n(4),o=n(5),c=n(99),u=n.n(c),l=n(15),s=n(39),d=n(3),f=n(14),p=n(12),v=n(684);function h(e){return"((function () { ".concat(e," })())")}function b(e){return"callbacks.".concat(e)}function m(e,t,n,r){return h("const a = ".concat(b("asMaybeNumber"),"(").concat(e,");\n    const b = ").concat(b("asMaybeNumber"),"(").concat(t,");\n    if (a === undefined || b === undefined) return undefined;\n    return ").concat(b("cleanNumber"),"(").concat(r("a","b"),");"))}function g(e){return h("const vp = ".concat(e,";\n    if (!").concat(b("isLoadedDefined"),"(vp)) return vp;\n    if (vp instanceof ").concat(b("RecomputingValueProducer"),") {\n        return vp.recompute(force);\n    } else {\n        return force(vp);\n    }"))}function O(e){return e.isVP?g(e.s):e.s}var y=function(){function e(t){var n=this;Object(a.a)(this,e),this._builder=t,this.inlinedColumnFormats=!0,this.mappedRowProps={isVP:!0},this._issues=[],this._nameCounter=0,this._varNames=new l.DefaultMap((function(){return"var"+(n._nameCounter++).toString()})),this._ctxNames=new l.DefaultMap((function(){return"ctx"+(n._nameCounter++).toString()})),this._globals=[]}return Object(o.a)(e,[{key:"notImplemented",value:function(e){this._issues.push("FIXME: not implemented: ".concat(e))}},{key:"getPropsFromResult",value:function(e){return e}},{key:"makeTmpName",value:function(){return"tmp"+(this._nameCounter++).toString()}},{key:"makeVariableName",value:function(e){return this._varNames.get(e)}},{key:"makeContextVariableName",value:function(e){return void 0===e?"outerCtx":this._ctxNames.get(e)}},{key:"addGlobal",value:function(e){var t=this.makeTmpName();return this._globals.push([t,e]),t}},{key:"constant",value:function(e){return null===e?{s:"undefined",isVP:!1}:{s:JSON.stringify(e),isVP:!1}}},{key:"assignVariables",value:function(e,t){var n=e.map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return"const ".concat(n," = ").concat(r.value.s,";")}));return{s:h("".concat(n.join("\n"),"\n        return ").concat(t.value.s,";")),isVP:t.value.isVP}}},{key:"getVariable",value:function(e,t){return{s:e,isVP:t.value.isVP}}},{key:"getColumn",value:function(e,t,n,r){return Object(f.Nb)(e.type)&&!Object(f.wb)(e)?this.notImplemented("getColumn with old-style relations"):n.isVP?{s:h("const r = ".concat(n.s,";\n            if (!").concat(b("isLoadedDefined"),"(r)) return r;\n            const ins = r.getObjectInspector(force);\n            if (!").concat(b("isLoadedDefined"),"(ins)) return ins;\n            return ins.getProperty(").concat(JSON.stringify(e.name),");")),isVP:!0}:{s:h("const co = ".concat(b("asObjectValue"),"(").concat(n.s,");\n            return co[").concat(JSON.stringify(e.name),"];")),isVP:!0}}},{key:"inContext",value:function(e,t){return{s:h("const ".concat(e," = ctx;\n        return ").concat(t.value.s,";")),isVP:t.value.isVP}}},{key:"with",value:function(e,t){return{s:"((function (ctx) {\n            return ".concat(e.value.s,";\n        })(").concat(t.value.s,"))"),isVP:e.value.isVP}}},{key:"getContextVariable",value:function(e,t,n){return t?{s:"ctx",isVP:n.isVP}:{s:e,isVP:n.isVP}}},{key:"ifThenElse",value:function(e,t,n){var r,i=t.value.isVP&&!1!==(null===n||void 0===n?void 0:n.value.isVP),a=t.value.s,o=null!==(r=null===n||void 0===n?void 0:n.value.s)&&void 0!==r?r:"undefined";return i||(t.value.isVP&&(a=g(a)),!0===(null===n||void 0===n?void 0:n.value.isVP)&&(o=g(o))),{s:h("const cond = ".concat(O(e.value),";\n        if (!").concat(b("isLoadedDefined"),"(cond)) return cond;\n        if (cond !== false) {\n            return ").concat(a,";\n        } else {\n            return ").concat(o,";\n        }")),isVP:i}}},{key:"and",value:function(e,t){return{s:h("const l = ".concat(O(e.value),";\n        if (l === null) return null;\n        if (l !== true) return false;\n        const r = ").concat(O(t.value),";\n        if (r === null) return null;\n        return r === true;")),isVP:!1}}},{key:"not",value:function(e){return{s:h("const v = ".concat(O(e.value),";\n        if (!").concat(b("isLoadedDefined"),"(v)) return v;\n        return !").concat(b("asBoolean"),"(v);")),isVP:!1}}},{key:"binaryMath",value:function(e,t,n,r,i){var a=O(t.value),o=O(r.value);switch(e){case f.d.Add:return n||i?{s:m(a,o,0,(function(e,t){return"".concat(e," + ").concat(t)})),isVP:!1}:{s:h("const a = ".concat(b("asMaybeNumber"),"(").concat(a,");\n                const b = ").concat(b("asMaybeNumber"),"(").concat(o,");\n                if (a === undefined && b === undefined) return undefined;\n                if (a === undefined) return b;\n                if (b === undefined) return a;\n                return ").concat(b("cleanNumber"),"(a + b);")),isVP:!1};case f.d.Subtract:return n?{s:m(a,o,0,(function(e,t){return"".concat(e," - ").concat(t)})),isVP:!1}:{s:h("const a = ".concat(b("asMaybeNumber"),"(").concat(a,");\n                const b = ").concat(b("asMaybeNumber"),"(").concat(o,");\n                if (a === undefined) return undefined;\n                if (b === undefined) return a;\n                return ").concat(b("cleanNumber"),"(a - b);")),isVP:!1};default:return this.notImplemented("binaryMath ".concat(e))}}},{key:"compareValues",value:function(e,t,n){var r=O(t.value),i=O(n.value);switch(e){case f.f.Equals:return{s:h("const l = ".concat(r,";\n                if (l === null) return null;\n                const r = ").concat(i,";\n                if (r === null) return null;\n                return ").concat(b("areValuesEqual"),"(l, r);")),isVP:!1};case f.f.ContainsString:return{s:h("const l = ".concat(r,";\n                if (l === null) return null;\n                const r = ").concat(i,";\n                if (r === null) return null;\n                return ").concat(b("asString"),"(l).toLowerCase().includes(").concat(b("asString"),"(r).toLowerCase());")),isVP:!1};default:return this.notImplemented("compareValues ".concat(e))}}},{key:"checkValue",value:function(e,t){switch(e){case f.u.IsNotEmpty:return{s:h("const v = ".concat(O(t.value),";\n                    if (v === null) return null;\n                    return ").concat(b("isValueNotEmpty"),"(v);")),isVP:!1};default:return Object(d.e)(e)}}},{key:"constantTextTemplate",value:function(e,t){Object(d.d)(t.size>0);var n=[],r=new Map,a=!0,o=!1,c=void 0;try{for(var u,l=t.entries()[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var s=Object(i.a)(u.value,2),f=s[0],p=s[1],v=this.makeTmpName();r.set(f,v),n.push("const ".concat(v," = ").concat(b("asString"),"(").concat(O(p),");"))}}catch(w){o=!0,c=w}finally{try{a||null==l.return||l.return()}finally{if(o)throw c}}for(var m=Array.from(t.keys()),g=new RegExp(m.map(d.t).join("|"),"g"),y=[],j=0;;){var k=g.exec(e);if(null===k)break;var x=k.index,C=k[0];y.push(JSON.stringify(e.substr(j,x-j))),j=x+C.length,y.push(Object(d.n)(r.get(C)))}return y.push(JSON.stringify(e.substr(j))),{s:h("".concat(n.join("\n"),"\n        return ").concat(y.join(" + "),";")),isVP:!1}}},{key:"splitString",value:function(e,t){return{s:h("const str = ".concat(O(e.value),";\n        if (str === null) return null;\n        const sep = ").concat(O(t.value),";\n        if (sep === null) return null;\n        if (str === undefined || sep === undefined) return undefined;\n        return ").concat(b("asString"),"(str)\n            .split(").concat(b("asString"),'(sep))\n            .map(s => s.trim())\n            .filter(s => s !== "")\n            .map(s => new ').concat(b("Constant"),"(s));")),isVP:!1}}},{key:"withDefaultFalse",value:function(e){return{s:h("const v = ".concat(O(e.value),";\n        if (!").concat(b("isLoadedDefined"),"(v)) return v;\n        return v;")),isVP:!1}}},{key:"applyColumnFormat",value:function(e,t,n){var r=Object(v.d)(this._builder,t,n);return void 0!==r?(Object(p.a)("Cannot compile display formula to JS",r),this.notImplemented("applyColumnFormat")):e.value}},{key:"constantFormatNumberFixed",value:function(e,t,n,r){var i,a=this.addGlobal("".concat(b("makeFixedNumberFormatter"),"(").concat(JSON.stringify(t),", ").concat(JSON.stringify(n),", ").concat(null!==(i=Object(l.definedMap)(r,JSON.stringify))&&void 0!==i?i:"undefined",")"));return{s:h("const v = ".concat(O(e.value),";\n        if (v === null) return null;\n        const n = ").concat(b("asMaybeNumber"),"(v);\n        if (n === undefined) return undefined;\n        const r = ").concat(a,".format(n);\n        return ").concat("USD"===r?"".concat(b("addUSD"),"(r)"):"r",";\n        ")),isVP:!1}}},{key:"formatNumberFixed",value:function(e,t,n,r){var i;return{s:h("const v = ".concat(O(e.value),";\n        const dap = ").concat(O(t.value),";\n        const gs = ").concat(O(n.value),";\n        const cur = ").concat(null!==(i=Object(l.definedMap)(null===r||void 0===r?void 0:r.value,O))&&void 0!==i?i:"undefined",";\n        if (v === null || dap === null) return null;\n        const n = ").concat(b("asMaybeNumber"),"(v);\n        if (n === undefined) return undefined;\n        if (dap === undefined) return n;\n        return ").concat(b("formatNumberFixed"),"(\n            n,\n            ").concat(b("asNumber"),"(dap),\n            ").concat(b("definedMap"),"(gs, ").concat(b("asBoolean"),") || false,\n            ").concat(b("loadedDefinedMap"),"(cur, ").concat(b("asString"),")\n        );")),isVP:!1}}},{key:"issues",get:function(){return this._issues}},{key:"globals",get:function(){return this._globals}}]),e}();var j=n(625),k=function(){function e(t){Object(a.a)(this,e),this._builder=t,this.inlinedColumnFormats=!1,this.mappedRowProps=!1,this._issues=[]}return Object(o.a)(e,[{key:"getPropsFromResult",value:function(){return!1}},{key:"makeVariableName",value:function(e){return"var-".concat(e)}},{key:"makeContextVariableName",value:function(e){return void 0===e?"outer-context":"context-".concat(e)}},{key:"constant",value:function(e){return this._builder.b.constant(e)}},{key:"getColumn",value:function(e,t,n,r){var i=this._builder.b.getProperty(e.name,n,t);return Object(f.Nb)(e.type)&&(i=this._builder.fetchLinkColumn(e,i,r)),i}},{key:"inContext",value:function(e,t){var n=this._builder.b;return n.let([[e,n.getContext]],t.value)}},{key:"getContextVariable",value:function(e,t){var n=this._builder.b;return t?n.getContext:n.getVariable(e)}},{key:"orderComparison",value:function(e,t,n){var r,i,a,o,c=this._builder.b,u=Object(v.e)(null===(r=t.type)||void 0===r?void 0:r.kind),l=Object(v.e)(null===(i=n.type)||void 0===i?void 0:i.kind);return!u||!t.typeIsPrecise||l&&n.typeIsPrecise?!l||!n.typeIsPrecise||u&&t.typeIsPrecise?(a=t.value,o=n.value):(a=c.convertToNumber(t.value),o=n.value):(a=t.value,o=c.convertToNumber(n.value)),c.builtinCall(e,[a,o])}},{key:"withDefaultFalse",value:function(e){var t=this._builder.b;return t.withDefault(e.value,t.constant(!1))}},{key:"fetchTableRows",value:function(e,t){return this._builder.fetchTableRows(e,t)}},{key:"filterRows",value:function(e,t){return this._builder.b.filter(e.value,t.value)}},{key:"mapRows",value:function(e,t){var n=this._builder.b;return n.filter(n.map(e.value,t.value),n.isDefined(n.getContext))}},{key:"reduce",value:function(e,t,n){var r=this._builder.b;switch(e){case f.m.AllTrue:return r.primitive("AllTrue",{mapper:n.value,list:t.value});case f.m.SomeTrue:return r.primitive("SomeTrue",{mapper:n.value,list:t.value});case f.m.Sum:return r.primitive("Sum",{number:n.value,list:t.value});case f.m.CountNonEmpty:return r.primitive("Count",{mapper:r.builtinCall("IsNotEmpty",[n.value]),list:t.value});case f.m.CountUnique:return r.listLength(r.uniqueAndMapValues(t.value,n.value));case f.m.CountTrue:return r.primitive("Count",{mapper:r.areEqual(n.value,r.constant(!0)),list:t.value});case f.m.CountNotTrue:return r.primitive("Count",{mapper:r.not(r.areEqual(n.value,r.constant(!0))),list:t.value});case f.m.Average:return r.builtinCall("Divide",[r.primitive("Sum",{number:n.value,list:t.value}),r.primitive("Count",{mapper:r.builtinCall("IsNotEmpty",[n.value]),list:t.value})]);case f.m.Range:return r.builtinCall("Subtract",[r.primitive("Maximum",{mapper:n.value,list:t.value,result:n.value}),r.primitive("Minimum",{mapper:n.value,list:t.value,result:n.value})]);default:return Object(d.e)(e)}}},{key:"reduceToMemberBy",value:function(e,t,n,r){var i=this._builder.b;switch(e){case f.n.Minimum:return i.primitive("Minimum",{mapper:n.value,list:t.value,result:r.value});case f.n.Maximum:return i.primitive("Maximum",{mapper:n.value,list:t.value,result:r.value});default:return Object(d.e)(e)}}},{key:"joinStrings",value:function(e,t,n){return this._builder.b.primitive("JoinStrings",{mapper:t.value,list:e.value,separator:n.value})}},{key:"splitString",value:function(e,t){return this._builder.b.builtinCall("SplitString",[e.value,t.value])}},{key:"findRow",value:function(e,t){return this._builder.b.find(e.value,t.value)}},{key:"ifThenElse",value:function(e,t,n){return this._builder.b.if(e.value,t.value,null===n||void 0===n?void 0:n.value)}},{key:"checkValue",value:function(e,t){return e===f.u.IsNotEmpty?this._builder.b.isNotEmpty(t.value):Object(d.e)(e)}},{key:"compareValues",value:function(e,t,n){var r,i,a,o=this._builder.b;switch(e){case f.f.Equals:return o.areEqual(t.value,n.value);case f.f.ContainsString:case f.f.IsContainedInString:return Object(v.f)(null===(r=t.type)||void 0===r?void 0:r.kind)&&Object(v.f)(null===(i=n.type)||void 0===i?void 0:i.kind)?e===f.f.ContainsString?o.builtinCall("ContainsString",[t.value,n.value]):o.builtinCall("ContainsString",[n.value,t.value]):void this._issues.push("Argument to ContainsString is not a string");case f.f.IsLessThan:return this.orderComparison("IsLessThan",t,n);case f.f.IsGreaterThan:return this.orderComparison("IsGreaterThan",t,n);case f.f.IsGreaterOrEqualTo:return this.orderComparison("IsGreaterOrEqualTo",t,n);case f.f.IsLessOrEqualTo:return this.orderComparison("IsLessOrEqualTo",t,n);case f.f.MatchesEmailAddress:return"array"===(null===(a=n.type)||void 0===a?void 0:a.kind)?o.primitive("Some",{list:n.value,predicate:o.areEmailsEqual(t.value,o.getContext)}):o.areEmailsEqual(t.value,n.value);default:return Object(d.e)(e)}}},{key:"getUserProfileRow",value:function(e){return e.row}},{key:"applyColumnFormat",value:function(e,t,n){return E(this._builder,e.value,t,n)}},{key:"textTemplate",value:function(e,t){return this._builder.b.replaceStrings(e.value,t)}},{key:"arrayContains",value:function(e,t){return this._builder.b.arrayContains(e.value,t.value)}},{key:"arraysOverlap",value:function(e,t){return this._builder.b.arraysOverlap(e.value,t.value)}},{key:"and",value:function(e,t){return this._builder.b.and(e.value,t.value)}},{key:"or",value:function(e,t){return this._builder.b.or(e.value,t.value)}},{key:"not",value:function(e){var t=this._builder.b;return t.not(t.convertToBoolean(e.value))}},{key:"specialValue",value:function(e){return this._builder.b.specialValue(e)}},{key:"convertToType",value:function(e,t){var n=this._builder.b;switch(t){case"number":return n.convertToNumber(e.value);case"date-time":return n.parseUserDateTime(e.value);default:return void this._issues.push("Cannot convert to type ".concat(t))}}},{key:"startOfDay",value:function(e){return this._builder.b.startOfDay(e.value)}},{key:"endOfDay",value:function(e){return this._builder.b.builtinCall("EndOfDay",[e.value])}},{key:"with",value:function(e,t){return this._builder.b.bindContextToValue(e.value,t.value)}},{key:"getNth",value:function(e,t){return this._builder.b.listNth(e.value,t.value)}},{key:"getNthLast",value:function(e,t){return this._builder.b.listNthLast(e.value,t.value)}},{key:"randomPick",value:function(e,t){var n=this._builder.b;return n.builtinCall("RandomPick",[e.value,n.constant(t)])}},{key:"isInRange",value:function(e,t,n){var r=this._builder.b;return r.let([["v",e.value]],r.and(r.isGreaterOrEqualTo(r.getVariable("v"),t.value),r.isLessThan(r.getVariable("v"),n.value)))}},{key:"assignVariables",value:function(e,t){return this._builder.b.let(e.map((function(e){var t=Object(i.a)(e,2);return[t[0],t[1].value]})),t.value)}},{key:"getVariable",value:function(e){return this._builder.b.getVariable(e)}},{key:"unaryMath",value:function(e,t){var n,r,i=this._builder.b,a=!1;switch(e){case f.s.Negate:n="Negate";break;case f.s.Absolute:n="Absolute";break;case f.s.Floor:n="Floor";break;case f.s.Ceiling:n="Ceiling";break;case f.s.Round:n="Round";break;case f.s.Sign:n="Sign";break;case f.s.Truncate:n="Truncate";break;case f.s.Sine:n="Sine";break;case f.s.Cosine:n="Cosine";break;case f.s.Tangent:n="Tangent";break;case f.s.ArcSine:n="ArcSine";break;case f.s.ArcCosine:n="ArcCosine";break;case f.s.ArcTangent:n="ArcTangent";break;case f.s.Year:n="DecomposeDateTime",r="year",a=!0;break;case f.s.Month:n="DecomposeDateTime",r="month",a=!0;break;case f.s.Day:n="DecomposeDateTime",r="day",a=!0;break;case f.s.Hour:n="DecomposeDateTime",r="hour",a=!0;break;case f.s.Minute:n="DecomposeDateTime",r="minute",a=!0;break;case f.s.Second:n="DecomposeDateTime",r="second",a=!0;break;case f.s.Weekday:n="DecomposeDateTime",r="weekday",a=!0;break;case f.s.WeekNumber:n="DecomposeDateTime",r="weekNumber",a=!0;break;default:return Object(d.e)(e)}var o=t.value;a&&(o=i.parseUserDateTime(o));var c=i.builtinCall(n,[o]);return void 0!==r&&(c=i.getNonTableProperty(r,c)),c}},{key:"binaryMath",value:function(e,t,n,r,i){var a;switch(e){case f.d.Add:a=n||i?"AddToConstant":"Add";break;case f.d.Subtract:a=n?"SubtractFromConstant":"Subtract";break;case f.d.Multiply:a="Multiply";break;case f.d.Divide:a="Divide";break;case f.d.Modulo:a="Modulo";break;case f.d.Minimum:a="Minimum2";break;case f.d.Maximum:a="Maximum2";break;case f.d.Power:a="Power";break;case f.d.Logarithm:a="Logarithm";break;case f.d.ArcTangent2:a="ArcTangent2";break;case f.d.Round:a="Round";break;case f.d.Truncate:a="Truncate";break;default:return Object(d.e)(e)}return this._builder.b.builtinCall(a,[t.value,r.value])}},{key:"subtractDates",value:function(e,t){var n=this._builder.b;return n.builtinCall("SubtractDates",[n.parseUserDateTime(e.value),n.parseUserDateTime(t.value)])}},{key:"addDurationToDate",value:function(e,t,n){var r=this._builder.b,i=t.value;return n&&(i=r.builtinCall("Negate",[i])),r.builtinCall("AddDurationToDate",[r.parseUserDateTime(e.value),i])}},{key:"formatNumberFixed",value:function(e,t,n,r){var i=[e.value,t.value,n.value];return void 0!==r&&i.push(r.value),this._builder.b.builtinCall("FormatNumberFixed",i)}},{key:"formatDateTime",value:function(e,t,n){var r,i,a=this._builder.b,o=[a.parseUserDateTime(e.value),null!==(r=null===t||void 0===t?void 0:t.value)&&void 0!==r?r:a.constant(null),null!==(i=null===n||void 0===n?void 0:n.value)&&void 0!==i?i:a.constant(null)];return a.builtinCall("FormatDateTime",o)}},{key:"currentLocation",value:function(){return this._builder.b.currentLocation()}},{key:"geocodeAddress",value:function(e,t){return this._builder.b.lookupGeoAddress(e.value,t)}},{key:"geoDistance",value:function(e,t){return this._builder.b.builtinCall("GeoDistance",[e.value,t.value])}},{key:"generateImage",value:function(e,t){return this._builder.b.builtinCall("GenerateImage",[e.value,t.value])}},{key:"userAPIFetch",value:function(e,t){return this._builder.b.builtinCall("UserAPIFetch",[this._builder.b.constant(e),this._builder.b.list(t)])}},{key:"constructURL",value:function(e,t,n,r){return this._builder.b.builtinCall("ConstructURL",[e.value,t.value,n.value,this._builder.b.list(r)])}},{key:"issues",get:function(){return this._issues}}]),e}();function x(e,t,n){return"array"===n.kind?e.map(t,e.convertToLocaleAgnosticString(e.getContext)):e.convertToLocaleAgnosticString(t)}function C(e,t,n,a,o,c,l,d){if(void 0!==t){var h=function(e,t,n,r){var i=Object(j.n)(t);if(void 0!==i){var a=i.multiple,o=i.targetTable,c=i.targetColumn,l=i.hostColumn,s=Object(f.lb)(n,l);if(void 0!==s){var d=Object(f.O)(e.schema,o);if(void 0!==d){var p=Object(f.lb)(d,c);if(void 0!==p){var v=e.b,h=v.primitive("FilterWhereIdentical",{indexName:v.constant("ident:".concat(u()(o.name),":").concat(u()(c),":").concat(r.toString())),rows:e.fetchTableRows(o,r),keyForRow:x(v,v.getProperty(c,v.getContext,d),p.type),needle:x(v,v.getProperty(l,v.getContext,n),s.type)}),b=Object(f.Yb)(d);return a?b=Object(f.Ub)(b):h=v.listNth(h,0),{success:!0,value:h,type:b,typeIsPrecise:!0,geocodeQuotaKeys:new Set}}}}}}(e,n,t,o);if(void 0!==h)return h}var m=new k(e),g=Object(v.b)(m,e,t,!1,n,o,c,l,d);if(!g.success)return g;var C=u()(JSON.stringify(n)+o.toString()),w="Formula".concat(C);if(Object(s.a)("compileFormulaToJS")){var S,E=e.getCompiledJSCode(w);if(!1!==E)if(void 0===E)if(void 0!==(E=function(e,t,n,r,a,o){var c,u=new y(e),l=Object(v.b)(u,e,t,{isVP:!0},n,r,a);if(l.success){var s="class ".concat(o," extends ").concat(b("RecomputingValueProducer"),' {\n        constructor(ctx) {\n            super();\n            this.ctx = ctx;\n        }\n        recompute(force) {\n            try {\n                if (currentlyRecomputing) {\n                    console.trace("Seems like we\'re doing a recursive computation - aborting");\n                    return undefined;\n                }\n                currentlyRecomputing = true;\n                const ctx = this.ctx;\n                return ').concat(O(l.value),";\n            } finally {\n                currentlyRecomputing = false;\n            }\n        }    \n    }"),d="class ".concat(o,"Evaluable {\n        evalInEnvironment(env, ctx) {\n            return new ").concat(o,"(ctx);\n        }\n\n        static get spec() {\n            return [").concat(JSON.stringify(o),', "evaluable"];\n        }\n    }'),f="(function (callbacks) {\n        let currentlyRecomputing = false;\n        ".concat(u.globals.map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return"const ".concat(n," = ").concat(r,";")})).join("\n"),"\n        ").concat(s,"\n        ").concat(d,"\n        ").concat(b("registerDeserializable"),"(").concat(o,"Evaluable);\n    })");Object(p.b)("new formula",o,n,f);var h=e.b.primitive(o,{});return null===(c=e.setCompiledJavaScript)||void 0===c||c.call(e,o,f,h),h}Object(p.a)("Could not compile formula to JS",l)}(e,t,n,o,c,w)))g=Object(r.a)(Object(r.a)({},g),{},{value:E});else null===(S=e.setCompiledJSFailed)||void 0===S||S.call(e,w);else g=Object(r.a)(Object(r.a)({},g),{},{value:E})}return a&&Object(v.a)(n,[],[])&&(g=Object(r.a)(Object(r.a)({},g),{},{value:e.b.global(C,g.value)})),g}function w(e,t,n,i,a){var o,c;void 0!==a&&(Object(d.d)(void 0!==i),o=[[j.j,Object(f.nb)(i),j.k,!1]],c=[[j.k,a]]);var u=C(e,t,n,!1,!1,"compileFilter shouldn't need unique IDs",void 0,o);return void 0!==c&&u.success?Object(r.a)(Object(r.a)({},u),{},{value:e.b.let(c,u.value)}):u}function S(e,t,n,r){if(void 0!==r){if(e.isBuilder){var i=e.b;return i.builtinCall("WithColumnFormatInBuilder",[i.constant("default"),i.constant(Object(f.nb)(n).name),i.constant(r.name),t])}var a=Object(v.d)(e,n,r);if(void 0!==a){var o=C(e,void 0,a,!1,!1,"compileDisplayFormula shouldn't need unique IDs",[[j.t,{value:t,type:r.type,typeIsPrecise:!1}]]);return o.success?o.value:(e.error("Could not compile display formula ".concat(o.issues.join(", "))),t)}}}function E(e,t,n,r){var i;return null!==(i=S(e,t,n,r))&&void 0!==i?i:t}function M(e,t,n,r){var i=e.b;return E(e,i.getProperty(n,null!==r&&void 0!==r?r:i.getContext,t),t,Object(l.definedMap)(t,(function(e){return Object(f.lb)(e,n)})))}},663:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(10),i=n(20),a=n(115),o=n.n(a),c=n(6),u=n(14),l=n(626),s=n(146),d=n(3),f=n(38),p=n(597),v=n(204),h=n(595),b=n(637);function m(e){var t=Object(p.i)(e);if(void 0===t)return e;var n=e.filter((function(e){return e!==t}));return n.push(t),n}function g(e,t,n,a,p,g,O,y,j){var k=arguments.length>9&&void 0!==arguments[9]&&arguments[9],x=a===n;function C(){Object(d.d)(!O)}var w=Object(c.definedMap)(e(a),m);if(void 0===w){if(!O)return C();w=[]}var S=Array.from(w);function E(t,n,r){var l=!1;if(r.kind===u.l.Enum&&Object(d.ub)(r.changesDescriptor))l=!0;else{var s=!0,v=!1,h=void 0;try{for(var y,j=o()(t)[Symbol.iterator]();!(s=(y=j.next()).done);s=!0){var k=Object(i.a)(y.value,2)[1];if(Object(c.hasOwnProperty)(k,"kind"))if(k.kind===u.l.Column){var x=Object(f.l)(k);if(void 0===x)continue;var C=Object(b.a)(g,x,p.input,void 0);if(void 0===C)continue;if(Object(u.Nb)(C.type)){l=!0;break}}else if(k.kind===u.l.Table){l=!0;break}}}catch(M){v=!0,h=M}finally{try{s||null==j.return||j.return()}finally{if(v)throw h}}}if(!l)return!0;if(void 0===(w=Object(c.definedMap)(e(a),m))){if(!O)return!1;w=[]}var E=w.findIndex((function(e){return Object(u.x)(e.property,n.property)}));return Object(d.d)(E>=0),S=w.slice(E+1),!0}function M(e,t,i){return a=Object(r.a)(Object(r.a)({},a),e),x&&(n=a),E(e,t,i)}function R(){return Object(h.d)(Object(d.n)(w),a,p)}var D=new Set(Object(c.definedMap)(j,(function(e){return Array.from(e)}))),T=new Set,P=function(){var e=S.shift();if(void 0===e)return"break";if(O&&!0===e.doNotRewrite)return"continue";for(var r=!1;;){var i=Object(s.l)(a,e),o=Object(c.definedMap)(i,(function(t){return Object(v.k)(t,e)}));if(void 0===o&&(o=Object(s.o)(e)?Object(d.n)(e.cases[0]):e),void 0!==i&&O){if(!O)return{v:C()};var u=Object(l.b)(o.kind).rewriteWithCase(e,o,i,n,a,p,y,k,g);if(void 0===u)break;if(!M(u,e,o))return{v:C()};if(!r&&void 0===Object(s.l)(a,e)){r=!0;continue}}else{var f=Object(l.b)(o.kind).defaultUpdateForPropertyCase(e,n,a,o,D,T,p,y,g,t,R);if(void 0!==f){if(!M(f,e,o)){if(O)break;return{v:C()}}}else{if(!k){if(O)break;return{v:C()}}if(!M(Object(s.z)(e.property,a,void 0,void 0),e,o))return{v:C()}}}break}};e:for(;;){var I=P();switch(I){case"break":break e;case"continue":continue;default:if("object"===typeof I)return I.v}}return a}},666:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return m}));var r=n(16),i=n(22);function a(){var e=Object(r.a)(["\n    ",";\n    transition: transform 0.3s;\n\n    .show & {\n        transform: unset;\n    }\n\n    .hidden & {\n        transform: translateY(100%);\n    }\n"]);return a=function(){return e},e}function o(){var e=Object(r.a)(["\n    position: relative;\n    overflow: hidden;\n    transition: transform 0.3s;\n\n    .show & {\n        transform: unset;\n    }\n\n    .hidden & {\n        transform: translateY(-100%);\n    }\n"]);return o=function(){return e},e}function c(){var e=Object(r.a)(["\n    width: 100%;\n    overflow: hidden;\n    position: relative;\n    padding: 0 ","px 0;\n\n    .graph-description {\n        color: ",";\n        margin-bottom: ","px;\n    }\n\n    .graph-description:last-child {\n        margin-bottom: 0;\n    }\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)([""]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n    width: 12px;\n    height: 12px;\n    border-radius: 2px;\n    margin-right: 12px;\n    background-color: ",";\n\n    flex-shrink: 0;\n"]);return l=function(){return e},e}function s(){var e=Object(r.a)(["\n    margin-top: 4px;\n\n    .legend-item {\n        border-bottom: 1px solid ",";\n        height: 35px;\n        width: 100%;\n        display: flex;\n        align-items: center;\n        color: ",";\n    }\n\n    .legend-value {\n        margin-left: auto;\n        font-weight: 600;\n    }\n\n    .legend-title {\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n    }\n"]);return s=function(){return e},e}function d(){var e=Object(r.a)(["\n    display: flex;\n    justify-content: ",";\n    align-items: center;\n    padding: 0 16px;\n\n    margin-bottom: ","px;\n\n    cursor: pointer;\n\n    .chart-title {\n        ",";\n        color: ",";\n    }\n\n    .chart-title:not(:last-child) {\n        padding-right: ","px;\n    }\n"]);return d=function(){return e},e}var f=i.i.div(d(),(function(e){return e.isCentered?"center":"space-between"}),(function(e){return e.isCentered?12:8}),(function(e){return e.theme.fontStyles.AccentHeader3}),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.pageMarginMedium/2})),p=i.i.div(s(),(function(e){return e.theme.separatorColor}),(function(e){return e.theme.fgColorOpaque})),v=i.i.div(l(),(function(e){return e.color})),h=(i.i.div(u()),i.i.div(c(),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.fgColorMedium}),(function(e){return e.theme.pageMarginMedium/2}))),b=i.i.div(o()),m=i.i.div(a(),(function(e){return e.theme.fontStyles.Body5}))},678:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(4),i=n(5),a=n(9),o=n(21),c=n(13),u=n(0),l=n(666),s=n(105);var d=function(e){Object(a.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(c.a)(e);if(t()){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.showDetails,n=e.caption,r=e.chartData,i=e.isSingleSeries,a=e.seriesData;return u.createElement(u.Fragment,null,u.createElement(l.c,{className:"".concat(t?"show":"hidden")},u.createElement(l.b,null,u.createElement(l.d,null,t&&u.createElement(u.Fragment,null,u.createElement(l.f,null,n&&u.createElement("div",{className:"graph-description"},n),!i&&a?Object.keys(a).map((function(e,t){return u.createElement("div",{className:"legend-item",key:t},u.createElement(l.e,{color:a[e]}),u.createElement("div",{className:"legend-title"},e))})):r&&r.map((function(e,t){var n;return u.createElement("div",{className:"legend-item",key:t},u.createElement(l.e,{color:e.color}),u.createElement("div",{className:"legend-title"},e.title),u.createElement("div",{className:"legend-value"},null!==(n=e.displayValue)&&void 0!==n?n:Object(s.b)(e.value)))}))))))))}}]),n}(u.Component)},684:function(e,t,n){"use strict";n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return y})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return E})),n.d(t,"g",(function(){return M}));var r=n(29),i=n(10),a=n(20),o=n(99),c=n.n(o),u=n(15),l=n(46),s=n.n(l),d=n(263),f=n.n(d),p=n(12),v=n(3),h=n(14),b=n(637),m=n(625);function g(e){return void 0!==e&&("lat-long"!==e.kind&&Object(h.Lb)(e))}function O(e){return"lat-long"!==e&&Object(h.Qb)(e)}function y(e){return void 0!==e&&"lat-long"!==e&&Object(h.Jb)(e)}function j(e){return"lat-long"!==e.kind&&Object(h.yb)(e)}var k={[h.m.AllTrue]:"boolean",[h.m.SomeTrue]:"boolean",[h.m.Sum]:"number",[h.m.CountNonEmpty]:"number",[h.m.CountUnique]:"number",[h.m.CountTrue]:"number",[h.m.CountNotTrue]:"number",[h.m.Average]:"number",[h.m.Range]:"number"};function x(e,t,n,o,l,d,b,x,C){var w,S,M,R=t.schema,D=[],T=[],P=new Set,I=[],_=[];function N(t,n,r,i){var o;Object(v.d)(I.findIndex((function(e){return Object(a.a)(e,1)[0]===t}))<0),I.push([t,n,r]);var c=i();if(I.pop(),void 0!==c){var u=e.makeContextVariableName(null===(o=f()(I))||void 0===o?void 0:o[0]);return{value:e.inContext(u,c),type:c.type,typeIsPrecise:c.typeIsPrecise}}}function A(e){D.push(e)}function F(t){if(void 0===t)return void 0===n||void 0===o?A("No table given"):{table:n,value:e.getContextVariable(e.makeContextVariableName(void 0),0===I.length,o)};var r=I.find((function(e){return Object(a.a)(e,1)[0]===t}));if(void 0!==r)return{table:r[1],value:e.getContextVariable(e.makeContextVariableName(r[0]),r===f()(I),r[2])};var i=null===C||void 0===C?void 0:C.find((function(e){return Object(a.a)(e,1)[0]===t}));if(void 0!==i){var c=Object(a.a)(i,4),u=c[1],l=c[2],s=c[3],d=Object(h.O)(R,u);return void 0===d?A("Table ".concat(u.name," does not exist")):{table:d,value:e.getContextVariable(l,!1,s)}}return A("Context ".concat(t," is not defined"))}function L(e){if("lat-long"===e.kind||!Object(h.Ob)(e))return A("Expected table ref type but got ".concat(e.kind));var t=Object(h.O)(R,e);return void 0===t&&D.push("Table ".concat(Object(h.ob)(e).name," does not exist")),t}function B(e){return"array"!==e.kind?A("Expected array type but got ".concat(e.kind)):L(e.items)}function V(t,n){var r,a,o=H(t);if(void 0!==o)return"boolean"!==(null===(r=o.type)||void 0===r?void 0:r.kind)?A("Condition is not boolean but is ".concat(null===(a=o.type)||void 0===a?void 0:a.kind)):n?Object(i.a)(Object(i.a)({},o),{},{value:e.withDefaultFalse(o)}):o}function U(e,t,n){if(void 0!==e)return{value:e,type:t,typeIsPrecise:n};0===D.length&&D.push("Code generator doesn't support formula")}function z(e,t,n){return U(e,{kind:t},n)}function W(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c,u,l=a.value,s=H(l.name),d=H(l.value);if(void 0===s||void 0===d)return;if(!g(s.type))return A("Name must be primitive, but is ".concat(null===(c=s.type)||void 0===c?void 0:c.kind));if(!g(d.type))return A("Value must be primitive, but is ".concat(null===(u=d.type)||void 0===u?void 0:u.kind));t.push(s.value,d.value)}}catch(f){r=!0,i=f}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}function H(n){var r,i;if(void 0===n)return Object(p.c)("Formula is undefined"),A("Internal error: formula is undefined");switch(n.kind){case h.g.GetTableRows:var o,l=Object(h.O)(R,n.table);return void 0===l?A("Table ".concat(n.table.name," does not exist")):U(null===(o=e.fetchTableRows)||void 0===o?void 0:o.call(e,n.table,d),Object(h.Ub)(Object(h.Yb)(l)),!0);case h.g.FilterRows:var f=H(n.rows);if(void 0===f)return;var x=Object(u.definedMap)(f.type,B);if(void 0===x)return;return N(n.predicateContextName,x,e.mappedRowProps,(function(){var t,r=V(n.predicate,!1);if(void 0!==r)return U(null===(t=e.filterRows)||void 0===t?void 0:t.call(e,f,r),f.type,f.typeIsPrecise)}));case h.g.MapRows:var C=H(n.rows);if(void 0===C)return;var w=Object(u.definedMap)(C.type,B);if(void 0===w)return;return N(n.functionContextName,w,e.mappedRowProps,(function(){var t,r=H(n.function);if(void 0!==(null===r||void 0===r?void 0:r.type))return"array"===r.type.kind?A("Cannot map to an array of arrays"):"lat-long"===r.type.kind?A("Cannot map to an array of lat-long"):U(null===(t=e.mapRows)||void 0===t?void 0:t.call(e,C,r),Object(h.Ub)(r.type),r.typeIsPrecise)}));case h.g.Reduce:var S=H(n.rows);if(void 0===S)return;var M=Object(u.definedMap)(S.type,B);if(void 0===M)return;return N(n.valueContextName,M,e.mappedRowProps,(function(){var t,r=H(n.value);if(void 0!==r)return z(null===(t=e.reduce)||void 0===t?void 0:t.call(e,n.operator,S,r),k[n.operator],!0)}));case h.g.ReduceToMemberBy:var I=H(n.rows);if(void 0===I)return;var K=Object(u.definedMap)(I.type,B);if(void 0===K)return;return N(n.valueContextName,K,e.mappedRowProps,(function(){var t,r=H(n.value),i=H(n.key);if(void 0!==r&&void 0!==i)return U(null===(t=e.reduceToMemberBy)||void 0===t?void 0:t.call(e,n.operator,I,i,r),r.type,r.typeIsPrecise)}));case h.g.JoinStrings:var q=H(n.rows);if(void 0===q)return;var G=Object(u.definedMap)(q.type,B);if(void 0===G)return;var J=H(n.separator);if(void 0===J)return;return N(n.valueContextName,G,e.mappedRowProps,(function(){var t,r=H(n.value);if(void 0!==r)return z(null===(t=e.joinStrings)||void 0===t?void 0:t.call(e,q,r,J),"string",!0)}));case h.g.SplitString:var Z=H(n.string);if(void 0===Z)return;var X=H(n.separator);if(void 0===X)return;return U(e.splitString(Z,X),{kind:"array",items:{kind:"string"}},!0);case h.g.FindRow:var Y=H(n.rows);if(void 0===Y)return;var Q=Object(u.definedMap)(Y.type,B);if(void 0===Q)return;return N(n.predicateContextName,Q,e.mappedRowProps,(function(){var t,r=V(n.predicate,!1);if(void 0!==r)return U(null===(t=e.findRow)||void 0===t?void 0:t.call(e,Y,r),Object(h.Yb)(Q),!0)}));case h.g.IfThenElse:var $=V(n.condition,!0),ee=H(n.consequent);if(void 0===$||void 0===ee)return;var te,ne,re=Object(u.definedMap)(n.alternative,H);if(void 0!==n.alternative&&void 0===re)return;if(void 0===re)te=ee.type,ne=ee.typeIsPrecise;else if(s()(ee.type,re.type,{strict:!0}))te=ee.type,ne=ee.typeIsPrecise&&re.typeIsPrecise;else{if(void 0!==ee.type&&!g(ee.type)||void 0!==re.type&&!g(re.type))return A("Incompatible types for if-then-else");te={kind:"string"},ne=!1}return U(e.ifThenElse($,ee,re),te,ne);case h.g.CheckValue:var ie=H(n.value);if(void 0===ie)return;switch(n.operator){case h.u.IsNotEmpty:return{value:e.checkValue(n.operator,ie),type:{kind:"boolean"},typeIsPrecise:!0};default:return Object(v.e)(n)}case h.g.CompareValues:var ae=H(n.left),oe=H(n.right);if(void 0===ae||void 0===oe)return;var ce=e.compareValues(n.operator,ae,oe);if(void 0===ce)return;return{value:ce,type:{kind:"boolean"},typeIsPrecise:!0};case h.g.Constant:var ue={kind:typeof n.value};return Object(h.Lb)(ue)?{value:e.constant(n.value),type:ue,typeIsPrecise:!0}:A("Constant type is not primitive but ".concat(typeof n.value));case h.g.Empty:return{value:e.constant(null),type:void 0,typeIsPrecise:!0};case h.g.GetColumn:var le,se=F(n.contextName);if(void 0===se)return;var de=Object(h.lb)(se.table,n.column);if(void 0===de)return A("Column ".concat(n.column," not found"));var fe=null===(le=Object(h.H)(de.type))||void 0===le?void 0:le.tableRef;void 0!==fe&&t.registerTableUsed(Object(h.ob)(fe));var pe=e.getColumn(de,se.table,se.value,d);if(void 0===pe)return;return{value:pe,type:de.type,typeIsPrecise:Object(h.wb)(de)||!Object(h.Lb)(de.type)};case h.g.GetUserProfileRow:var ve,he=t.makeUserProfileRow();return void 0===he?A("No user profile table"):U(null===(ve=e.getUserProfileRow)||void 0===ve?void 0:ve.call(e,he),Object(h.Yb)(he.table),!0);case h.g.ApplyColumnFormat:var be=F(n.contextName);if(void 0===be)return;var me=Object(h.lb)(be.table,n.column);if(void 0===me)return A("Column ".concat(n.column," not found"));var ge=H(n.value);if(void 0===ge)return;if(e.inlinedColumnFormats&&!t.isBuilder){var Oe=E(t,be.table,me);if(void 0===Oe)return ge;var ye=e.makeVariableName(m.t);_.unshift(new Map([[m.t,ge]]));var je=H(Oe);if(_.shift(),void 0!==je)return z(e.assignVariables([[ye,ge]],je),"string",!1)}return z(e.applyColumnFormat(ge,be.table,me),"string",!1);case h.g.TextTemplate:var ke,xe,Ce=H(n.template);if(void 0===Ce)return;if(!O(null===(ke=Ce.type)||void 0===ke?void 0:ke.kind))return A("Template must be string type, but is ".concat(null===(xe=Ce.type)||void 0===xe?void 0:xe.kind));var we,Se,Ee=[],Me=new Map,Re=!0,De=!0,Te=!1,Pe=void 0;try{for(var Ie,_e=n.replacements[Symbol.iterator]();!(De=(Ie=_e.next()).done);De=!0){var Ne,Ae,Fe=Ie.value,Le=H(Fe.pattern),Be=H(Fe.replacement);if(void 0===Le||void 0===Be)return;if(!g(Le.type))return A("Pattern must be primitive, but is ".concat(null===(Ne=Le.type)||void 0===Ne?void 0:Ne.kind));if(!g(Be.type))return A("Replacement must be primitive, but is ".concat(null===(Ae=Be.type)||void 0===Ae?void 0:Ae.kind));if(Fe.pattern.kind===h.g.Constant&&"string"===typeof Fe.pattern.value){if(""===Fe.pattern.value)continue;Me.set(Fe.pattern.value,Be.value)}else Re=!1;Ee.push(Le.value,Be.value)}}catch(Kn){Te=!0,Pe=Kn}finally{try{De||null==_e.return||_e.return()}finally{if(Te)throw Pe}}if(0===Ee.length)we=Ce.value;else if(Re&&n.template.kind===h.g.Constant&&"string"===typeof n.template.value){var Ve;we=null===(Ve=e.constantTextTemplate)||void 0===Ve?void 0:Ve.call(e,n.template.value,Me)}if(void 0===we)we=null===(Se=e.textTemplate)||void 0===Se?void 0:Se.call(e,Ce,Ee);return z(we,"string",!0);case h.g.ArrayContains:var Ue,ze,We,He=H(n.array),Ke=H(n.item);if(void 0===He||void 0===Ke)return;return"array"!==(null===(Ue=He.type)||void 0===Ue?void 0:Ue.kind)?A("ArrayContains array argument is not an array, but is ".concat(null===(We=He.type)||void 0===We?void 0:We.kind)):z(null===(ze=e.arrayContains)||void 0===ze?void 0:ze.call(e,He,Ke),"boolean",!0);case h.g.ArraysOverlap:var qe,Ge,Je,Ze,Xe,Ye=H(n.left),Qe=H(n.right);if(void 0===Ye||void 0===Qe)return;return"array"!==(null===(qe=Ye.type)||void 0===qe?void 0:qe.kind)?A("ArraysOverlap left argument is not an array, but is ".concat(null===(Ze=Ye.type)||void 0===Ze?void 0:Ze.kind)):"array"!==(null===(Ge=Qe.type)||void 0===Ge?void 0:Ge.kind)?A("ArraysOverlap right argument is not an array, but is ".concat(null===(Xe=Ye.type)||void 0===Xe?void 0:Xe.kind)):z(null===(Je=e.arraysOverlap)||void 0===Je?void 0:Je.call(e,Ye,Qe),"boolean",!0);case h.g.And:case h.g.Or:var $e,et,tt,nt,rt,it=H(n.left),at=H(n.right);if(void 0===it||void 0===at)return;return"boolean"!==(null===($e=it.type)||void 0===$e?void 0:$e.kind)?A("And/Or left argument is not an array, but is ".concat(null===(nt=it.type)||void 0===nt?void 0:nt.kind)):"boolean"!==(null===(et=at.type)||void 0===et?void 0:et.kind)?A("And/Or right argument is not an array, but is ".concat(null===(rt=at.type)||void 0===rt?void 0:rt.kind)):z(n.kind===h.g.And?e.and(it,at):null===(tt=e.or)||void 0===tt?void 0:tt.call(e,it,at),"boolean",!0);case h.g.Not:var ot,ct,ut=H(n.value);if(void 0===ut)return;return"boolean"!==(null===(ot=ut.type)||void 0===ot?void 0:ot.kind)?A("Not argument is not a boolean, but is ".concat(null===(ct=ut.type)||void 0===ct?void 0:ct.kind)):{value:e.not(ut),type:{kind:"boolean"},typeIsPrecise:!0};case h.g.SpecialValue:return z(null===(r=e.specialValue)||void 0===r?void 0:r.call(e,n.valueKind),h.jc[n.valueKind],!0);case h.g.ConvertToType:var lt,st,dt=H(n.value);if(void 0===dt)return;return g(dt.type)?z(null===(lt=e.convertToType)||void 0===lt?void 0:lt.call(e,dt,n.typeKind),n.typeKind,!0):A("Argument to type conversion is not a primitive, but is ".concat(null===(st=dt.type)||void 0===st?void 0:st.kind));case h.g.StartOfDay:var ft,pt,vt,ht=H(n.dateTime);if(void 0===ht)return;return"date-time"!==(null===(ft=ht.type)||void 0===ft?void 0:ft.kind)?A("Argument to start of day is not a date-time, but is ".concat(null===(vt=ht.type)||void 0===vt?void 0:vt.kind)):z(null===(pt=e.startOfDay)||void 0===pt?void 0:pt.call(e,ht),"date-time",!0);case h.g.EndOfDay:var bt,mt,gt,Ot=H(n.dateTime);if(void 0===Ot)return;return"date-time"!==(null===(bt=Ot.type)||void 0===bt?void 0:bt.kind)?A("Argument to end of day is not a date-time, but is ".concat(null===(gt=Ot.type)||void 0===gt?void 0:gt.kind)):z(null===(mt=e.endOfDay)||void 0===mt?void 0:mt.call(e,Ot),"date-time",!0);case h.g.With:var yt=H(n.context);if(void 0===(null===yt||void 0===yt?void 0:yt.type))return;var jt=L(yt.type);if(void 0===jt)return;return N(n.contextName,jt,e.getPropsFromResult(yt.value),(function(){var t=H(n.value);if(void 0!==t)return{value:e.with(t,yt),type:t.type,typeIsPrecise:t.typeIsPrecise}}));case h.g.GetNth:case h.g.GetNthLast:var kt,xt,Ct,wt,St,Et,Mt=H(n.array),Rt=H(n.index);if(void 0===Mt||void 0===Rt)return;return"array"!==(null===(kt=Mt.type)||void 0===kt?void 0:kt.kind)?A("Value to get nth from must be array, but is ".concat(null===(St=Mt.type)||void 0===St?void 0:St.kind)):y(null===(xt=Rt.type)||void 0===xt?void 0:xt.kind)?U(n.kind===h.g.GetNth?null===(Ct=e.getNth)||void 0===Ct?void 0:Ct.call(e,Mt,Rt):null===(wt=e.getNthLast)||void 0===wt?void 0:wt.call(e,Mt,Rt),Mt.type.items,Mt.typeIsPrecise):A("Array index is not a number, but is ".concat(null===(Et=Rt.type)||void 0===Et?void 0:Et.kind));case h.g.RandomPick:var Dt,Tt,Pt,It=H(n.array);if(void 0===It)return;return"array"!==(null===(Dt=It.type)||void 0===Dt?void 0:Dt.kind)?A("Value to get random pick from must be array, but is ".concat(null===(Pt=It.type)||void 0===Pt?void 0:Pt.kind)):U(null===(Tt=e.randomPick)||void 0===Tt?void 0:Tt.call(e,It,b),It.type.items,It.typeIsPrecise);case h.g.IsInRange:var _t,Nt=H(n.value),At=H(n.start),Ft=H(n.end);if(void 0===Nt||void 0===At||void 0===Ft)return;return z(null===(_t=e.isInRange)||void 0===_t?void 0:_t.call(e,Nt,At,Ft),"boolean",!0);case h.g.AssignVariables:var Lt=new Map,Bt=[],Vt=!0,Ut=!1,zt=void 0;try{for(var Wt,Ht=n.assignments[Symbol.iterator]();!(Vt=(Wt=Ht.next()).done);Vt=!0){var Kt=Object(a.a)(Wt.value,2),qt=Kt[0],Gt=H(Kt[1]);if(void 0===Gt)return;Lt.set(qt,Gt),Bt.push([e.makeVariableName(qt),Gt])}}catch(Kn){Ut=!0,zt=Kn}finally{try{Vt||null==Ht.return||Ht.return()}finally{if(Ut)throw zt}}_.unshift(Lt);var Jt=H(n.body);if(_.shift(),void 0===Jt)return;return{value:e.assignVariables(Bt,Jt),type:Jt.type,typeIsPrecise:Jt.typeIsPrecise};case h.g.GetVariable:var Zt=!0,Xt=!1,Yt=void 0;try{for(var Qt,$t=_[Symbol.iterator]();!(Zt=(Qt=$t.next()).done);Zt=!0){var en=Qt.value.get(n.name);if(void 0!==en)return{value:e.getVariable(e.makeVariableName(n.name),en),type:en.type,typeIsPrecise:en.typeIsPrecise}}}catch(Kn){Xt=!0,Yt=Kn}finally{try{Zt||null==$t.return||$t.return()}finally{if(Xt)throw Yt}}return A("Variable ".concat(n.name," not found"));case h.g.UnaryMath:var tn,nn,rn=H(n.operand);if(void 0===rn)return;return g(rn.type)?z(null===(tn=e.unaryMath)||void 0===tn?void 0:tn.call(e,n.fn,rn),"number",!0):A("Math operand must be primitive, but is ".concat(null===(nn=rn.type)||void 0===nn?void 0:nn.kind));case h.g.BinaryMath:var an,on,cn=H(n.left),un=H(n.right),ln=n.left.kind===h.g.Constant,sn=n.right.kind===h.g.Constant;if(void 0===cn||void 0===un)return;if(void 0!==cn.type&&void 0!==un.type){var dn,fn,pn=j(cn.type),vn=j(un.type);if(n.fn===h.d.Subtract&&pn&&vn)return z(null===(dn=e.subtractDates)||void 0===dn?void 0:dn.call(e,cn,un),"duration",!0);if((n.fn===h.d.Add||n.fn===h.d.Subtract)&&pn&&!vn)return z(null===(fn=e.addDurationToDate)||void 0===fn?void 0:fn.call(e,cn,un,n.fn===h.d.Subtract),"date-time",!0);if(pn||vn)return i="Invalid operation on date/time",T.push(i),A(i)}if(!g(cn.type)||!g(un.type))return A("Math operands must be primitives, but they are ".concat(null===(an=cn.type)||void 0===an?void 0:an.kind," and ").concat(null===(on=un.type)||void 0===on?void 0:on.kind));var hn=e.binaryMath(n.fn,cn,ln,un,sn);if(void 0===hn)return;return{value:hn,type:{kind:"number"},typeIsPrecise:!0};case h.g.WithUserEnteredText:return H(n.formula);case h.g.FormatNumberFixed:var bn,mn=H(n.value);if(void 0===mn)return;if(n.decimalsAfterPoint.kind===h.g.Constant&&"number"===typeof n.decimalsAfterPoint.value&&n.groupSeparator.kind===h.g.Constant&&"boolean"===typeof n.groupSeparator.value&&(void 0===n.currency||n.currency.kind===h.g.Constant&&"string"===typeof n.currency.value)&&void 0!==e.constantFormatNumberFixed)return z(e.constantFormatNumberFixed(mn,n.decimalsAfterPoint.value,n.groupSeparator.value,Object(u.definedMap)(null===(bn=n.currency)||void 0===bn?void 0:bn.value,v.i)),"string",!0);var gn,On=H(n.decimalsAfterPoint),yn=H(n.groupSeparator);if(void 0===mn||void 0===On||void 0===yn)return;if(void 0!==n.currency&&void 0===(gn=H(n.currency)))return;return z(e.formatNumberFixed(mn,On,yn,gn),"string",!0);case h.g.FormatDateTime:var jn,kn=H(n.value);if(void 0===kn)return;var xn=Object(u.definedMap)(n.dateFormat,H);if(void 0!==n.dateFormat&&void 0===xn)return;var Cn=Object(u.definedMap)(n.timeFormat,H);if(void 0!==n.timeFormat&&void 0===Cn)return;return z(null===(jn=e.formatDateTime)||void 0===jn?void 0:jn.call(e,kn,xn,Cn),"string",!0);case h.g.CurrentLocation:var wn;return z(null===(wn=e.currentLocation)||void 0===wn?void 0:wn.call(e),"lat-long",!0);case h.g.GeocodeAddress:var Sn,En,Mn=H(n.address);if(void 0===Mn)return;if(!g(Mn.type))return A("Address must be primitive, but is ".concat(null===(En=Mn.type)||void 0===En?void 0:En.kind));var Rn="formula:".concat(c()(JSON.stringify(n.address)));return P.add(Rn),z(null===(Sn=e.geocodeAddress)||void 0===Sn?void 0:Sn.call(e,Mn,Rn),"lat-long",!0);case h.g.GeoDistance:var Dn,Tn,Pn,In=H(n.left),_n=H(n.right);if(void 0===In||void 0===_n)return;return"lat-long"!==(null===(Dn=In.type)||void 0===Dn?void 0:Dn.kind)||"lat-long"!==(null===(Tn=_n.type)||void 0===Tn?void 0:Tn.kind)?A("Geo distance operands must be lat/long"):In.typeIsPrecise&&_n.typeIsPrecise?z(null===(Pn=e.geoDistance)||void 0===Pn?void 0:Pn.call(e,In,_n),"number",!0):A("Geo distance operands must have a precise type");case h.g.GenerateImage:var Nn,An=H(n.input),Fn=H(n.imageKind);if(void 0===An||void 0===Fn)return;return z(null===(Nn=e.generateImage)||void 0===Nn?void 0:Nn.call(e,An,Fn),"image-uri",!0);case h.g.UserAPIFetch:var Ln;if(void 0===n.webhookID||n.webhookID.kind!==h.g.Constant||"string"!==typeof n.webhookID.value)return A("Webhook ID must be a constant string");var Bn=W(n.params);if(void 0===Bn)return;return z(null===(Ln=e.userAPIFetch)||void 0===Ln?void 0:Ln.call(e,n.webhookID.value,Bn),"string",!1);case h.g.ConstructURL:var Vn,Un=H(n.scheme),zn=H(n.host),Wn=H(n.path),Hn=W(n.params);if(void 0===Un||void 0===zn||void 0===Wn||void 0===Hn)return;return z(null===(Vn=e.constructURL)||void 0===Vn?void 0:Vn.call(e,Un,zn,Wn,Hn),"string",!0);default:return D.push("Unknown formula kind ".concat(n.kind)),Object(u.proveNever)(n,"Unknown formula kind",void 0)}}if(void 0!==x){var K=new Map;M=[];var q=!0,G=!1,J=void 0;try{for(var Z,X=x[Symbol.iterator]();!(q=(Z=X.next()).done);q=!0){var Y=Object(a.a)(Z.value,2),Q=Y[0],$=Y[1];K.set(Q,$),M.push([e.makeVariableName(Q),$])}}catch(te){G=!0,J=te}finally{try{q||null==X.return||X.return()}finally{if(G)throw J}}_.unshift(K)}var ee=H(l);return"lat-long"===(null===(w=ee)||void 0===w||null===(S=w.type)||void 0===S?void 0:S.kind)&&(D.push("Final formula result cannot be lat-long"),ee=void 0),void 0===ee?(Object(p.a)("Cannot compile formula",D),Object(p.a)(JSON.stringify(l,void 0,4)),D.push.apply(D,Object(r.a)(e.issues)),0===D.length&&H(l),Object(v.d)(D.length>0),{success:!1,issues:D,errors:T}):(void 0!==M&&(_.shift(),ee={value:e.assignVariables(M,ee),type:ee.type,typeIsPrecise:ee.typeIsPrecise}),{success:!0,value:ee.value,type:ee.type,typeIsPrecise:ee.typeIsPrecise,geocodeQuotaKeys:P})}function C(e){var t=new Set;return function e(n){switch(n.kind){case h.g.FilterRows:case h.g.FindRow:e(n.rows),e(n.predicate);break;case h.g.MapRows:e(n.rows),e(n.function);break;case h.g.Reduce:e(n.rows),e(n.value);break;case h.g.ReduceToMemberBy:e(n.rows),e(n.value),e(n.key);break;case h.g.JoinStrings:e(n.rows),e(n.value),e(n.separator);break;case h.g.SplitString:e(n.string),e(n.separator);break;case h.g.IfThenElse:e(n.condition),e(n.consequent),e(n.condition);break;case h.g.CompareValues:case h.g.ArraysOverlap:case h.g.BinaryMath:case h.g.And:case h.g.Or:case h.g.GeoDistance:e(n.left),e(n.right);break;case h.g.GetColumn:void 0===n.contextName&&t.add(n.column);break;case h.g.TextTemplate:e(n.template);var r=!0,i=!1,o=void 0;try{for(var c,l=n.replacements[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var s=c.value,d=s.pattern,f=s.replacement;e(d),e(f)}}catch(N){i=!0,o=N}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}break;case h.g.ArrayContains:e(n.array),e(n.item);break;case h.g.CheckValue:case h.g.Not:case h.g.ConvertToType:case h.g.ApplyColumnFormat:e(n.value);break;case h.g.StartOfDay:case h.g.EndOfDay:e(n.dateTime);break;case h.g.With:e(n.context),e(n.value);break;case h.g.GetNth:case h.g.GetNthLast:e(n.array),e(n.index);break;case h.g.RandomPick:e(n.array);break;case h.g.IsInRange:e(n.value),e(n.start),e(n.end);break;case h.g.AssignVariables:var p=!0,v=!1,b=void 0;try{for(var m,g=n.assignments[Symbol.iterator]();!(p=(m=g.next()).done);p=!0){e(Object(a.a)(m.value,2)[1])}}catch(N){v=!0,b=N}finally{try{p||null==g.return||g.return()}finally{if(v)throw b}}e(n.body);break;case h.g.UnaryMath:e(n.operand);break;case h.g.Constant:case h.g.Empty:case h.g.GetVariable:case h.g.GetTableRows:case h.g.SpecialValue:case h.g.GetUserProfileRow:case h.g.CurrentLocation:break;case h.g.WithUserEnteredText:e(n.formula);break;case h.g.FormatNumberFixed:e(n.value),e(n.decimalsAfterPoint);break;case h.g.FormatDateTime:e(n.value),void 0!==n.dateFormat&&e(n.dateFormat),void 0!==n.timeFormat&&e(n.timeFormat);break;case h.g.GeocodeAddress:e(n.address);break;case h.g.GenerateImage:e(n.input),e(n.imageKind);break;case h.g.UserAPIFetch:var O=!0,y=!1,j=void 0;try{for(var k,x=n.params[Symbol.iterator]();!(O=(k=x.next()).done);O=!0){var C=k.value,w=C.name,S=C.value;e(w),e(S)}}catch(N){y=!0,j=N}finally{try{O||null==x.return||x.return()}finally{if(y)throw j}}break;case h.g.ConstructURL:var E=!0,M=!1,R=void 0;try{for(var D,T=n.params[Symbol.iterator]();!(E=(D=T.next()).done);E=!0){var P=D.value,I=P.name,_=P.value;e(I),e(_)}}catch(N){M=!0,R=N}finally{try{E||null==T.return||T.return()}finally{if(M)throw R}}e(n.scheme),e(n.host),e(n.path);break;default:return Object(u.proveNever)(n,"Unknown formula kind",void 0)}}(e),t}function w(e,t,n){if(void 0===e)return!0;switch(e.kind){case h.g.GetTableRows:case h.g.Constant:case h.g.Empty:case h.g.GetUserProfileRow:case h.g.CurrentLocation:return!0;case h.g.FilterRows:case h.g.FindRow:return w(e.rows,t,n)&&w(e.predicate,[e.predicateContextName].concat(Object(r.a)(t)),n);case h.g.MapRows:return w(e.rows,t,n)&&w(e.function,[e.functionContextName].concat(Object(r.a)(t)),n);case h.g.Reduce:return w(e.rows,t,n)&&w(e.value,[e.valueContextName].concat(Object(r.a)(t)),n);case h.g.ReduceToMemberBy:var i=[e.valueContextName].concat(Object(r.a)(t));return w(e.rows,t,n)&&w(e.value,i,n)&&w(e.key,i,n);case h.g.JoinStrings:return w(e.rows,t,n)&&w(e.value,[e.valueContextName].concat(Object(r.a)(t)),n)&&w(e.separator,t,n);case h.g.SplitString:return w(e.string,t,n)&&w(e.separator,t,n);case h.g.IfThenElse:return w(e.condition,t,n)&&w(e.condition,t,n)&&w(e.alternative,t,n);case h.g.CheckValue:case h.g.Not:case h.g.ConvertToType:return w(e.value,t,n);case h.g.CompareValues:case h.g.ArraysOverlap:case h.g.BinaryMath:case h.g.And:case h.g.Or:case h.g.GeoDistance:return w(e.left,t,n)&&w(e.right,t,n);case h.g.GetColumn:return void 0!==e.contextName&&t.indexOf(e.contextName)>=0;case h.g.ApplyColumnFormat:case h.g.SpecialValue:return!1;case h.g.TextTemplate:if(!w(e.template,t,n))return!1;var o=!0,c=!1,u=void 0;try{for(var l,s=e.replacements[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var d=l.value,f=d.pattern,p=d.replacement;if(!w(f,t,n)||!w(p,t,n))return!1}}catch(V){c=!0,u=V}finally{try{o||null==s.return||s.return()}finally{if(c)throw u}}return!0;case h.g.ArrayContains:return w(e.array,t,n)&&w(e.item,t,n);case h.g.StartOfDay:case h.g.EndOfDay:return w(e.dateTime,t,n);case h.g.With:return w(e.context,t,n)&&w(e.value,[e.contextName].concat(Object(r.a)(t)),n);case h.g.GetNth:case h.g.GetNthLast:return w(e.array,t,n)&&w(e.index,t,n);case h.g.RandomPick:return!1;case h.g.IsInRange:return w(e.value,t,n)&&w(e.start,t,n)&&w(e.end,t,n);case h.g.AssignVariables:var b=!0,m=!1,g=void 0;try{for(var O,y=e.assignments[Symbol.iterator]();!(b=(O=y.next()).done);b=!0){var j=Object(a.a)(O.value,2),k=j[0];if(!w(j[1],t,n))return!1;t=[k].concat(Object(r.a)(t))}}catch(V){m=!0,g=V}finally{try{b||null==y.return||y.return()}finally{if(m)throw g}}return w(e.body,t,n);case h.g.UnaryMath:return w(e.operand,t,n);case h.g.GetVariable:return n.indexOf(e.name)>=0;case h.g.WithUserEnteredText:return w(e.formula,t,n);case h.g.FormatNumberFixed:return w(e.value,t,n)&&w(e.decimalsAfterPoint,t,n);case h.g.FormatDateTime:return!!w(e.value,t,n)&&(!(void 0!==e.dateFormat&&!w(e.dateFormat,t,n))&&!(void 0!==e.timeFormat&&!w(e.timeFormat,t,n)));case h.g.GeocodeAddress:return w(e.address,t,n);case h.g.GenerateImage:return w(e.input,t,n)&&w(e.imageKind,t,n);case h.g.UserAPIFetch:var x=!0,C=!1,S=void 0;try{for(var E,M=e.params[Symbol.iterator]();!(x=(E=M.next()).done);x=!0){var R=E.value,D=R.name,T=R.value;if(!w(D,t,n)||!w(T,t,n))return!1}}catch(V){C=!0,S=V}finally{try{x||null==M.return||M.return()}finally{if(C)throw S}}return!0;case h.g.ConstructURL:var P=!0,I=!1,_=void 0;try{for(var N,A=e.params[Symbol.iterator]();!(P=(N=A.next()).done);P=!0){var F=N.value,L=F.name,B=F.value;if(!w(L,t,n)||!w(B,t,n))return!1}}catch(V){I=!0,_=V}finally{try{P||null==A.return||A.return()}finally{if(I)throw _}}return w(e.scheme,t,n)&&w(e.host,t,n)&&w(e.path,t,n);default:return Object(v.e)(e)}}var S={[m.e.AllTrue]:!0,[m.e.SomeTrue]:!0,[m.e.Sum]:!0,[m.e.CountNonEmpty]:!1,[m.e.Average]:!0,[m.e.Minimum]:!0,[m.e.Maximum]:!0,[m.e.Earliest]:!0,[m.e.Latest]:!0,[m.e.Range]:!0,[m.e.CountNotTrue]:!1,[m.e.CountTrue]:!1,[m.e.CountUnique]:!1};function E(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;function i(n,i){var a;if("string"===typeof n){if(void 0===i)return;var o=Object(h.lb)(Object(v.n)(t),n);if(void 0===o)return;if(!Object(h.Ib)(o.type))return;a=Object(h.ob)(o.type.items)}else{if(void 0===i)return;a=n}var c=e.findTable(a);if(void 0!==c){var u=Object(h.lb)(c,i);if(void 0!==u)return E(e,c,u,r)}}if(!r.has(n)){r.add(n);var a=n.displayFormula;if(void 0!==a){if(Object(m.w)(a))return;return a}if(void 0!==n.formula){var o=Object(m.l)(n.formula);if(void 0!==o)switch(o.kind){case m.g.Rollup:if(!0!==S[o.rollupKind])return;return i(o.tableOrRelationColumn,o.valueColumn);case m.g.SingleValue:if(void 0===o.valueColumn)return;return i(o.tableOrRelationColumn,o.valueColumn);case m.g.Lookup:var c=Object(h.lb)(t,o.relationColumn);if(void 0===c)return;if(!Object(h.Ob)(c.type))return;var l=e.findTable(c.type);if(void 0===l)return;var d=Object(h.lb)(l,o.columnInRelation);if(void 0===d)return;return E(e,l,d,r);case m.g.IfThenElse:var g,O=function(n){if(n.kind===m.b.Constant)return""===n.value;if(n.kind!==m.b.Column)return Object(p.a)("Unknown value kind for if-then-else",n.kind),!1;var i=Object(u.definedMap)(Object(b.b)(e,n.column,t,void 0),f.a);if(void 0===i)return!0;var a=E(e,i.table,i.column,r);if(void 0===a)return!1;if(void 0===g)g=a;else if(!s()(g,a,{strict:!0}))return!1;return!0},y=!0,j=!1,k=void 0;try{for(var x,C=o.clauses[Symbol.iterator]();!(y=(x=C.next()).done);y=!0){var w=x.value;if(!O(w.thenValue))return}}catch(M){j=!0,k=M}finally{try{y||null==C.return||C.return()}finally{if(j)throw k}}if(!O(o.elseValue))return;return g;default:return}}}}function M(e,t){return c()("".concat(e.name,"-").concat(t))}},687:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.OldestFirst="oldest-first",e.NewestFirst="newest-first"}(r||(r={}))},699:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return j}));var r,i=n(2),a=n.n(i),o=n(8),c=n(3),u=n(43),l=n(49);function s(e){var t=Object(u.a)().stripClientKey;return void 0===t?Object(c.hb)("Stripe key was undefined"):window.Stripe(t,void 0!==e?{stripeAccount:e}:void 0)}function d(){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r){e.next=2;break}return e.abrupt("return",r);case 2:Object(l.d)("https://js.stripe.com/v3/");case 3:if(void 0!==window.Stripe){e.next=8;break}return e.next=6,Object(c.tb)(500);case 6:e.next=3;break;case 8:return r=s(),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function e(t,n){var i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return i=void 0===n?r:s(n),e.next=5,i.redirectToCheckout({sessionId:t});case 5:return o=e.sent,e.abrupt("return",o.error.message);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return n=Object(u.a)().stripClientKey,e.abrupt("return",window.Stripe(n,{stripeAccount:t}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return e.abrupt("return",window.Stripe(t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){var e=window.location;return e.protocol+"//"+e.host+"/3ds-redirect.html"}},700:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.None="None",e.Link="Link",e.Image="Image",e.Checkbox="Checkbox",e.Emoji="Emoji",e.PushScreen="PushScreen"}(r||(r={}))},706:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return p}));var r=n(16),i=n(22),a=n(0),o=n(779);function c(){var e=Object(r.a)(["\n    width: 124px;\n    height: 18px;\n    color: ",";\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: ","px 0;\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0 ","px ","px;\n    position: relative;\n    width: 100%;\n\n    .donut-center {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        position: absolute;\n        z-index: 5;\n\n        animation: fadein 0.5s;\n\n        @keyframes fadein {\n            from {\n                opacity: 0;\n            }\n            to {\n                opacity: 1;\n            }\n        }\n    }\n    .total-value {\n        width: 124px;\n        height: 40px;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        font-weight: bold;\n        color: ",";\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    & svg {\n        height: 240px;\n        width: 240px;\n    }\n\n    & "," {\n        margin-left: 0px;\n    }\n"]);return l=function(){return e},e}var s=function(e){return a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M8 0C3.582 0 0 3.582 0 8C0 12.418 3.582 16 8 16C12.418 16 16 12.418 16 8C15.9953 3.584 12.416 0.00466667 8 0ZM8.16667 3.33333C8.71867 3.33333 9.16667 3.78133 9.16667 4.33333C9.16667 4.88533 8.71867 5.33333 8.16667 5.33333C7.61467 5.33333 7.16667 4.88533 7.16667 4.33333C7.16667 3.78133 7.61467 3.33333 8.16667 3.33333ZM9.66667 12.3333H7C6.632 12.3333 6.33333 12.0347 6.33333 11.6667C6.33333 11.2987 6.632 11 7 11H7.5C7.592 11 7.66667 10.9253 7.66667 10.8333V7.83333C7.66667 7.74133 7.592 7.66667 7.5 7.66667H7C6.632 7.66667 6.33333 7.368 6.33333 7C6.33333 6.632 6.632 6.33333 7 6.33333H7.66667C8.40333 6.33333 9 6.93 9 7.66667V10.8333C9 10.9253 9.07467 11 9.16667 11H9.66667C10.0347 11 10.3333 11.2987 10.3333 11.6667C10.3333 12.0347 10.0347 12.3333 9.66667 12.3333Z",fill:e.theme.fgColorDark}))},d=i.i.div(l(),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.fgColorDark}),o.g),f=i.i.div(u(),(function(e){return e.theme.componentInnerVerticalPadding})),p=i.i.div(c(),(function(e){return e.theme.fgColorLight}))},716:function(e,t,n){"use strict";var r=n(95),i=n(0),a=n(16),o=n(22),c=n(24);function u(){var e=Object(a.a)(["\n    position: relative;\n\n    .shadow-box {\n        visibility: hidden;\n        white-space: pre-wrap;\n        word-wrap: break-word;\n        overflow-wrap: break-word;\n\n        width: 100%;\n\n        ","\n\n        ","\n    }\n\n    .ta-inputbox {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n\n        border-radius: 0px;\n\n        resize: none;\n        white-space: normal;\n        width: 100%;\n        overflow: hidden;\n        border: 0;\n        background-color: transparent;\n\n        ::placeholder {\n            color: ",";\n        }\n\n        ","\n    }\n"]);return u=function(){return e},e}function l(){var e=Object(a.a)(["\n    ","\n    color: ",";\n    padding: 0;\n    margin: 0;\n"]);return l=function(){return e},e}var s=Object(c.css)(l(),(function(e){return e.theme.fontStyles.Body4}),(function(e){return e.theme.fgColorDark})),d=o.i.div(u(),s,(function(e){return e.iOSHack&&"padding: 0 3px;"}),(function(e){return e.theme.fgColorLight}),s),f=n(6),p=n(3),v=n(35),h=i.memo((function(e){var t=e.placeholder,n=e.value,a=(e.ref,e.inputRef),o=e.className,c=Object(r.a)(e,["placeholder","value","ref","inputRef","className"]),u=c.onChange,l=Object(f.withDefault)(n,"");return Object(p.d)(void 0!==u,"GrowingEntry must be a controlled input area"),i.createElement(d,{iOSHack:v.e},i.createElement("div",{className:"shadow-box "+o},l+"\n"),i.createElement("textarea",Object.assign({className:"ta-inputbox "+o,"data-test":"app-growing-entry",ref:a,value:l,placeholder:t},c)))}));t.a=h},720:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return x}));var r=n(29),i=n(174),a=n(4),o=n(5),c=n(9),u=n(21),l=n(13),s=n(6),d=n(14),f=n(146),p=n(3),v=n(599),h=n(597),b=n(204),m=n(113),g=n(169),O=n(626);function y(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}function j(e){var t=e.descriptor;return"function"===typeof t?t():t}var k=function(e){Object(c.a)(n,e);var t=y(n);function n(e){var r,o=e.kind,c=e.name,u=e.group,l=e.description,d=e.img,f=e.helpPath,p=e.uiClass;Object(a.a)(this,n);var v=Object(i.a)(p.spec),h=v[0],b=v.slice(2),g=Object(s.withDefault)(h,c.trim().replace(/\s+/g,""));void 0===o&&(o=g.replace(/([^A-Z])([A-Z])/g,"$1-$2").toLowerCase()),(r=t.call(this,o))._name=void 0,r._group=void 0,r._description=void 0,r._img=void 0,r._helpPath=void 0,r._elementName=void 0,r._argsSpec=void 0;var O=c.toLowerCase().trim().replace(/\s+/g,"-");return r._name=c,r._group=u,r._description=l,r._img=Object(s.withDefault)(d,O),r._helpPath=f,r._elementName=g,r._argsSpec=b.map(m.b),r}return Object(o.a)(n,[{key:"getProperties",value:function(e){return this.getPropertyDescriptors(e).map((function(e){return function(e){if("object"!==typeof e||null===e)return!1;if(2!==Object.keys(e).length)return!1;var t=e,n=t.descriptor,r=t.argumentName;return void 0!==n&&(void 0===r||"string"===typeof r)}(e)?e:Object(f.p)(e.property)?{descriptor:e,argumentName:e.property.name}:Object(p.hb)("Simple component handler only supports named property sources")}))}},{key:"getDescriptor",value:function(e,t,n,i){var a=this.getProperties(i);return{name:this._name,description:this._description,img:this._img,group:this._group,helpUrl:Object(g.a)(this._helpPath),properties:[].concat(Object(r.a)(a.map(j)),Object(r.a)(this.getBasePropertyDescriptors()))}}},{key:"entryForTableColumn",value:function(e,t,n,r){var i=this,a=n.input,o=e.b,c={},u=!0,l=!1,s=void 0;try{for(var d,f=function(){var n=d.value,r=n.argumentName;if(void 0===r)return"continue";var u=j(n),l=i._argsSpec.find((function(e){return e.argName===r}));if(void 0===l)return{v:Object(p.hb)("Argument ".concat(r," not found"))};var s=void 0,f=Object(b.j)(t,u);if(void 0!==f){var v=f.description,h=f.descriptorCase;s=Object(O.b)(h.kind).makeArgumentForComponent(e,a,v,h)}if(void 0===s)return l.required?{v:o.emptyUI}:"continue";c[r]=s},v=this.getProperties(r)[Symbol.iterator]();!(u=(d=v.next()).done);u=!0){var h=f();switch(h){case"continue":continue;default:if("object"===typeof h)return h.v}}}catch(m){l=!0,s=m}finally{try{u||null==v.return||v.return()}finally{if(l)throw s}}return o.ui(this._elementName,c)}}]),n}(v.a),x=function(e){Object(c.a)(n,e);var t=y(n);function n(e){var r=e.name,i=e.label,o=e.preferredType,c=e.isRequired,u=e.searchable,l=e.preferredNames,f=e.mustBeString,p=e.section;Object(a.a)(this,n);var v=[h.a.Editable];Object(s.withDefault)(c,!0)&&v.push(h.a.Required),Object(s.withDefault)(u,!1)&&v.push(h.a.Searchable);var b=!0===f?function(e){return e.columns.filter((function(e){return Object(d.Qb)(e.type.kind)}))}:d.fb;return t.call(this,r,i,v,void 0,l,b,o,p)}return n}(h.b)},721:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Filled="full",e.Profile="profile",e.Card="card"}(r||(r={}))},722:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Calendar="calendar",e.List="list"}(r||(r={}))},725:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return r}));var r,i=n(29),a=n(20),o=n(10),c=n(4),u=n(5),l=n(6),s=n(263),d=n.n(s),f=n(3),p=n(7),v=n(12);function h(e){return{modalGroupStack:[{screenStack:[{pivots:{pivots:e.pivots},currentPivotIndex:0,screenLocalState:{},pivotLocalStates:new Array(e.pivots.length).fill({}),flags:new Set}]}],isVisible:e.isVisible}}function b(e,t,n){return new g(e.map(h),t,t,n)}function m(e){var t=e.pivots,n=e.currentPivotIndex;return{screen:t.pivots[n]}}!function(e){e[e.HideTabBar=0]="HideTabBar"}(r||(r={}));var g=function(){function e(t,n,r,i){Object(c.a)(this,e),this.model=t,this.currentTabIndex=n,this.currentLogicalTabIndex=r,this.callbacks=i,Object(f.d)(n>=0&&n<t.length)}return Object(u.a)(e,[{key:"onAppNavigationPush",value:function(){var e=this.callbacks.onAppNavigationPush;return void 0!==e&&e(this),this}},{key:"pivotLocalStateForIndex",value:function(e){var t=this.currentScreenWithPivots.pivotLocalStates;return e>=0&&e<t.length?t[e]:{}}},{key:"updateScreenLocalState",value:function(e){for(var t=this.currentScreenWithPivots,n=t.pivots,r=t.currentPivotIndex,i=t.screenLocalState,a=t.pivotLocalStates,c=t.flags,u=Object(o.a)({},i),l=0,s=Object.keys(e);l<s.length;l++){var d=s[l];u[d]=e[d]}return this.popCurrentScreenUnchecked().pushScreenWithPivots({pivots:n,currentPivotIndex:r,screenLocalState:u,pivotLocalStates:a,flags:c})}},{key:"updatePivotLocalState",value:function(e){for(var t=this.currentScreenWithPivots,n=t.pivots,r=t.currentPivotIndex,i=t.screenLocalState,a=t.pivotLocalStates,c=t.flags,u=a[r],l=Object(o.a)({},u),s=0,d=Object.keys(e);s<d.length;s++){var f=d[s];l[f]=e[f]}return a[r]=l,this.popCurrentScreenUnchecked().pushScreenWithPivots({pivots:n,currentPivotIndex:r,screenLocalState:i,pivotLocalStates:a,flags:c})}},{key:"hasScreen",value:function(e){return this.currentTab.modalGroupStack.some((function(t){return t.screenStack.some((function(t){return t.pivots.pivots.some((function(t){return t===e}))}))}))}},{key:"setPivot",value:function(e){var t,n,r=this.currentModalStack.screenStack;for(t=1;t<=r.length;t++){var i=r[r.length-t];if(i.pivots.pivots.length>1){n=i;break}}Object(f.d)(void 0!==n),Object(f.d)(e>=0&&e<n.pivots.pivots.length);var a=Object(f.rb)(r,r.length-t,Object(o.a)(Object(o.a)({},n),{},{currentPivotIndex:e}));return this.replaceCurrentStack(a).onAppNavigationPush()}},{key:"getRootForTab",value:function(e){return Object(f.n)(this.model.map((function(e){return e.modalGroupStack[0].screenStack[0]}))[e]).pivots}},{key:"getAnimation",value:function(t){if(!(t instanceof e))return Object(f.hb)("Foreign navigation model");if(this.currentTabIndex!==t.currentTabIndex)return"none";var n=this.currentTab.modalGroupStack,r=t.currentTab.modalGroupStack;if(n.length>r.length)return"push-modal";if(n.length<r.length)return"pop-modal";var i=this.currentModalStack.screenStack,a=t.currentModalStack.screenStack;return i.length>a.length?"push":i.length<a.length?"pop":"none"}},{key:"pushScreenWithPivots",value:function(e){return this.replaceCurrentStack(this.currentModalStack.screenStack.concat([e]))}},{key:"pushScreen",value:function(t,n,r,i){var a=this.pushScreenWithPivots({pivots:t,currentPivotIndex:0,screenLocalState:{},pivotLocalStates:new Array(t.pivots.length).fill({}),flags:new Set(r)});return void 0!==n&&(a=new e(a.model,a.currentTabIndex,n,a.callbacks)),!0!==i&&a.onAppNavigationPush(),a}},{key:"pushModalScreen",value:function(e){var t=this.currentTab,n=t.modalGroupStack.concat([{screenStack:[{pivots:e,currentPivotIndex:0,screenLocalState:{},pivotLocalStates:new Array(e.pivots.length).fill({}),flags:new Set}]}]);return this.replaceCurrentTab({modalGroupStack:n,isVisible:t.isVisible})}},{key:"popScreen",value:function(){return this.currentModalStack.screenStack.length<=1?(Object(v.a)("Tried to pop screen, but already at root",this),this):this.popCurrentScreenUnchecked()}},{key:"popToRoot",value:function(){var e=this.currentModalStack.screenStack;Object(f.d)(e.length>0);var t=[e[0]];return this.replaceCurrentStack(t)}},{key:"popModalsToRoot",value:function(){var e=this.currentTab,t=e.modalGroupStack,n=e.isVisible;if(t.length<=1)return this;var r=[t[0]];return this.replaceCurrentTab({modalGroupStack:r,isVisible:n})}},{key:"popModalScreen",value:function(){var e=this.currentTab,t=e.modalGroupStack,n=e.isVisible;if(t.length<=1)return Object(v.a)("Tried to pop modal, but already at root",this),this;var r=t.slice(0,t.length-1);return this.replaceCurrentTab({modalGroupStack:r,isVisible:n})}},{key:"replaceTopScreens",value:function(e){var t=this,n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){o.value;n.push(Object(f.o)(d()(t.currentModalStack.screenStack),[],(function(e){return Array.from(e.flags)}))),t=t.popCurrentScreenUnchecked()}}catch(b){i=!0,a=b}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}var u=!0,l=!1,s=void 0;try{for(var p,v=e[Symbol.iterator]();!(u=(p=v.next()).done);u=!0){var h=p.value;t=t.pushScreen(h,void 0,Object(f.n)(n.pop()),!0)}}catch(b){l=!0,s=b}finally{try{u||null==v.return||v.return()}finally{if(l)throw s}}return t}},{key:"replaceScreenStack",value:function(t,n){return Object(f.d)(t<this.model.length),new e(Object(f.rb)(this.model,t,h(n)),this.currentTabIndex,this.currentLogicalTabIndex,this.callbacks)}},{key:"reorderTabs",value:function(t){var n=[],r=this.currentTabIndex,i=!0,o=!1,c=void 0;try{for(var u,s=Object(l.iterableEnumerate)(t)[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var d=Object(a.a)(u.value,2),f=d[0],p=d[1];n.push(this.model[p]),this.currentTabIndex===p&&(r=f)}}catch(v){o=!0,c=v}finally{try{i||null==s.return||s.return()}finally{if(o)throw c}}return new e(n,r,r,this.callbacks)}},{key:"addTab",value:function(t,n){var r=this.model;return Object(f.d)(n>=0&&n<=r.length),new e([].concat(Object(i.a)(r.slice(0,n)),[h(t)],Object(i.a)(r.slice(n))),n,n,this.callbacks)}},{key:"removeTab",value:function(t){var n=this.model;Object(f.d)(t>=0&&t<n.length&&n.length>1);var r=[].concat(Object(i.a)(n.slice(0,t)),Object(i.a)(n.slice(t+1))),a=Math.min(this.currentTabIndex,r.length-1);return new e(r,a,a,this.callbacks)}},{key:"setTab",value:function(t){return new e(this.model,t,t,this.callbacks).onAppNavigationPush()}},{key:"isInModal",value:function(){return this.currentTab.modalGroupStack.length>1}},{key:"currentScreenHasFlag",value:function(e){return this.currentScreen.flags.has(e)}},{key:"getTab",value:function(e){return Object(f.d)(e<this.model.length),this.model[e]}},{key:"replaceCurrentTab",value:function(t){var n=Object(f.rb)(this.model,this.currentTabIndex,t),r=1===t.modalGroupStack.length&&t.modalGroupStack[0].screenStack.length<=1?this.currentTabIndex:void 0;return new e(n,this.currentTabIndex,null!==r&&void 0!==r?r:this.currentLogicalTabIndex,this.callbacks)}},{key:"replaceCurrentStack",value:function(e){var t=this.currentTab,n=t.modalGroupStack,r=t.isVisible;Object(f.d)(n.length>0);var i=n.slice(0,n.length-1);return i.push({screenStack:e}),this.replaceCurrentTab({modalGroupStack:i,isVisible:r})}},{key:"popCurrentScreenUnchecked",value:function(){var e=this.currentModalStack.screenStack;Object(f.d)(e.length>0);var t=e.slice(0,e.length-1);return this.replaceCurrentStack(t)}},{key:"currentScreenWithPivots",get:function(){var e=this.currentModalStack.screenStack;return Object(f.d)(e.length>0),e[e.length-1]}},{key:"currentScreen",get:function(){return m(this.currentScreenWithPivots).screen}},{key:"maybeCurrentScreen",get:function(){var e=this.currentModalStack.screenStack;if(0!==e.length)return m(e[e.length-1]).screen}},{key:"currentScreenTitle",get:function(){var e,t;return Object(l.definedMap)(null===(e=this.maybeCurrentScreen)||void 0===e||null===(t=e.title)||void 0===t?void 0:t.current,p.F)}},{key:"currentPivotIndex",get:function(){return this.currentScreenWithPivots.currentPivotIndex}},{key:"currentScreenLocalState",get:function(){return this.currentScreenWithPivots.screenLocalState}},{key:"currentPivotLocalState",get:function(){return this.currentScreenWithPivots.pivotLocalStates[this.currentPivotIndex]}},{key:"currentScreenInheritedFlags",get:function(){var e=new Set;return this.currentModalStack.screenStack.forEach((function(t){return e=new Set([].concat(Object(i.a)(e),Object(i.a)(t.flags)))})),e}},{key:"parentScreen",get:function(){var e=this.currentModalStack.screenStack;if(!(e.length<2)){var t=e[e.length-2],n=t.pivots,r=t.currentPivotIndex;return{screen:n.pivots[r]}}}},{key:"modalParentScreen",get:function(){if(!this.canCurrentScreenPop){var e=this.currentTab.modalGroupStack;if(!(e.length<=1)){var t=e[e.length-2].screenStack;return Object(f.d)(t.length>0),m(t[t.length-1])}}}},{key:"canCurrentScreenPop",get:function(){return this.currentModalStack.screenStack.length>1}},{key:"currentScreenDepth",get:function(){return this.currentModalStack.screenStack.length}},{key:"isVisibles",get:function(){return this.model.map((function(e){return e.isVisible}))}},{key:"currentTab",get:function(){return this.getTab(this.currentTabIndex)}},{key:"currentModalStack",get:function(){var e=this.currentTab.modalGroupStack;return Object(f.d)(e.length>0),e[e.length-1]}}]),e}()},729:function(e,t,n){"use strict";n.d(t,"a",(function(){return Vk})),n.d(t,"b",(function(){return zk}));var r=n(20),i=n(4),a=n(5),o=n(59),c=n(9),u=n(21),l=n(13),s=n(10),d=n(15),f=n(220),p=n(7),v=n(11),h=n(97),b=n(18),m=n(44),g=n(209),O=n(25),y=n(17),j=n(2),k=n.n(j),x=n(8),C=n(99),w=n.n(C),S=n(822),E=n(262),M=n.n(E),R=n(160),D=n(27),T=n(19),P=n(12),I=n(270),_=n(50),N=n(14),A=n(3),F=n(113),L=n(31),B=n(28),V=n(156),U=n(969),z=n.n(U);function W(e,t,n){var r=null===n||void 0===n?void 0:n.eval(e,t);if(void 0!==r)return Object(p.M)(Object(p.J)(r),B.o)}function H(e,t,n,r,i){var a=W(e,n,r);return null===a||void 0===a?void 0:a.run(e,t,n,i)}function K(e){return e.split(",").filter(A.L)}var q=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(e,r,a,o,c,u){var l;return Object(i.a)(this,n),(l=t.call(this))._recipient=e,l._subject=r,l._body=a,l._replyTo=o,l._onSuccess=c,l._onFailure=u,l}return Object(a.a)(n,[{key:"evalArgs",value:function(e,t){var n,r=Object(d.definedMap)(this._recipient.eval(e,t),p.J),i=Object(d.definedMap)(this._subject.eval(e,t),p.J),a=Object(d.definedMap)(this._body.eval(e,t),p.J),o=Object(d.definedMap)(null===(n=this._replyTo)||void 0===n?void 0:n.eval(e,t),p.J);if(Object(p.K)(r)&&Object(p.K)(i)&&Object(p.K)(a)){var c;if(Object(A.D)(r)){var u=Object(A.V)(r,(function(e){return Object(p.M)(Object(p.J)(e),p.F)}));c=z()(u,K)}else c=K(Object(p.F)(r));if(0!==c.length)return{recipients:c,subject:Object(p.F)(i),body:Object(p.F)(a),replyTo:Object(p.M)(o,p.F)};Object(P.a)("Not a valid recipient",r)}}},{key:"runAsync",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n,r){var i,a,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(i=this.evalArgs(t,r))){e.next=3;break}return e.abrupt("return",void 0);case 3:return a=Object(s.a)(Object(s.a)({},i),{},{appID:n.appEnvironment.appID,replyTo:i.replyTo}),e.next=6,n.appEnvironment.appFacilities.callAuthIfAvailableCloudFunction("deliverEmailFromAction",a,{});case 6:return!0===(null===(o=e.sent)||void 0===o?void 0:o.ok)?H(t,n,r,this._onSuccess):H(t,n,r,this._onFailure),e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"canExecute",value:function(e){return void 0!==this.evalArgs(e,B.d.None)}}],[{key:"spec",get:function(){return["DeliverEmail","action",["recipient","evaluable"],["subject","evaluable"],["body","evaluable"],["replyTo","evaluable",!1],["onSuccess","action",!1],["onFailure","action",!1]]}}]),n}(B.f);function G(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}function J(e,t,n){return Z.apply(this,arguments)}function Z(){return(Z=Object(x.a)(k.a.mark((function e(t,n,r){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==r){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.next=4,Object(b.n)(r.eval(t,n),100);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t,n){return Y.apply(this,arguments)}function Y(){return(Y=Object(x.a)(k.a.mark((function e(t,n,r){var i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.map((function(e){return J(t,n,e)})),e.next=3,Promise.all(i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(e){Object(c.a)(n,e);var t=G(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"run",value:function(){}},{key:"isNoAction",get:function(){return!0}}],[{key:"spec",get:function(){return["NoAction","action"]}}]),n}(B.a),$=function(e){Object(c.a)(n,e);var t=G(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._action=e,r}return Object(a.a)(n,[{key:"run",value:function(e,t,n,r){return H(e,t,n,this._action,r)}}],[{key:"spec",get:function(){return["HoldAction","action",["action","action"]]}}]),n}(B.a),ee=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a,o){var c;return Object(i.a)(this,n),(c=t.call(this))._first=e,c._second=r,c._third=a,c._fourth=o,c}return Object(a.a)(n,[{key:"canExecute",value:function(e,t){var n=this.getFirstAction(e,v.a.None),r=this.getSecondAction(e,v.a.None),i=this.getThirdAction(e,v.a.None),a=this.getFourthAction(e,v.a.None);return!(!Object(p.K)(n)||!n.canExecute(e,t))||(!(!Object(p.K)(r)||!r.canExecute(e,t))||(!(!Object(p.K)(i)||!i.canExecute(e,t))||!(!Object(p.K)(a)||!a.canExecute(e,t))))}},{key:"getFirstAction",value:function(e,t){return W(e,t,this._first)}},{key:"getSecondAction",value:function(e,t){return W(e,t,this._second)}},{key:"getThirdAction",value:function(e,t){return W(e,t,this._third)}},{key:"getFourthAction",value:function(e,t){return W(e,t,this._fourth)}},{key:"targetURL",value:function(e,t,n){var r=Object(p.M)(this.getFirstAction(e,n),(function(r){return r.targetURL(e,t,n)}));return Object(p.K)(r)?r:(r=Object(p.M)(this.getSecondAction(e,n),(function(r){return r.targetURL(e,t,n)})),Object(p.K)(r)?r:(r=Object(p.M)(this.getThirdAction(e,n),(function(r){return r.targetURL(e,t,n)})),Object(p.K)(r)?r:(r=Object(p.M)(this.getFourthAction(e,n),(function(r){return r.targetURL(e,t,n)})),Object(p.K)(r)?r:void 0)))}},{key:"run",value:function(e,t,n,r){var i,a=this.getFirstAction(e,n);Object(p.K)(a)&&(i=a.run(e,t,n,r));var o=this.getSecondAction(e,n);Object(p.K)(o)&&(i=o.run(e,t,n,r));var c=this.getThirdAction(e,n);Object(p.K)(c)&&(i=c.run(e,t,n,r));var u=this.getFourthAction(e,n);return Object(p.K)(u)&&(i=u.run(e,t,n,r)),i}}],[{key:"spec",get:function(){return["Sequence","action",["first","action"],["second","action"],["third","action",!1],["fourth","action",!1]]}}]),n}(B.a),te=function(e){Object(c.a)(n,e);var t=G(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._message=e,r}return Object(a.a)(n,[{key:"runAsync",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n,r){var i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,r,this._message);case 2:if(i=e.sent,Object(p.K)(i)){e.next=5;break}return e.abrupt("return",void 0);case 5:Object(P.b)("Alert",i),n.appEnvironment.appFacilities.alert(Object(p.F)(i));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}],[{key:"spec",get:function(){return["Alert","action",["message","evaluable"]]}}]),n}(B.f),ne=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a,o,c,u,l,s,d,f,p,v,h,b,m,g){var O;return Object(i.a)(this,n),(O=t.call(this))._zapID=e,O._val1=r,O._val2=a,O._val3=o,O._val4=c,O._val5=u,O._val6=l,O._val7=s,O._val8=d,O._val9=f,O._val10=p,O._val11=v,O._val12=h,O._onSuccess=b,O._onFailure=m,O._onQuotaReached=g,O}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=this,i=Object(p.J)(this._zapID.eval(e,n)),a=Object(p.J)(this._val1.eval(e,n)),o=Object(p.J)(this._val2.eval(e,n)),c=Object(p.J)(this._val3.eval(e,n)),u=Object(d.definedMap)(this._val4,(function(t){return Object(p.J)(t.eval(e,n))})),l=Object(d.definedMap)(this._val5,(function(t){return Object(p.J)(t.eval(e,n))})),s=Object(d.definedMap)(this._val6,(function(t){return Object(p.J)(t.eval(e,n))})),f=Object(d.definedMap)(this._val7,(function(t){return Object(p.J)(t.eval(e,n))})),h=Object(d.definedMap)(this._val8,(function(t){return Object(p.J)(t.eval(e,n))})),b=Object(d.definedMap)(this._val9,(function(t){return Object(p.J)(t.eval(e,n))})),m=Object(d.definedMap)(this._val10,(function(t){return Object(p.J)(t.eval(e,n))})),g=Object(d.definedMap)(this._val11,(function(t){return Object(p.J)(t.eval(e,n))})),O=Object(d.definedMap)(this._val12,(function(t){return Object(p.J)(t.eval(e,n))}));if(i!==v.e&&a!==v.e&&o!==v.e&&c!==v.e&&u!==v.e&&l!==v.e&&s!==v.e&&f!==v.e&&h!==v.e&&b!==v.e&&m!==v.e&&g!==v.e&&O!==v.e&&"string"===typeof i&&!Object(A.G)(i)){var y=t.appEnvironment,j=y.appID,C=y.appFacilities,w=Object(p.w)(a),S=Object(p.w)(o),E=Object(p.w)(c),M=Object(p.w)(u),R=Object(p.w)(l),D=Object(p.w)(s),T=Object(p.w)(f),P=Object(p.w)(h),I=Object(p.w)(b),_=Object(p.w)(m),N=Object(p.w)(g),F=Object(p.w)(O);return function(){var a=Object(x.a)(k.a.mark((function a(){var o,c,u,l;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.callAuthIfAvailableCloudFunction("triggerZap",{zapID:i,appID:j,val1:w,val2:S,val3:E,val4:M,val5:R,val6:D,val7:T,val8:P,val9:I,val10:_,val11:N,val12:F},{});case 2:if(o=a.sent,c=null===o||void 0===o?void 0:o.status,u=200===c,C.trackEvent(u?"zap sent":"zap failure",{app_id:j}),void 0!==(l=402===c?r._onQuotaReached:u?r._onSuccess:r._onFailure)){a.next=9;break}return a.abrupt("return");case 9:H(e,t,n,l);case 10:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()(),B.c.ZapierTrigger}}}],[{key:"spec",get:function(){return["TriggerZapWithValues","action",["zapID","evaluable"],["val1","evaluable"],["val2","evaluable"],["val3","evaluable"],["val4","evaluable",!1],["val5","evaluable",!1],["val6","evaluable",!1],["val7","evaluable",!1],["val8","evaluable",!1],["val9","evaluable",!1],["val10","evaluable",!1],["val11","evaluable",!1],["val12","evaluable",!1],["onSuccess","action"],["onFailure","action"],["onQuotaReached","action",!1]]}}]),n}(B.a),re=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a){var o;return Object(i.a)(this,n),(o=t.call(this))._webhookID=e,o._namesAndValues=r,o._onSuccess=a,o}return Object(a.a)(n,[{key:"runAsync",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n,r){var i,a,o,c,u,l,s,f,v;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(d.definedMap)(this._webhookID.eval(t,r),p.J),a=Object(d.definedMap)(this._namesAndValues.eval(t,r),p.J),Object(p.K)(a)&&Object(p.K)(i)){e.next=4;break}return e.abrupt("return",void 0);case 4:o={},c=Object(p.v)(a),u=0;case 7:if(!(u<c.length)){e.next=16;break}if(l=Object(p.M)(Object(p.J)(c[u+0]),p.F),s=Object(p.M)(Object(p.J)(c[u+1]),p.Q),void 0!==l&&void 0!==s){e.next=12;break}return e.abrupt("continue",13);case 12:o[l]=s;case 13:u+=2,e.next=7;break;case 16:return f={appID:n.appEnvironment.appID,webhookID:Object(p.F)(i),params:o},e.next=19,n.appEnvironment.appFacilities.callAuthIfAvailableCloudFunction("triggerAppWebhookAction",f,{});case 19:return!0===(null===(v=e.sent)||void 0===v?void 0:v.ok)&&H(t,n,r,this._onSuccess),e.abrupt("return",void 0);case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}],[{key:"spec",get:function(){return["TriggerWebhook","action",["webhookID","evaluable"],["namesAndValues","evaluable"],["onSuccess","action",!1]]}}]),n}(B.f),ie=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this))._message=e,a._isSuccess=r,a}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r,i,a,o,c=Object(d.definedMap)(null===(r=this._message)||void 0===r?void 0:r.eval(e,n),p.J),u=Object(d.definedMap)(null===(i=this._isSuccess)||void 0===i?void 0:i.eval(e,n),p.J);if(c!==v.e&&u!==v.e){var l=null===(a=Object(d.definedMap)(u,p.x))||void 0===a||a,s=null!==(o=Object(d.definedMap)(c,p.F))&&void 0!==o?o:Object(O.e)(l?"formSubmissionSuccess":"error");t.appEnvironment.showToast(s,l)}}}],[{key:"spec",get:function(){return["ShowFormSuccessToast","action",["message","evaluable",!1],["isSuccess","evaluable",!1]]}}]),n}(B.a),ae=function(e){Object(c.a)(n,e);var t=G(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._sound=e,r}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=Object(d.definedMap)(this._sound.eval(e,n),p.J),i=Object(p.M)(r,p.F);if(void 0!==i){var a=Object.values(S.a).find((function(e){return e===i}));void 0!==a&&t.appEnvironment.playSound(a)}}}],[{key:"spec",get:function(){return["PlaySound","action",["sound","evaluable",!0]]}}]),n}(B.a),oe=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a,o,c,u,l){var s;return Object(i.a)(this,n),(s=t.call(this))._title=e,s._description=r,s._acceptText=a,s._cancelText=o,s._style=c,s._onAccept=u,s._onCancel=l,s}return Object(a.a)(n,[{key:"runAsync",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n,r){var i,a,o,c,u,l,s,d;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(p.M)(Object(p.J)(this._title.eval(t,r)),p.F),a=Object(p.M)(Object(p.J)(this._description.eval(t,r)),p.F),o=Object(p.M)(Object(p.J)(this._acceptText.eval(t,r)),p.F),c=Object(p.M)(Object(p.J)(this._cancelText.eval(t,r)),p.F),u=Object(p.M)(Object(p.J)(this._style.eval(t,r)),p.F),l=W(t,r,this._onAccept),s=W(t,r,this._onCancel),void 0!==i&&void 0!==a&&void 0!==o&&void 0!==c&&void 0!==u&&void 0!==l&&void 0!==s){e.next=9;break}return e.abrupt("return",void 0);case 9:return e.next=11,Object(h.c)({title:i,description:a,accept:o,cancel:c,style:u});case 11:!0===(d=e.sent)?l.run(t,n,r):!1===d&&s.run(t,n,r);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}],[{key:"spec",get:function(){return["ShowPopupModal","action",["title","evaluable"],["description","evaluable"],["acceptText","evaluable"],["cancelText","evaluable"],["style","evaluable"],["onAccept","action"],["onCancel","action"]]}}]),n}(B.f),ce=function(e){Object(c.a)(n,e);var t=G(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._message=e,r}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=Object(p.J)(this._message.eval(e,n));if(r!==v.e)return M()(Object(p.F)(r)),B.c.CopiedToClipboard}}],[{key:"spec",get:function(){return["CopyToClipboard","action",["message","evaluable"]]}}]),n}(B.a),ue=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this))._message=e,a._url=r,a}return Object(a.a)(n,[{key:"runAsync",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n,i){var a,o,c,u,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t,i,[this._message,this._url]);case 2:if(a=e.sent,o=Object(r.a)(a,2),c=o[0],u=o[1],Object(p.K)(c)||Object(p.K)(u)){e.next=8;break}return e.abrupt("return");case 8:l=navigator;try{Object(P.b)("share sheet",c,u),l.share({text:Object(p.F)(c),url:Object(p.F)(u)})}catch(n){}case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}],[{key:"spec",get:function(){return["ShowShareSheet","action",["message","evaluable",!1],["url","evaluable",!1]]}}]),n}(B.f);function le(e,t,n){if(void 0!==e){var r=Object(p.J)(e.eval(t,n));if(Object(p.K)(r)){var i=Object(A.V)(Object(p.v)(r),(function(e){return Object(p.M)(Object(p.J)(e),(function(e){return Object(p.F)(e)}))}));return new Set(i)}}}var se=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a,o,c){var u;return Object(i.a)(this,n),(u=t.call(this))._name=e,u._ctx=r,u._title=a,u._flags=o,u._itemID=c,u}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r,i=this._ctx.eval(e,n);if(Object(p.K)(i.current)){var a=Object(p.J)(this._name.eval(e,n));if(Object(p.K)(a)){var o=Object(p.M)(Object(d.definedMap)(null===(r=this._itemID)||void 0===r?void 0:r.eval(e,n),p.J),p.F);t.appEnvironment.pushBuilderScreen(Object(p.F)(a),i,this._title,t,le(this._flags,e,n),o)}}}},{key:"canExecute",value:function(e,t){var n=t(this._ctx.eval(e,void 0));return!!Object(p.K)(n)&&(!Object(A.D)(n)||n.length>0)}},{key:"autoRunInTabletMode",get:function(){return!0}}],[{key:"spec",get:function(){return["PushBuilderScreen","action",["name","evaluable"],["ctx","evaluable"],["title","evaluable",!1],["flags","evaluable",!1],["itemID","evaluable",!1]]}}]),n}(B.a),de=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a,o){var c;return Object(i.a)(this,n),(c=t.call(this))._name=e,c._ctx=r,c._title=a,c._flags=o,c}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=Object(p.J)(this._name.eval(e,n));Object(p.K)(r)&&t.appEnvironment.pushModalBuilderScreen(Object(p.F)(r),this._ctx.eval(e,n),this._title,le(this._flags,e,n))}}],[{key:"spec",get:function(){return["PushModalBuilderScreen","action",["name","evaluable"],["ctx","evaluable"],["title","evaluable",!1],["flags","evaluable",!1]]}}]),n}(B.a),fe=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a,o){var c;return Object(i.a)(this,n),(c=t.call(this))._menuID=e,c._primaryKey=r,c._defaultScreenName=a,c._ctx=o,c}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=this._ctx.eval(e,n);if(Object(p.K)(r.current)){var i=Object(p.J)(this._menuID.eval(e,n));if(Object(p.K)(i)){var a=Object(p.J)(this._primaryKey.eval(e,n));if(Object(p.K)(a)){var o=Object(p.J)(this._defaultScreenName.eval(e,n));Object(p.K)(o)&&t.appEnvironment.pushMenuScreen(Object(p.F)(i),w()(Object(p.F)(a)),Object(p.F)(o),r,t)}}}}},{key:"canExecute",value:function(e,t){var n=t(this._ctx.eval(e,void 0));return!!Object(p.K)(n)&&(!Object(A.D)(n)||n.length>0)}}],[{key:"spec",get:function(){return["PushMenuScreen","action",["menuID","evaluable"],["primaryKey","evaluable"],["defaultScreenName","evaluable"],["ctx","evaluable"]]}}]),n}(B.a),pe=function(e){Object(c.a)(n,e);var t=G(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"run",value:function(e,t){t.appEnvironment.popScreen(t)}}],[{key:"spec",get:function(){return["PopScreen","action"]}}]),n}(B.a),ve=function(e){Object(c.a)(n,e);var t=G(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"run",value:function(e,t){t.appEnvironment.popModalScreen(t)}}],[{key:"spec",get:function(){return["PopModalScreen","action"]}}]),n}(B.a),he=function(e){Object(c.a)(n,e);var t=G(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._index=e,r}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=Object(p.J)(this._index.eval(e,n));r!==v.e&&t.appEnvironment.setCurrentTab(Object(p.D)(r),t)}}],[{key:"spec",get:function(){return["SetCurrentTab","action",["index","evaluable"]]}}]),n}(B.a),be=function(e){Object(c.a)(n,e);var t=G(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._index=e,r}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=Object(p.J)(this._index.eval(e,n));r!==v.e&&t.appEnvironment.setCurrentPivot(Object(p.D)(r),t)}}],[{key:"spec",get:function(){return["SetCurrentPivot","action",["index","evaluable"]]}}]),n}(B.a),me=function(e){Object(c.a)(n,e);var t=G(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._url=e,r}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Object(p.J)(this._url.eval(e,v.a.OpenLink));i===v.e||r||t.appEnvironment.appFacilities.openURL(Object(p.F)(i))}},{key:"canExecute",value:function(e,t){var n=t(this._url.eval(e,v.a.OpenLink));return Object(p.K)(n)}},{key:"targetURL",value:function(e,t){var n=Object(p.J)(this._url.eval(e,v.a.OpenLink));return Object(p.M)(n,(function(e){return Object(A.sb)(Object(p.F)(e))}))}}],[{key:"spec",get:function(){return["OpenLink","action",["url","evaluable"]]}}]),n}(B.a),ge=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a){var o;return Object(i.a)(this,n),(o=t.call(this))._latitude=e,o._longitude=r,o._address=a,o}return Object(a.a)(n,[{key:"getLocation",value:function(e){if(void 0!==this._address){var t=Object(p.M)(Object(p.J)(this._address.eval(e,v.a.OpenLink)),p.F);if(void 0===t)return;return{kind:B.j.Address,address:t}}if(void 0!==this._latitude&&void 0!==this._longitude){var n=Object(p.M)(Object(p.J)(this._latitude.eval(e,v.a.OpenLink)),p.D),r=Object(p.M)(Object(p.J)(this._longitude.eval(e,v.a.OpenLink)),p.D);if(void 0===n||void 0===r)return;return{kind:B.j.LatLong,latitude:n,longitude:r}}}},{key:"targetURL",value:function(e,t){return Object(d.definedMap)(this.getLocation(e),(function(e){return t.appEnvironment.appFacilities.mapURL(e)}))}},{key:"run",value:function(e,t,n,r){if(!0!==r){var i=this.getLocation(e);void 0!==i&&t.appEnvironment.appFacilities.openMap(i)}}}],[{key:"spec",get:function(){return["OpenMap","action",["latitude","evaluable",!1],["longitude","evaluable",!1],["address","evaluable",!1]]}}]),n}(B.a),Oe=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a,o,c){var u;return Object(i.a)(this,n),(u=t.call(this))._to=e,u._subject=r,u._body=a,u._cc=o,u._bcc=c,u}return Object(a.a)(n,[{key:"targetURL",value:function(e,t){var n=v.a.SendEmail,r=Object(p.M)(Object(p.J)(this._to.eval(e,n)),p.F),i=Object(p.M)(Object(d.definedMap)(this._subject,(function(t){return Object(p.J)(t.eval(e,n))})),p.F),a=Object(p.M)(Object(d.definedMap)(this._body,(function(t){return Object(p.J)(t.eval(e,n))})),p.F),o=Object(p.M)(Object(d.definedMap)(this._cc,(function(t){return Object(p.J)(t.eval(e,n))})),p.F),c=Object(p.M)(Object(d.definedMap)(this._bcc,(function(t){return Object(p.J)(t.eval(e,n))})),p.F);if(void 0!==r){var u=t.appEnvironment;return u.appFacilities.mailtoURL(Object(L.u)(u.appFeatures),r,i,a,o,c)}}},{key:"run",value:function(e,t,n,r){if(!0!==r){var i=this.targetURL(e,t);void 0!==i&&t.appEnvironment.appFacilities.openURL(i)}}}],[{key:"spec",get:function(){return["SendEmail","action",["to","evaluable"],["subject","evaluable",!1],["body","evaluable",!1],["cc","evaluable",!1],["bcc","evaluable",!1]]}}]),n}(B.a),ye=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this))._lhs=e,a._rhs=r,a}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=this._lhs.eval(e,n),i=Object(p.J)(this._rhs.eval(e,n));i!==v.e&&r.set(i)}}],[{key:"spec",get:function(){return["Set","action",["lhs","evaluable"],["rhs","evaluable"]]}}]),n}(B.a),je=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a){var o;return Object(i.a)(this,n),(o=t.call(this))._lhs=e,o._rhs=r,o._columnNames=a,o}return Object(a.a)(n,[{key:"makeValue",value:function(e){return e}},{key:"run",value:function(e,t,n){var r=this._lhs.eval(e,n),i=Object(p.I)(this._rhs.eval(e,n)),a=Object(p.I)(r);if(Object(p.K)(a)&&Object(p.K)(i)){var o=Object(p.H)(this._columnNames,e,n);if(o!==v.e)for(var c=i.getObjectValue(),u=0,l=Object.keys(c);u<l.length;u++){var s=l[u];if(void 0===o||o.has(s)){var d=a.getProperty(s),f=Object(p.J)(Object(A.n)(c[s]));f!==v.e?void 0===f||""===f?void 0!==d&&r.removeProperty(s):void 0===d?r.addProperty(s,new b.c(this.makeValue(f))):d.set(this.makeValue(f)):Object(P.a)("RHS property ".concat(s," isn't loaded"))}}}}}],[{key:"spec",get:function(){return["SetProperties","action",["lhs","evaluable"],["rhs","evaluable"],["columnNames","evaluable",!1]]}}]),n}(B.a),ke=function(e){Object(c.a)(n,e);var t=G(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"makeValue",value:function(e){return Object(p.F)(e)}}],[{key:"spec",get:function(){return["SetStringProperties","action",["lhs","evaluable"],["rhs","evaluable"]]}}]),n}(je),xe=function(e){Object(c.a)(n,e);var t=G(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"makeValue",value:function(e){return Number.parseFloat(Object(p.F)(e))}}],[{key:"spec",get:function(){return["SetNumberProperties","action",["lhs","evaluable"],["rhs","evaluable"]]}}]),n}(je),Ce=function(e){Object(c.a)(n,e);var t=G(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._topic=e,r}return Object(a.a)(n,[{key:"run",value:function(e,t){var n=Object(p.J)(this._topic.eval(e,v.a.PostComment));if(Object(p.K)(n)){var r=Object(p.I)(e);if(Object(p.K)(r)){var i=Object(p.M)(Object(d.definedMap)(r.getProperty("username"),p.J),p.F),a=Object(p.M)(Object(d.definedMap)(r.getProperty("email"),p.J),p.F),o=Object(p.M)(Object(d.definedMap)(r.getProperty("comment"),p.J),p.F);if(void 0!==i&&void 0!==o){var c=t.appEnvironment.database,u={topic:Object(p.F)(n),username:i,comment:o,dateTime:{$dateTime:new Date,$isTimeZoneAgnostic:!1}};void 0!==a&&(u.email=Object(A.db)(a)),c.setDocument(Object(T.A)(t.appEnvironment.appID),void 0,u)}}}}}],[{key:"spec",get:function(){return["PostComment","action",["topic","evaluable"]]}}]),n}(B.a),we=function(e){Object(c.a)(n,e);var t=G(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._topic=e,r}return Object(a.a)(n,[{key:"runAsync",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n){var r,i,a,o,c,u,l,s,d,f;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(p.J)(this._topic.eval(t,v.a.PostComment)),Object(p.K)(r)){e.next=3;break}return e.abrupt("return",void 0);case 3:return i=Object(p.v)(Object(p.J)(t)),a=Object(A.V)(i,(function(e){return Object(p.M)(Object(p.J)(e),A.i)})),o=a.map((function(e){return{keyColumnName:D.j,keyColumnValue:e}})),c=n.appEnvironment,u=c.appID,l=c.appFacilities,s=c.database,d=c.authenticator.appUserID,e.next=10,l.getAuthUserID();case 10:return f=e.sent,e.next=13,s.runBatch("postDeleteComments",function(){var e=Object(x.a)(k.a.mark((function e(t){var n,r,i,a,c,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r=!1,i=void 0,e.prev=3,a=o[Symbol.iterator]();case 5:if(n=(c=a.next()).done){e.next=12;break}return l=c.value,e.next=9,Object(D.V)(t,u,f,d,void 0,T.n,l,!1);case 9:n=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),r=!0,i=e.t0;case 18:e.prev=18,e.prev=19,n||null==a.return||a.return();case 21:if(e.prev=21,!r){e.next=24;break}throw i;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,null,[[3,14,18,26],[19,,21,25]])})));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"spec",get:function(){return["DeleteComments","action",["topic","evaluable"]]}}]),n}(B.f),Se=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this))._array=e,a._item=r,a}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=this._array.eval(e,n),i=this._item.eval(e,n);r.appendItem(i)}}],[{key:"spec",get:function(){return["AppendItem","action",["array","evaluable"],["item","evaluable"]]}}]),n}(B.a),Ee=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this))._array=e,a._predicate=r,a}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=this._array.eval(e,n),i=Object(p.J)(r);if(Object(p.K)(i)){if(!Object(A.D)(i))return Object(A.hb)("Trying to remove items from non-array");for(var a=i.length-1;a>=0;a--){var o=Object(p.J)(this._predicate.eval(i[a],n));Object(p.K)(o)&&Object(p.x)(o)&&r.removeItemAtIndex(a)}}}}],[{key:"spec",get:function(){return["RemoveItems","action",["array","evaluable"],["predicate","evaluable"]]}}]),n}(B.a),Me=function(e){Object(c.a)(n,e);var t=G(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._item=e,r}return Object(a.a)(n,[{key:"run",value:function(e,t,n){this._item.eval(e,n).removeFromParent()}}],[{key:"spec",get:function(){return["RemoveItemFromParent","action",["item","evaluable"]]}}]),n}(B.a),Re=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a,o,c,u){var l;return Object(i.a)(this,n),(l=t.call(this))._tableName=e,l._columnValues=r,l._columnNames=a,l._addToData=o,l._onWriteSuccess=c,l._dataStoreName=u,l}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=this;function i(){t.appEnvironment.showToast(Object(O.e)("error"),!1)}try{var a,o=Object(p.J)(this._tableName.eval(e,n));if(!Object(p.K)(o))return Object(P.a)("Add row to table: no table name"),void i();var c=this._columnValues.eval(e,n),u=Object(p.H)(this._columnNames,e,n);if(u===v.e)return Object(P.a)("Add row to table: column names set is loading"),void i();var l=Object(p.M)(Object(d.definedMap)(this._addToData,(function(t){return Object(p.J)(t.eval(e,n))})),A.g),s=Object(p.M)(Object(d.definedMap)(null===(a=this._dataStoreName)||void 0===a?void 0:a.eval(e,n),p.J),p.F);Object(P.b)("Add row to table",s,o,c,u,l),("local"===s?t.appEnvironment.localDataStore:t.appEnvironment.dataStore).addRowToTable(Object(N.Xb)(Object(A.i)(o)),c,u,!0===l,!1).then((function(a){return a?H(e,t,n,r._onWriteSuccess):void i()})).catch(i)}catch(f){i()}}}],[{key:"spec",get:function(){return["AddRowToTable","action",["tableName","evaluable"],["columnValues","evaluable"],["columnNames","evaluable",!1],["addToData","evaluable",!1],["onWriteSuccess","action",!1],["dataStoreName","evaluable",!1]]}}]),n}(B.a),De=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a,o,c,u){var l;return Object(i.a)(this,n),(l=t.call(this))._allowMultipleRows=e,l._tableName=r,l._rowIndex=a,l._keyColumnName=o,l._keyColumnValue=c,l._setUnderlyingData=u,l}return Object(a.a)(n,[{key:"makeRowIndexes",value:function(e,t){var n,r,i=Object(d.definedMap)(this._rowIndex,(function(n){return Object(p.J)(n.eval(e,t))}));if(Object(p.K)(i)){if(Array.isArray(i)){var a=[],o=!0,c=!1,u=void 0;try{for(var l,f=i[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var v=l.value,h=Object(p.I)(v);if(Object(p.K)(h)){var b=Object(d.definedMap)(h.getProperty("keyColumnName"),p.J),m=Object(d.definedMap)(h.getProperty("keyColumnValue"),p.J);Object(p.K)(b)&&Object(p.K)(m)&&a.push({keyColumnName:Object(A.i)(b),keyColumnValue:m})}}}catch(y){c=!0,u=y}finally{try{o||null==f.return||f.return()}finally{if(c)throw u}}return this._allowMultipleRows||Object(A.d)(1===a.length),a}n=Object(_.d)(i)}var g=Object(d.definedMap)(this._keyColumnName,(function(n){return Object(p.J)(n.eval(e,t))})),O=Object(d.definedMap)(this._keyColumnValue,(function(n){return Object(p.J)(n.eval(e,t))}));if(Object(p.K)(g)&&Object(p.K)(O))r={keyColumnName:Object(A.i)(g),keyColumnValue:O},void 0!==n&&(r=Object(s.a)(Object(s.a)({},r),{},{rowIndexHint:n}));else{if(void 0===n)return;r=n}return[r]}},{key:"run",value:function(e,t,n){var r=Object(p.J)(this._tableName.eval(e,n));if(Object(p.K)(r)){var i=this.makeRowIndexes(e,n);if(void 0!==i){var a=Object(d.definedMap)(Object(d.definedMap)(this._setUnderlyingData,(function(t){return Object(p.J)(t.eval(e,n))})),p.x);this.runForRows(e,t,n,Object(N.Xb)(Object(A.i)(r)),i,!0===a)}}}}]),n}(B.a),Te=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a,o,c,u,l){var s;return Object(i.a)(this,n),(s=t.call(this,!1,e,r,a,o,l))._columnValues=c,s._debounce=u,s}return Object(a.a)(n,[{key:"runForRows",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n,i,a,o,c){var u,l,s,f;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=Object(r.a)(o,1),l=u[0],s=this._columnValues.eval(t,i),f=Object(d.definedMap)(this._debounce,(function(e){return Object(p.J)(e.eval(t,i))})),e.next=5,n.appEnvironment.dataStore.setColumnsInRow(a,l,s,c,!1!==f,!1);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,a,o){return e.apply(this,arguments)}}()}],[{key:"spec",get:function(){return["SetColumnsInRow","action",["tableName","evaluable"],["rowIndex","evaluable",!1],["keyColumnName","evaluable",!1],["keyColumnValue","evaluable",!1],["columnValues","evaluable"],["debounce","evaluable",!1],["setUnderlyingData","evaluable",!1]]}}]),n}(De),Pe=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a,o,c){var u;return Object(i.a)(this,n),(u=t.call(this,!1,e,a,o,c,void 0))._columnName=r,u}return Object(a.a)(n,[{key:"runForRows",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n,i,a,o){var c,u,l,s,d,f,v,h,m,g,O,y;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Object(r.a)(o,1),u=c[0],l=n.appEnvironment,s=l.appID,d=l.appFacilities,f=l.dataStore,v=Object(p.M)(Object(p.J)(this._columnName.eval(t,i)),A.i),h=Object(p.M)(Object(p.J)(t),(function(e){return Object(I.a)(Object(A.i)(e))})),void 0!==v&&void 0!==h){e.next=6;break}return e.abrupt("return");case 6:m=function(){var e=Object(x.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.setColumnsInRow(a,u,b.c.fromJSON({[v]:t}),!0,!1,!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.t0=h.kind,e.next="uri"===e.t0?10:"file"===e.t0?13:25;break;case 10:return e.next=12,m(h.uri);case 12:return e.abrupt("break",25);case 13:return g=h.file,O=Object(V.e)(d,s,g,"drop-image",void 0),e.next=17,O.attempt();case 17:if(y=e.sent,!Object(B.r)(y)){e.next=22;break}Object(P.a)("Could not upload image",y.error),e.next=24;break;case 22:return e.next=24,m(y.path);case 24:return e.abrupt("break",25);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()}],[{key:"spec",get:function(){return["DropImage","action",["tableName","evaluable"],["columnName","evaluable"],["rowIndex","evaluable"],["keyColumnName","evaluable",!1],["keyColumnValue","evaluable",!1]]}}]),n}(De),Ie=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a,o,c){return Object(i.a)(this,n),t.call(this,!0,e,r,a,o,c)}return Object(a.a)(n,[{key:"runForRows",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n,i,a,o,c){var u,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=Object(r.a)(o,1),l=u[0],e.next=3,n.appEnvironment.dataStore.deleteRowAtIndex(a,l,c,!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a,o){return e.apply(this,arguments)}}()}],[{key:"spec",get:function(){return["DeleteRow","action",["tableName","evaluable"],["rowIndex","evaluable",!1],["keyColumnName","evaluable",!1],["keyColumnValue","evaluable",!1],["setUnderlyingData","evaluable",!1]]}}]),n}(De),_e=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a){var o;return Object(i.a)(this,n),(o=t.call(this))._dataStoreName=e,o._tableName=r,o._row=a,o}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r,i=Object(p.J)(this._tableName.eval(e,n));if(Object(p.K)(i)){var a;a="local"===Object(p.M)(Object(d.definedMap)(null===(r=this._dataStoreName)||void 0===r?void 0:r.eval(e,n),p.J),p.F)?t.appEnvironment.localDataStore:t.appEnvironment.dataStore;var o=this._row.eval(e,n);Object(p.K)(o)&&a.deleteRow(Object(N.Xb)(Object(A.i)(i)),o,!1)}}}],[{key:"spec",get:function(){return["DeleteRowFromTable","action",["dataStoreName","evaluable"],["tableName","evaluable"],["row","evaluable"]]}}]),n}(B.a),Ne=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this))._dataStoreName=e,a._tableName=r,a}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r,i=Object(p.J)(this._tableName.eval(e,n));Object(p.K)(i)&&("local"===Object(p.M)(Object(d.definedMap)(null===(r=this._dataStoreName)||void 0===r?void 0:r.eval(e,n),p.J),p.F)?t.appEnvironment.localDataStore:t.appEnvironment.dataStore).clearTable(Object(N.Xb)(Object(A.i)(i)))}}],[{key:"spec",get:function(){return["ClearTable","action",["dataStoreName","evaluable"],["tableName","evaluable"]]}}]),n}(B.a),Ae=function(e){Object(c.a)(n,e);var t=G(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._result=e,r}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=Object(p.J)(this._result.eval(e,n));if(Object(p.K)(r))return Object(p.F)(r)}}],[{key:"spec",get:function(){return["ConfirmAction","action",["result","evaluable"]]}}]),n}(B.a),Fe=function(e){Object(c.a)(n,e);var t=G(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"run",value:function(e,t){var n=t.appEnvironment;n.isBuilder||n.signOut()}}],[{key:"spec",get:function(){return["SignOut","action"]}}]),n}(B.a),Le=function(e){Object(c.a)(n,e);var t=G(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"run",value:function(e){Object(m.e)(e)}}],[{key:"spec",get:function(){return["Reshuffle","action"]}}]),n}(B.a),Be=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this))._from=e,a._message=r,a}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=Object(p.J)(this._from.eval(e,n));if(Object(p.K)(r)){var i=Object(p.J)(this._message.eval(e,n));if(Object(p.K)(i)){var a={appID:t.appEnvironment.appID,from:Object(p.F)(r),message:Object(p.F)(i)};Object(A.s)(Object(R.a)(t.appEnvironment.appFacilities.locationSettings,"sendAppFeedback",a)),t.appEnvironment.appFacilities.trackEvent("feedback sent",{app_id:t.appEnvironment.appID})}}}}],[{key:"spec",get:function(){return["SendAppFeedback","action",["from","evaluable"],["message","evaluable"]]}}]),n}(B.a),Ve=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r,a){var o;return Object(i.a)(this,n),(o=t.call(this))._from=e,o._message=r,o._reason=a,o}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=Object(p.J)(this._from.eval(e,n));if(Object(p.K)(r)){var i=Object(p.J)(this._message.eval(e,n));if(Object(p.K)(i)){var a=Object(p.J)(this._reason.eval(e,n));if(Object(p.K)(a)){var o={appID:t.appEnvironment.appID,from:Object(p.F)(r),message:Object(p.F)(i),reason:Object(p.F)(a)};Object(A.s)(Object(R.a)(t.appEnvironment.appFacilities.locationSettings,"reportApp",o)),t.appEnvironment.appFacilities.trackEvent("report sent",{app_id:t.appEnvironment.appID})}}}}}],[{key:"spec",get:function(){return["ReportApp","action",["from","evaluable"],["message","evaluable"],["reason","evaluable"]]}}]),n}(B.a),Ue=function(e){Object(c.a)(n,e);var t=G(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this))._cv=e,a._action=r,a}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=Object(p.M)(Object(p.J)(this._cv.eval(e,n)),B.p),i=W(e,n,this._action);void 0!==r&&void 0!==i&&Object(A.s)(r.wait().then((function(){return i.run(e,t,n)})))}}],[{key:"spec",get:function(){return["OnNotifyConditionVariable","action",["cv","evaluable"],["action","evaluable"]]}}]),n}(B.a),ze=function(e){Object(c.a)(n,e);var t=G(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._cv=e,r}return Object(a.a)(n,[{key:"run",value:function(e,t,n){var r=Object(p.M)(Object(p.J)(this._cv.eval(e,n)),B.p);void 0!==r&&r.notifyAll()}}],[{key:"spec",get:function(){return["NotifyConditionVariable","action",["cv","evaluable"]]}}]),n}(B.a);var We=n(129),He=n(26);function Ke(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var qe=function(e){Object(c.a)(n,e);var t=Ke(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this))._appFacilities=e,a._url=r,a}return Object(a.a)(n,[{key:"firstSubscribed",value:function(){Object(He.a)(Object(l.a)(n.prototype),"firstSubscribed",this).call(this),this._url.subscribe(this)}},{key:"lastUnsubscribed",value:function(){Object(He.a)(Object(l.a)(n.prototype),"lastUnsubscribed",this).call(this),this._url.unsubscribe(this)}},{key:"recomputeAsync",value:function(){var e=Object(x.a)(k.a.mark((function e(){var t,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this._url.current)!==v.e){e.next=3;break}return e.abrupt("return",void 0);case 3:return n=Object(p.F)(t),e.next=6,this._appFacilities.fetchJSON(n);case 6:if(void 0!==(r=e.sent)){e.next=9;break}return e.abrupt("return",void 0);case 9:return e.abrupt("return",Object(b.k)(r,!1));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getObjectInspector",value:function(e){return Object(p.P)(this,e)}}]),n}(p.a),Ge=function(e){Object(c.a)(n,e);var t=Ke(n);function n(e,r,a){var c;return Object(i.a)(this,n),(c=t.call(this))._appEnvironment=e,c._webhookID=r,c._params=a,c._subscriptionManager=new p.t(Object(o.a)(c)),c}return Object(a.a)(n,[{key:"recompute",value:function(e){var t=e(this._webhookID),n=e(this._params);if(t===v.e||n===v.e)return v.e;var r=Object(p.C)(t);if(void 0!==r&&void 0!==n){if(!Object(p.K)(n))return n;for(var i=Object(p.v)(n),a={},o=0;o<i.length;o+=2){var c=e(i[o+0]);if(c===v.e)return v.e;var u=e(i[o+1]);if(u===v.e)return v.e;var l=Object(p.C)(c);if(void 0!==l){var s=Object(p.Q)(u);void 0!==s&&(a[l]=s)}}return{webhookID:r,params:a}}}},{key:"lastUnsubscribed",value:function(){Object(He.a)(Object(l.a)(n.prototype),"lastUnsubscribed",this).call(this),this._subscriptionManager.unsubscribe()}},{key:"recomputeAsync",value:function(){var e=Object(x.a)(k.a.mark((function e(){var t,n,r,i,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._subscriptionManager.run(this.hasSubscribers),Object(p.K)(t)){e.next=3;break}return e.abrupt("return",t);case 3:return n=Object(s.a)({appID:this._appEnvironment.appID},t),e.next=6,this._appEnvironment.appFacilities.callAuthIfAvailableCloudFunction("callAPIColumn",n,{});case 6:if(!0===(null===(r=e.sent)||void 0===r?void 0:r.ok)){e.next=9;break}return e.abrupt("return",void 0);case 9:return e.next=11,r.json();case 11:if(void 0!==(i=e.sent)){e.next=14;break}return e.abrupt("return",void 0);case 14:if(Object(d.hasOwnProperty)(i,"type")&&"string"===typeof i.type){e.next=16;break}return e.abrupt("return",void 0);case 16:if(Object(d.hasOwnProperty)(i,"value")){e.next=18;break}return e.abrupt("return",void 0);case 18:if("string"!==i.type){e.next=24;break}if("string"===typeof i.value){e.next=21;break}return e.abrupt("return",void 0);case 21:a=i.value,e.next=43;break;case 24:if("number"!==i.type){e.next=30;break}if("number"===typeof i.value){e.next=27;break}return e.abrupt("return",void 0);case 27:a=i.value,e.next=43;break;case 30:if("boolean"!==i.type){e.next=36;break}if("boolean"===typeof i.value){e.next=33;break}return e.abrupt("return",void 0);case 33:a=i.value,e.next=43;break;case 36:if("date-time"!==i.type){e.next=42;break}if("string"===typeof i.value){e.next=39;break}return e.abrupt("return",void 0);case 39:a=Object(p.z)(i.value),e.next=43;break;case 42:return e.abrupt("return",void 0);case 43:return e.abrupt("return",a);case 44:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getObjectInspector",value:function(e){return Object(p.P)(this,e)}}]),n}(p.a),Je=function(){function e(t){Object(i.a)(this,e),this._url=t}return Object(a.a)(e,[{key:"evalInEnvironment",value:function(e,t){return new qe(e.root.appEnvironment.appFacilities,this._url.evalInEnvironment(e,t))}}],[{key:"spec",get:function(){return["HTTPFetch","evaluable",["url","evaluable"]]}}]),e}(),Ze=new Map;function Xe(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(x.a)(k.a.mark((function e(t,n){var r,i,a,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(r=Ze.get(n))){e.next=3;break}return e.abrupt("return",r.current);case 3:return e.next=5,Object(D.L)(t.database,n);case 5:if(void 0!==(i=e.sent)){e.next=10;break}return e.next=9,Object(A.tb)(100);case 9:return e.abrupt("continue",19);case 10:if(a=b.c.fromJSON(i.data),void 0===(o=Ze.get(n))){e.next=17;break}return Object(b.m)(o,a),e.abrupt("return",o.current);case 17:return Ze.set(n,a),e.abrupt("return",a.current);case 19:e.next=3;break;case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,t){return $e.apply(this,arguments)}function $e(){return($e=Object(x.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(r=Ze.get(n))){e.next=3;break}return e.abrupt("return",r.current);case 3:return e.next=5,Xe(t,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var et=function(e){Object(c.a)(n,e);var t=Ke(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this))._appEnvironment=e,a._id=r,a}return Object(a.a)(n,[{key:"firstSubscribed",value:function(){Object(He.a)(Object(l.a)(n.prototype),"firstSubscribed",this).call(this),this._id.subscribe(this)}},{key:"lastUnsubscribed",value:function(){Object(He.a)(Object(l.a)(n.prototype),"lastUnsubscribed",this).call(this),this._id.unsubscribe(this)}},{key:"recomputeAsync",value:function(){var e=Object(x.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this._id.current)!==v.e){e.next=3;break}return e.abrupt("return",v.e);case 3:return n=Object(p.F)(t),e.next=6,Qe(this._appEnvironment,n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getObjectInspector",value:function(e){return Object(p.P)(this,e)}}]),n}(p.a),tt=function(){function e(t,n){Object(i.a)(this,e),this._id=t}return Object(a.a)(e,[{key:"evalInEnvironment",value:function(e,t){return new et(e.root.appEnvironment,this._id.evalInEnvironment(e,t))}}],[{key:"spec",get:function(){return["PublishedAppDataFetch","evaluable",["id","evaluable"],["password","evaluable",!1]]}}]),e}();var nt=n(865),rt=n.n(nt),it=n(869),at=n.n(it),ot=n(870),ct=n.n(ot),ut=n(120),lt=n(687),st=n(222);var dt=function(){function e(t){Object(i.a)(this,e),this._name=t}return Object(a.a)(e,[{key:"evalInEnvironment",value:function(e){return e.root.appEnvironment.globalVariables.get(this._name)}}],[{key:"spec",get:function(){return["LookupGlobalVariable","evaluable",["name","string"]]}}]),e}(),ft=function(){function e(t,n){Object(i.a)(this,e),this._name=t,this._body=n}return Object(a.a)(e,[{key:"evalInEnvironment",value:function(e,t){var n=e.root.appEnvironment.globalValues.get(this._name);if(void 0!==n)return n;var r=this._body.evalInEnvironment(e,t);return e.root.appEnvironment.globalValues.set(this._name,r),r}}],[{key:"spec",get:function(){return["Global","evaluable",["name","string"],["body","evaluable"]]}}]),e}(),pt=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(e,r,a,o,c,u,l){var s;return Object(i.a)(this,n),(s=t.call(this))._startDateTime=e,s._endDateTime=r,s._title=a,s._description=o,s._itemID=c,s._list=u,s._order=l,s._dateTimes=new Set,s}return Object(a.a)(n,[{key:"subscribeDateTimes",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this._dateTimes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.subscribe(this)}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"unsubscribeDateTimes",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this._dateTimes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.unsubscribe(this)}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"firstSubscribed",value:function(){Object(He.a)(Object(l.a)(n.prototype),"firstSubscribed",this).call(this),this._list.subscribe(this),void 0!==this._order&&this._order.subscribe(this),this.subscribeDateTimes()}},{key:"lastUnsubscribed",value:function(){Object(He.a)(Object(l.a)(n.prototype),"lastUnsubscribed",this).call(this),this._list.unsubscribe(this),void 0!==this._order&&this._order.unsubscribe(this),this.unsubscribeDateTimes()}},{key:"recomputeAsync",value:function(){var e=Object(x.a)(k.a.mark((function e(){var t,n,i,a,o,c,u,l,s,f,h,m,g,y,j,x,C,w,S,E,M,R,D,T,P,I,_,N,F,L,B=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new Set,(n=this._list.current)!==v.e){e.next=4;break}return e.abrupt("return",v.e);case 4:i=Object(p.N)(Object(d.definedMap)(this._order,(function(e){return e.current})),lt.a.OldestFirst,(function(e){return Object(p.F)(e)})),a=[],o=!0,c=!1,u=void 0,e.prev=9,l=Object(p.v)(n)[Symbol.iterator]();case 11:if(o=(s=l.next()).done){e.next=27;break}if(f=s.value,h=this._startDateTime.eval(f),t.has(h)||(t.add(h),this.hasSubscribers&&h.subscribe(this)),(m=h.current)!==v.e&&void 0!==m){e.next=18;break}return e.abrupt("continue",24);case 18:return e.next=20,Object(p.S)(m);case 20:if(void 0!==(g=e.sent)){e.next=23;break}return e.abrupt("continue",24);case 23:a.push([g,f]);case 24:o=!0,e.next=11;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(9),c=!0,u=e.t0;case 33:e.prev=33,e.prev=34,o||null==l.return||l.return();case 36:if(e.prev=36,!c){e.next=39;break}throw u;case 39:return e.finish(36);case 40:return e.finish(33);case 41:for(y=i===lt.a.OldestFirst?1:-1,j=rt()(ct()((function(e){var t=Object(r.a)(e,2),n=t[0];t[1];return y*n.getTime()})),at()((function(e){var t=Object(r.a)(e,2),n=t[0];t[1];return Object(O.b)(Object(A.U)(n))})))(a),x=ct()((function(e){return y*j[e][0][0].getTime()}))(Object.keys(j)),C=[],w=!0,S=!1,E=void 0,e.prev=48,M=x[Symbol.iterator]();!(w=(R=M.next()).done);w=!0)D=R.value,T=j[D].map((function(e){var t=Object(r.a)(e,2),n=t[0],i=t[1],a={start:new b.c(n),title:B._title.eval(i),item:i};return void 0!==B._endDateTime&&(a.end=B._endDateTime.eval(i)),void 0!==B._description&&(a.description=B._description.eval(i)),void 0!==B._itemID&&(a.itemID=B._itemID.eval(i)),new b.c(a)})),C.push(new b.c({groupName:new b.c(D),items:new b.c(T)}));e.next=56;break;case 52:e.prev=52,e.t1=e.catch(48),S=!0,E=e.t1;case 56:e.prev=56,e.prev=57,w||null==M.return||M.return();case 59:if(e.prev=59,!S){e.next=62;break}throw E;case 62:return e.finish(59);case 63:return e.finish(56);case 64:if(!this.hasSubscribers){e.next=84;break}for(P=!0,I=!1,_=void 0,e.prev=68,N=this._dateTimes[Symbol.iterator]();!(P=(F=N.next()).done);P=!0)L=F.value,t.has(L)||L.unsubscribe(this);e.next=76;break;case 72:e.prev=72,e.t2=e.catch(68),I=!0,_=e.t2;case 76:e.prev=76,e.prev=77,P||null==N.return||N.return();case 79:if(e.prev=79,!I){e.next=82;break}throw _;case 82:return e.finish(79);case 83:return e.finish(76);case 84:return this._dateTimes=t,e.abrupt("return",C);case 86:case"end":return e.stop()}}),e,this,[[9,29,33,41],[34,,36,40],[48,52,56,64],[57,,59,63],[68,72,76,84],[77,,79,83]])})));return function(){return e.apply(this,arguments)}}()},{key:"getObjectInspector",value:function(){}}]),n}(p.a),vt=function(){function e(t,n,r,a,o,c,u){Object(i.a)(this,e),this._startDateTime=t,this._endDateTime=n,this._title=r,this._description=a,this._itemID=o,this._list=c,this._order=u}return Object(a.a)(e,[{key:"evalInEnvironment",value:function(e,t){return new pt(new v.b(this._startDateTime,e),Object(d.definedMap)(this._endDateTime,(function(t){return new v.b(t,e)})),new v.b(this._title,e),Object(d.definedMap)(this._description,(function(t){return new v.b(t,e)})),Object(d.definedMap)(this._itemID,(function(t){return new v.b(t,e)})),this._list.evalInEnvironment(e,t),Object(d.definedMap)(this._order,(function(n){return n.evalInEnvironment(e,t)})))}}],[{key:"spec",get:function(){return["SortAndGroupCalendarItems","evaluable",["dateTime","evaluable"],["endDateTime","evaluable",!1],["title","evaluable"],["description","evaluable",!1],["itemID","evaluable",!1],["list","evaluable"],["order","evaluable",!1]]}}]),e}(),ht=function(){function e(t,n,r,a){Object(i.a)(this,e),this._indexName=t,this._rows=n,this._keyForRow=r,this._needle=a}return Object(a.a)(e,[{key:"evalInEnvironment",value:function(e,t){var n=this,r=Object(p.M)(this._indexName.evalInEnvironment(e,t).current,p.F);Object(A.d)(void 0!==r,"Index must be a constant");var i=e.root.appEnvironment,a=i.tableIndexes;return new st.a(i,this._needle.evalInEnvironment(e,t),(function(){var i=a.get(r);return void 0===i&&(i=new st.b(n._rows.evalInEnvironment(e,t),new v.b(n._keyForRow,e)),a.set(r,i),Object(P.b)("New index",r,i)),i}))}}],[{key:"spec",get:function(){return["FilterWhereIdentical","evaluable",["indexName","evaluable"],["rows","evaluable"],["keyForRow","evaluable"],["needle","evaluable"]]}}]),e}(),bt=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"evalInEnvironment",value:function(){return new b.b(new ut.a)}}],[{key:"spec",get:function(){return["MakeConditionVariable","evaluable"]}}]),e}();var mt=n(261),gt=n(39),Ot=n(45),yt=n(112),jt=n(0),kt=n.n(jt),xt=n(695),Ct=n(33),wt=n(1038),St=function(){function e(t){Object(i.a)(this,e),this.sound=void 0,this.sound=new wt.Howl({src:"/media/sound/".concat(t,".mp3")})}return Object(a.a)(e,[{key:"play",value:function(){this.sound.play()}}]),e}(),Et=jt.createContext({overlayAppBar:function(){return 0},removeAppBarOverlay:function(){return!1},getScreenLocalState:function(){return{}},updateScreenLocalState:function(){return{}},getPivotLocalState:function(){return{}},pivotLocalStateForIndex:function(e){return{}},updatePivotLocalState:function(){return{}}}),Mt=Et.Provider,Rt=Et.Consumer,Dt=n(725),Tt=n(363),Pt=n(130),It=n(606),_t=n(29),Nt=n(206),At=n(282),Ft=n(93),Lt=n(172),Bt=n.n(Lt),Vt=n(275),Ut=n(24),zt=n(116);function Wt(){var e=kt.a.useState(),t=Object(r.a)(e,2),n=t[0],i=t[1];return[function(e){i(null===e?void 0:e)},n]}function Ht(e){return function(e){return Object(d.hasOwnProperty)(e,"clientX")}(e)?{x:e.clientX,y:e.clientY}:"touchend"===e.type?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}}var Kt=n(16),qt=n(22);function Gt(){var e=Object(Kt.a)(["\n    position: absolute;\n    bottom: 0;\n    left: 0;\n\n    width: ","%;\n    height: 3px;\n\n    background-color: ",";\n    z-index: 50;\n"]);return Gt=function(){return e},e}function Jt(){var e=Object(Kt.a)(["\n    position: relative;\n    overflow: hidden;\n\n    &.single-emoji .floating-overlay-text {\n        color: ",";\n    }\n\n    &.inset {\n        margin: 0 ","px;\n    }\n\n    .carousel-overlay {\n        color: white;\n    }\n\n    @keyframes carousel-spin {\n        from {\n            transform: rotate(0);\n        }\n        to {\n            transform: rotate(360deg);\n        }\n    }\n\n    & div.upload-container {\n        width: 100%;\n        height: 100%;\n        display: flex;\n\n        justify-content: center;\n        align-items: center;\n    }\n\n    .carousel-upload-button {\n        width: 44px;\n        height: 44px;\n        border-radius: 1000px;\n\n        color: white;\n\n        background-color: rgba(0, 0, 0, 0.24);\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        > input {\n            position: absolute;\n            width: 0;\n            height: 0;\n        }\n    }\n"]);return Jt=function(){return e},e}function Zt(){var e=Object(Kt.a)(["\n    display: flex;\n    position: relative;\n\n    height: ",";\n    min-height: 76px;\n\n    justify-content: center;\n    align-items: center;\n\n    background-color: ",";\n"]);return Zt=function(){return e},e}var Xt=qt.i.div(Zt(),(function(e){return e.fitToContent?"300px":"100%"}),(function(e){return e.theme.skeletonColor})),Yt=qt.i.div(Jt(),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.pageMarginMedium})),Qt=qt.i.div(Gt(),(function(e){return e.progress}),(function(e){return e.theme.primaryAccentColor})),$t=function(e){var t=e.fillColor;return jt.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12C0 18.627 5.373 24 12 24C18.627 24 24 18.627 24 12C23.993 5.376 18.624 0.007 12 0ZM17.5 16.5H6.5C5.395 16.5 4.5 15.605 4.5 14.5V9.5C4.5 8.395 5.395 7.5 6.5 7.5H8C8.184 7.483 8.358 7.411 8.5 7.293L9.793 6C10.122 5.694 10.551 5.516 11 5.5H13C13.449 5.516 13.878 5.694 14.207 6L15.5 7.293C15.642 7.411 15.816 7.483 16 7.5H17.5C18.605 7.5 19.5 8.395 19.5 9.5V14.5C19.5 15.605 18.605 16.5 17.5 16.5ZM12 9C13.657 9 15 10.343 15 12C15 13.657 13.657 15 12 15C10.343 15 9 13.657 9 12C9 10.343 10.343 9 12 9Z",fill:null!==t&&void 0!==t?t:"white"}))};function en(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    justify-content: center;\n    align-items: center;\n    z-index: 10;\n\n    background-color: ",";\n\n    height: 175px;\n    ","\n\n    animation-duration: 125ms;\n    animation-name: csc-settings-showup-",";\n    animation-timing-function: ease-out;\n    animation-fill-mode: forwards;\n\n    & > div {\n        width: 375px;\n    }\n\n    & > div.close-button-container {\n        height: 0;\n        width: 100%;\n        position: relative;\n\n        & > button.close-button {\n            position: absolute;\n            top: 0;\n            right: 0;\n\n            border-radius: 11px;\n            margin-right: 3px;\n            background-color: ",";\n\n            & > div {\n                height: 22px;\n                width: 22px;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n            }\n        }\n    }\n"]);return en=function(){return e},e}function tn(){var e=Object(Kt.a)(["\n    position: absolute;\n    display: flex;\n    flex-direction: ",";\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n\n    & > #csc-scanner-container-container {\n        height: 100%;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n        position: relative;\n\n        & > canvas {\n            width: 100%;\n            height: 100%;\n            object-fit: contain;\n            pointer-events: none;\n        }\n\n        & > canvas.drawingBuffer {\n            position: absolute;\n        }\n    }\n\n    video {\n        position: absolute;\n        z-index: 5;\n        width: 100%;\n        height: 100%;\n        display: none;\n        object-fit: cover;\n\n        pointer-events: none;\n    }\n\n    & > #csc-bottom-bar {\n        position: relative;\n\n        display: flex;\n        flex-direction: ",";\n        align-items: center;\n        justify-content: space-between;\n        padding: 11px 0 var(--safe-area-inset-bottom) 11px;\n\n        & > #csc-bottom-bar-left {\n            display: flex;\n            flex-direction: ",";\n            justify-content: flex-start;\n\n            ","\n        }\n\n        & > #csc-bottom-bar-right {\n            display: flex;\n            flex-direction: ",";\n            justify-content: flex-end;\n\n            ","\n        }\n    }\n"]);return tn=function(){return e},e}function nn(e,t){return"\n    width: 55px;\n    height: 55px;\n    border-radius: 1000px;\n\n    color: ".concat(t?e.baseColor:e.primaryAccentColor,";\n    background-color: ").concat(t?e.primaryAccentColor:e.baseColor,";\n    border-color: ").concat(e.primaryAccentColor,";\n    border-width: 3px;\n    border-style: solid;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    > input {\n        position: absolute;\n        width: 0;\n        height: 0;\n    }\n    ")}function rn(e){return"\n    & > .csc-radial-button-active {\n        margin: 0 11px 11px 0;\n        ".concat(nn(e,!0),";\n    }\n\n    & > .csc-radial-button-inactive {\n        margin: 0 11px 11px 0;\n        ").concat(nn(e,!1),";\n    }\n\n    & > .csc-radial-button-unavailable {\n        margin: 0 11px 11px 0;\n        ").concat(qt.g,"\n        ").concat(nn(e,!1),";\n    }")}function an(e){return"landscape"===e?"column":"row"}var on=Ut.default.div(tn(),(function(e){return"landscape"===e.orientation?"row":"column"}),(function(e){return"landscape"===e.orientation?"column-reverse":"row"}),(function(e){return an(e.orientation)}),(function(e){return rn(e.theme)}),(function(e){return an(e.orientation)}),(function(e){return rn(e.theme)}));var cn=Ut.default.div(en(),(function(e){return e.theme.offBaseColor+"d0"}),(function(e){return"portrait"===e.orientation?"\n    top: -".concat((t=175)-1,"px;\n    left: 0;\n\n    width: 100%;\n\n    @keyframes csc-settings-showup-portrait {\n        0% {\n            opacity: 0;\n            height: 0px;\n            top: 0px;\n        }\n        100% {\n            opacity: 1;\n            height: ").concat(t,"px;\n            top: -").concat(t-1,"px;\n        }\n    }\n"):function(e,t){return"\n    top: calc(100% - ".concat(e-1,"px);\n    right: ").concat(t,"px;\n\n    width: calc(100vw - ").concat(t,"px);\n\n    @keyframes csc-settings-showup-landscape {\n        0% {\n            opacity: 0;\n            height: 0px;\n            top: 100%;\n        }\n        100% {\n            opacity: 1;\n            height: ").concat(e,"px;\n            top: calc(100% - ").concat(e-1,"px);\n        }\n    }\n")}(175,77);var t}),(function(e){return e.orientation}),(function(e){return e.theme.primaryAccentColor})),un=n(823),ln=["coarse","normal","fine"],sn=["loose","normal","tight"];function dn(e){switch(e){case"coarse":return"large";case"normal":return"medium";case"fine":return"small";default:return Object(A.e)(e)}}function fn(e){return"code_32_reader"===e?It.a.Code32:e}var pn=n(254);function vn(){var e=Object(Kt.a)(["\n    padding: 0 ","px ","px;\n    display: flex;\n    justify-content: space-between;\n"]);return vn=function(){return e},e}function hn(){var e=Object(Kt.a)(["\n    ",";\n    color: ",";\n"]);return hn=function(){return e},e}function bn(){var e=Object(Kt.a)(["\n    ",";\n    color: ",";\n"]);return bn=function(){return e},e}var mn=qt.i.div(bn(),(function(e){return e.theme.fontStyles.Header5}),(function(e){return e.theme.fgColorLight})),gn=qt.i.div(hn(),(function(e){return e.theme.fontStyles.AccentHeader4}),(function(e){return e.theme.fgColorDark})),On=qt.i.div(vn(),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.componentSmallInnerVerticalPadding}));function yn(){var e=Object(Kt.a)(["\n            font-size: 19px;\n        "]);return yn=function(){return e},e}function jn(){var e=Object(Kt.a)(["\n    position: relative;\n\n    min-width: 1px;\n    width: 1px;\n\n    flex-grow: 1;\n    flex-shrink: 1;\n\n    color: ",";\n\n    background-color: ",";\n\n    border-radius: 6px;\n\n    ","\n    ","\n    text-align: center;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    & > * {\n        padding: 4px;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n    }\n\n    ",'\n\n    transition: background-color 0.2s, color 0.2s;\n\n    &:not(:last-child) {\n        ::after {\n            content: "";\n            position: absolute;\n            width: 1px;\n            height: 50%;\n            top: 25%;\n            right: 0;\n            background-color: white;\n            opacity: 0.24;\n        }\n    }\n']);return jn=function(){return e},e}function kn(){var e=Object(Kt.a)(["\n    padding: ","px 0;\n\n    .ips-inner {\n        margin: 0 ","px;\n        height: 32px;\n\n        background: ",";\n\n        padding: 2px;\n\n        border-radius: 8px;\n\n        display: flex;\n        justify-content: stretch;\n        align-items: stretch;\n    }\n"]);return kn=function(){return e},e}var xn=qt.i.div(kn(),(function(e){return e.theme.componentInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.primaryAccentColor})),Cn=qt.i.div(jn(),(function(e){return e.isCurrent?e.theme.primaryAccentColor:e.theme.accentForegroundColor}),(function(e){return e.isCurrent?e.theme.accentForegroundColor:"transparent"}),(function(e){return e.theme.fontStyles.Body4}),(function(e){return e.isEmoji&&Object(qt.f)(yn())}),(function(e){return e.isCurrent&&"box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.16);"}));var wn=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.highlightProps,r=e.items,i=e.current,a=e.header,o=e.onClick,c=e.formatItem,u=r.slice(0,5).map((function(e,t){return jt.createElement(Cn,{"data-test":"app-inline-picker-item",key:t,onClick:function(){return o(t)},isCurrent:t===i,isEmoji:void 0!==a&&Object(A.E)(a)},jt.createElement("div",null,void 0===c?e:c(e)))}));return jt.createElement(xn,Object.assign({className:t,"data-test":"app-inline-picker"},n),!Object(A.G)(a)&&jt.createElement(On,null,jt.createElement(gn,null,a)),jt.createElement("div",{className:"ips-inner"},u))}}]),n}(jt.PureComponent),Sn=Object(pn.d)(wn);function En(e){var t=e.orientation,n=e.theme,r=e.currentPrecision,i=e.currentTolerance,a=e.onPrecisionChange,o=e.onToleranceChange,c=e.onClose,u=kt.a.useCallback((function(e){e>=ln.length?a("fine"):a(ln[e])}),[a]),l=kt.a.useCallback((function(e){e>=sn.length?o("tight"):o(sn[e])}),[o]),s=kt.a.useCallback((function(e){return function(e){switch(e){case"coarse":return Object(O.e)("coarsePrecision");case"normal":return Object(O.e)("normalPrecision");case"fine":return Object(O.e)("finePrecision");default:return Object(A.e)(e)}}(e)}),[]),d=kt.a.useCallback((function(e){return function(e){switch(e){case"loose":return Object(O.e)("looseTolerance");case"normal":return Object(O.e)("normalTolerance");case"tight":return Object(O.e)("tightTolerance");default:return Object(A.e)(e)}}(e)}),[]);return kt.a.createElement(cn,{orientation:t},kt.a.createElement("div",{className:"close-button-container"},kt.a.createElement("button",{className:"close-button",onClick:c},kt.a.createElement("div",null,Object(Nt.y)({size:11,color:n.accentForegroundColor})))),kt.a.createElement(Sn,{items:ln,header:Object(O.e)("precisionLabel"),current:ln.indexOf(r),onClick:u,formatItem:s}),kt.a.createElement(Sn,{items:sn,header:Object(O.e)("toleranceLabel"),current:sn.indexOf(i),onClick:l,formatItem:d}))}function Mn(e){return e<0?-1:1}function Rn(e){var t=e.drawCtx,n=e.strokeStyle,i=e.fillStyle,a=e.lineWidth,o=e.radius,c=e.points;t.resetTransform(),t.beginPath(),void 0!==n&&(t.strokeStyle=n),t.fillStyle=i,t.lineWidth=a;var u=Object(r.a)(c,3),l=u[0],s=u[1],d=u[2],f=Object(un.b)(l,s,d),p=f.width,v=f.height,h=f.angle;t.translate(l[0],l[1]),t.rotate(h),function(e,t,n,r){e.moveTo(r,0);var i=t-r;e.lineTo(i,0);var a=n-Mn(n)*r;e.arc(i,Mn(n)*r,r,Mn(n)*-Math.PI/2,0),e.lineTo(t,a),e.arc(t-r,a,r,0,Mn(n)*Math.PI/2),e.lineTo(r,n),e.arc(r,n-r,r,Mn(n)*Math.PI/2,-Math.PI);var o=Mn(n)*r;e.lineTo(0,o),e.arc(r,o,r,-Math.PI,Mn(n)*-Math.PI/2)}(t,p,v,o),t.fill(),void 0!==n&&t.stroke(),t.rotate(-h),t.translate(-l[0],-l[1])}function Dn(e,t){var n=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var u=o.value;if(null!==u.codeResult){var l=Object(r.a)(u.box,3),s=l[0],d=l[1],f=l[2];if(void 0!==s&&void 0!==d&&void 0!==f&&Object(un.c)(t,s,d,f))return u}}}catch(p){i=!0,a=p}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}}function Tn(e){var t=window.performance.now(),n=0,r=0;!function i(){return requestAnimationFrame((function(a){r++,n+=a-t,t=a,n>33.3&&r>1?e():i()}))}()}var Pn=Object(Ut.withTheme)((function(e){var t,i,a,o,c=e.theme,u=e.standards,l=e.onValue,s=e.acceptOnFirst,f=kt.a.useState(new At.a),v=Object(r.a)(f,1)[0],h=kt.a.useRef(null),b=Wt(),m=Object(r.a)(b,2),g=m[0],O=m[1],y=Wt(),j=Object(r.a)(y,2),C=j[0],w=j[1],S=Wt(),E=Object(r.a)(S,2),M=E[0],R=E[1],D=Wt(),T=Object(r.a)(D,2),I=T[0],_=T[1],N=Wt(),F=Object(r.a)(N,2),L=F[0],B=F[1],V=kt.a.useState(),U=Object(r.a)(V,2),z=U[0],W=U[1],H=kt.a.useState({kind:"none"}),K=Object(r.a)(H,2),q=K[0],G=K[1],J=kt.a.useState({ready:!1}),Z=Object(r.a)(J,2),X=Z[0],Y=Z[1],Q=kt.a.useState("normal"),$=Object(r.a)(Q,2),ee=$[0],te=$[1],ne=kt.a.useState("normal"),re=Object(r.a)(ne,2),ie=re[0],ae=re[1],oe=kt.a.useState([]),ce=Object(r.a)(oe,2),ue=ce[0],le=ce[1],se=kt.a.useState(),de=Object(r.a)(se,2),fe=de[0],pe=de[1],ve=kt.a.useState(),he=Object(r.a)(ve,2),be=he[0],me=he[1],ge=kt.a.useState(),Oe=Object(r.a)(ge,2),ye=Oe[0],je=Oe[1],ke=kt.a.useContext(Vt.a),xe=kt.a.useState(1),Ce=Object(r.a)(xe,2),we=Ce[0],Se=Ce[1],Ee=kt.a.useState(0),Me=Object(r.a)(Ee,2),Re=Me[0],De=Me[1],Te=kt.a.useState(0),Pe=Object(r.a)(Te,2),Ie=Pe[0],_e=Pe[1],Ne=kt.a.useState(void 0!==(null===(t=navigator)||void 0===t||null===(i=t.mediaDevices)||void 0===i?void 0:i.getUserMedia)&&void 0),Ae=Object(r.a)(Ne,2),Fe=Ae[0],Le=Ae[1],Be=kt.a.useState([]),Ve=Object(r.a)(Be,2),Ue=Ve[0],ze=Ve[1],We=kt.a.useState([]),He=Object(r.a)(We,2),Ke=He[0],qe=He[1];kt.a.useEffect((function(){le([].concat(Object(_t.a)(Ke),Object(_t.a)(Ue)))}),[Ue,Ke,le]);var Ge=kt.a.useCallback((function(){ze([]),qe([])}),[ze,qe]),Je=kt.a.useState(!1),Ze=Object(r.a)(Je,2),Xe=Ze[0],Ye=Ze[1],Qe=kt.a.useCallback((function(){Ye(!Xe)}),[Xe,Ye]);kt.a.useEffect((function(){Ye(!1)}),[q,Ye]);var $e=kt.a.useCallback((function(){if(void 0!==R){var e=R.getBoundingClientRect(),t=e.width,n=e.height;return{width:t/ke,height:n/ke}}}),[ke,R]),et=null!==(a=Object(d.definedMap)($e(),(function(e){return e.width})))&&void 0!==a?a:0,tt=null!==(o=Object(d.definedMap)($e(),(function(e){return e.height})))&&void 0!==o?o:0,nt=kt.a.useMemo((function(){return Bt()(l)}),[l,q]),rt=kt.a.useCallback((function(e){if(void 0!==B){var t=B.getBoundingClientRect(),n=t.x,r=t.y,i=ke*we;return{x:(e.x-n-Re*ke)/i,y:(e.y-r-Ie*ke)/i}}}),[B,ke,we,Re,Ie]),it=kt.a.useCallback((function(e){return null!==e.codeResult&&void 0!==e.codeResult&&null!==e.codeResult.code&&function(e,t){var n=e.decodedCodes.map((function(e){var t;return null!==(t=e.error)&&void 0!==t?t:0})).sort();return n[Math.min(Math.floor(t*n.length),n.length-1)]<.15}(e.codeResult,function(e){switch(e){case"loose":return.66;case"normal":return.75;case"tight":return.84;default:return Object(A.e)(e)}}(ie))}),[ie]),at=kt.a.useMemo((function(){return function(){var e;return function(){var t;return void 0!==e?e:void 0!==B?e=null!==(t=B.getContext("2d"))&&void 0!==t?t:void 0:void 0}}()}),[B]),ot=kt.a.useMemo((function(){return function(){var e;return function(){var t;return void 0!==e?e:void 0!==_?e=null!==(t=_.getContext("2d"))&&void 0!==t?t:void 0:void 0}}()}),[_]),ct=kt.a.useCallback((function(){if(void 0!==B){var e=at();if(void 0!==e){var t=Object(p.D)(B.getAttribute("width")),n=Object(p.D)(B.getAttribute("height"));e.resetTransform(),e.beginPath(),e.clearRect(0,0,t,n)}}}),[B,at]),ut=kt.a.useCallback((function(e,t){var n=$e();if(void 0!==n&&0!==e&&0!==t){var r=Object(un.a)({width:e,height:t},n),i=r.scale,a=r.x,o=r.y;Se(i),De(a),_e(o)}}),[$e,Se,De,_e]),lt=kt.a.useCallback((function(){var e=at();if(void 0!==e&&void 0!==ye){ct();var t=!0,n=!1,r=void 0;try{for(var i,a=ue.filter(it)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;Rn({drawCtx:e,fillStyle:"#0000007f",strokeStyle:Object.is(o,fe)?c.primaryAccentColor:c.fgColorOffBase,lineWidth:2*ye,radius:8*ye,points:o.box})}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}}),[at,ct,ue,it,fe,c,ye]),st=kt.a.useState(),dt=Object(r.a)(st,2),ft=dt[0],pt=dt[1],vt=function(e){var t=kt.a.useState(!1),n=Object(r.a)(t,2),i=n[0],a=n[1],o=kt.a.useState(),c=Object(r.a)(o,2),u=c[0],l=c[1],s=e.handleMouseDown,d=e.handleMouseUp,f=kt.a.useCallback((function(e){a(!0);var t=Ht(e);void 0!==s&&s(t,e),l(t)}),[a,l,s]),p=kt.a.useCallback((function(){a(!1),l(void 0)}),[a,l]),v=kt.a.useCallback((function(e){i&&(e.stopPropagation(),e.preventDefault(),l(Ht(e)))}),[i,l]),h=kt.a.useCallback((function(e){i&&(void 0!==d&&d(Ht(e),e),a(!1),l(void 0))}),[i,a,d]);return[u,kt.a.useMemo((function(){return{onMouseDown:f,onMouseLeave:p,onMouseMove:v,onMouseUp:h}}),[f,p,v,h]),kt.a.useMemo((function(){return{onTouchStart:f,onTouchMove:v,onTouchCancel:p,onTouchEnd:h}}),[f,p,v,h])]}({handleMouseUp:pt,handleMouseDown:lt}),ht=Object(r.a)(vt,3),bt=ht[0],mt=ht[1],gt=ht[2],Ot=kt.a.useCallback((function(e){var t;e.preventDefault(),e.stopPropagation();var n=(null!==(t=e.target.files)&&void 0!==t?t:[])[0];void 0!==n?G({kind:"file",fileData:n}):"none"!==q.kind&&G({kind:"none"})}),[q.kind,G]),yt=kt.a.useCallback((function(){if("object"===typeof Fe)if("camera"!==q.kind)G({kind:"camera"});else if("camera"===q.kind){if(void 0===O||void 0===_)return;var e=ot();if(void 0===e)return;var t=O.videoWidth,n=O.videoHeight,r=Object(un.a)({width:et,height:tt},{width:t,height:n});_.width=r.width,_.height=r.height,e.drawImage(O,r.x,r.y,r.width,r.height,0,0,_.width,_.height),ut(_.width,_.height),Tn((function(){G({kind:"file",fileData:_.toDataURL("image/png")})}))}}),[Fe,q.kind,G,O,et,tt,_,ot,ut]);kt.a.useEffect((function(){return Object(Ft.a)("quagga2",(function(){return n.e(86).then(n.t.bind(null,1582,7))})).then((function(e){Object(It.b)(u,It.a.QR)?Object(Ft.a)("qrcodes",(function(){return Promise.all([n.e(116),n.e(80)]).then(n.bind(null,1583))})).then((function(t){return Y({ready:!0,quagga:e.default,qrcodes:t})})).catch(A.hb):Y({ready:!0,quagga:e.default})})).catch(A.hb),function(){Y({ready:!1})}}),[u,Y]),kt.a.useEffect((function(){var e,t=$e();void 0!==t&&je((e=t.width)<=375?3:e<=750?2:e<=1440?1:.5)}),[$e,je]),kt.a.useEffect((function(){if(void 0!==w){var e=void 0,t=function(){var t=w.getBoundingClientRect(),n=t.width<t.height?"portrait":"landscape";e!==n&&(W(n),void 0!==e&&Le(void 0),e=n)};return window.addEventListener("resize",t),t(),function(){window.removeEventListener("resize",t),W(void 0)}}}),[w,W,Le]),kt.a.useEffect((function(){var e,t;if(void 0!==R&&void 0!==O&&!1!==Fe){if(void 0!==Fe)return function(){var e=!0,t=!1,n=void 0;try{for(var r,i=Fe.getTracks()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.stop()}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}};if(void 0!==(null===(e=navigator)||void 0===e||null===(t=e.mediaDevices)||void 0===t?void 0:t.getUserMedia)){var n=R.getBoundingClientRect(),r=n.width<n.height?2/3:1.5;Object(A.s)(v.run(Object(x.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({video:{facingMode:["environment"],width:1280,aspectRatio:{ideal:r}}});case 3:t=e.sent,Object(A.n)(O).srcObject=t,Tn((function(){return Le(t)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Le(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))))}}}),[Fe,O,R,v,Le]),kt.a.useEffect((function(){if(void 0!==R)return function(e,t){var n=e.onTouchStart,r=e.onTouchCancel,i=e.onTouchMove,a=e.onTouchEnd;return t.addEventListener("touchstart",n,{capture:!1}),t.addEventListener("touchmove",i,{capture:!0,passive:!1}),t.addEventListener("touchcancel",r,{capture:!0}),t.addEventListener("touchend",a,{capture:!0}),function(){t.removeEventListener("touchstart",n),t.removeEventListener("touchmove",i),t.removeEventListener("touchcancel",r),t.removeEventListener("touchend",a)}}(gt,R)}),[gt,R]),kt.a.useEffect((function(){"object"===typeof Fe&&"none"===q.kind&&G({kind:"camera"})}),[q,Fe]),kt.a.useEffect((function(){if(void 0!==O&&"camera"===q.kind&&"object"===typeof Fe)return Tn((function(){return O.setAttribute("style","display: block")})),function(){Tn((function(){return O.removeAttribute("style")}))}}),[O,q,Fe]),kt.a.useEffect((function(){"file"!==q.kind&&null!==h.current&&(h.current.value="")}),[q]),kt.a.useEffect((function(){if(void 0!==X.quagga&&"none"!==q.kind&&void 0!==R&&void 0!==_&&void 0!==ye){var e=$e();if(void 0!==e){var t=X.quagga,n=X.qrcodes,i=function(e){var t=[];function n(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.push({format:"ean_reader",config:{supplements:n}})}var i=!0,a=!1,o=void 0;try{for(var c,u=e.entries()[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=Object(r.a)(c.value,2),s=l[0],d=l[1];switch(d){case It.a.QR:continue;case It.a.UPC_A:t.push("upc_reader");break;case It.a.EAN_13:t.push("ean_reader");break;case It.a.EAN_2:if(t.findIndex((function(e){return"object"===typeof e&&e.config.supplements.includes("ean_2_reader")}))>=0)continue;e.includes(It.a.EAN_5,s)?n("ean_2_reader","ean_5_reader"):n("ean_2_reader");break;case It.a.EAN_5:if(t.findIndex((function(e){return"object"===typeof e&&e.config.supplements.includes("ean_5_reader")}))>=0)continue;e.includes(It.a.EAN_2,s)?n("ean_5_reader","ean_2_reader"):n("ean_5_reader");break;default:t.push(d+"_reader")}}}catch(f){a=!0,o=f}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return t}(u);if(Ge(),"file"===q.kind){var a=q.fileData,o="string"===typeof a?a:URL.createObjectURL(a),c=function(e){var t=Object(p.D)(_.getAttribute("width")),r=Object(p.D)(_.getAttribute("height"));ut(t,r),Array.isArray(e)&&0!==e.length?ze(e):ze([]);var i=ot();if(void 0!==n&&void 0!==i){var a=i.getImageData(0,0,t,r),o=n.decodeQrCode(a,t,r);qe(o)}},l=function(){o.startsWith("data:")||URL.revokeObjectURL(o),t.stop(),t.offProcessed(c)};t.onProcessed(c);try{return t.decodeSingle({src:o,decoder:{readers:i,multiple:!0},inputStream:{type:"ImageStream",target:R,size:Math.min(e.width,e.height)*ye},locate:!0,locator:{patchSize:dn(ee)}}).catch((function(e){Object(P.a)("Quagga decodeSingle:",e),G({kind:"none"})})),function(){l(),Ge()}}catch(s){return Object(P.a)("Quagga decodeSingle setup:",s),void l()}}}}}),[u,X,q,ee,ye,$e,ze,qe,Ge,s,R,_,ot,ut]),kt.a.useEffect((function(){var e=at();if(void 0!==e&&void 0!==ye)if(void 0===bt){ct();var t=!0,n=!1,r=void 0;try{for(var i,a=ue.filter((function(e){return!it(e)}))[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;Rn({drawCtx:e,fillStyle:"#0000007f",lineWidth:0*ye,radius:8*ye,points:o.box})}}catch(v){n=!0,r=v}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var u=!0,l=!1,s=void 0;try{for(var d,f=ue.filter(it)[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;Rn({drawCtx:e,fillStyle:"#0000007f",strokeStyle:c.fgColorOffBase,lineWidth:2*ye,radius:8*ye,points:p.box})}}catch(v){l=!0,s=v}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}}else Object.is(be,fe)||lt()}),[c,ye,at,q,ue,bt,fe,be,pe,me,it,ct,lt]),kt.a.useEffect((function(){if(1===ue.filter(it).length&&s){var e=Object(r.a)(ue,1)[0].codeResult,t=setTimeout((function(){null!==e.code&&nt(fn(e.format),e.code)}),500);return function(){return clearTimeout(t)}}}),[it,ue,nt,s]),kt.a.useEffect((function(){if(void 0!==ft&&(pt(void 0),void 0!==ue)){var e=rt(ft);if(void 0!==e){var t=Dn(ue.filter(it),[e.x,e.y]);if(void 0!==t){var n=t.codeResult;if(null===n.code)return;nt(fn(n.format),n.code)}}}}),[ft,pt,rt,ue,it,nt]),kt.a.useEffect((function(){if(void 0===bt)me(void 0),pe(void 0);else{var e=rt(bt);if(void 0===e)return;Object.is(be,fe)||me(fe);var t=Dn(ue.filter(it),[e.x,e.y]);if(Object.is(t,fe))return;pe(t)}}),[bt,me,pe,rt,be,fe,ue,it]);var jt="object"===typeof Fe,xt="file"===q.kind&&"string"===typeof q.fileData,Ct=jt&&("camera"===q.kind||xt),wt="file"===q.kind&&"string"!==typeof q.fileData,St=c.baseColor,Et=c.primaryAccentColor;if(!X.ready||void 0===z)return kt.a.createElement(on,{ref:C},kt.a.createElement(zt.a,null));var Mt=kt.a.createElement($t,{fillColor:Ct?St:Et});return"camera"===q.kind&&jt?Mt=kt.a.createElement(Nt.b,{color:St}):"file"===q.kind&&"string"===typeof q.fileData&&(Mt=kt.a.createElement(Nt.p,{color:St})),kt.a.createElement(on,{ref:C,orientation:z},kt.a.createElement("div",Object.assign({id:"csc-scanner-container-container",ref:M},mt),kt.a.createElement("canvas",{className:"imgBuffer",width:0,height:0,ref:I}),kt.a.createElement("canvas",{className:"drawingBuffer",width:0,height:0,ref:L}),kt.a.createElement("video",{autoPlay:!0,muted:!0,playsInline:!0,ref:g})),kt.a.createElement("div",{id:"csc-bottom-bar"},Xe?kt.a.createElement(En,{orientation:z,theme:c,currentPrecision:ee,currentTolerance:ie,onClose:Qe,onPrecisionChange:te,onToleranceChange:ae}):null,kt.a.createElement("div",{id:"csc-bottom-bar-left"},kt.a.createElement("button",{className:"csc-radial-button-".concat(Xe?"active":"inactive"),onClick:Qe},Object(Nt.r)({size:22,color:Xe?St:Et}))),kt.a.createElement("div",{id:"csc-bottom-bar-right"},kt.a.createElement("button",{className:"csc-radial-button-".concat(jt?Ct?"active":"inactive":"unavailable"),onClick:yt},Mt),kt.a.createElement("label",{className:"csc-radial-button-".concat(wt?"active":"inactive")},kt.a.createElement("input",{type:"file",accept:"image/*",ref:h,onChange:Ot}),kt.a.createElement(Nt.w,{color:wt?St:Et})))))}));function In(e){var t=e.standardsPV,n=e.onSuccessPV,r=e.acceptOnFirst,i=e.outputVP,a=e.ctx,o=e.env,c=kt.a.useMemo((function(){return Object(p.v)(t).map((function(e){return Object(p.F)(e.current)}))}),[t]),u=kt.a.useMemo((function(){return Object(p.M)(n,B.o)}),[n]),l=kt.a.useCallback((function(e,t){Object(It.b)(c,e)&&(i.set(t),null===u||void 0===u||u.run(a,o,B.d.None))}),[c,i,u,a,o]);return kt.a.createElement(Pn,{standards:c,acceptOnFirst:r,onValue:l})}var _n=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,4),o=a[0],c=a[1],u=a[3],l=Object(r.a)(i,3)[2];return Object(p.K)(o)&&u!==v.e&&Object(p.K)(l)&&Object(p.K)(c)?kt.a.createElement(In,{standardsPV:o,onSuccessPV:u,acceptOnFirst:Object(p.x)(c),outputVP:l,ctx:t,env:n}):null}}]),e}(),Nn=n(32),An=function(){return jt.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 20C15.5228 20 20 15.5228 20 10C20 4.47715 15.5228 0 10 0C4.47715 0 0 4.47715 0 10C0 15.5228 4.47715 20 10 20ZM14.0404 5.95958C14.4309 6.3501 14.4309 6.98327 14.0404 7.37379L11.4142 10L14.0404 12.6262C14.4309 13.0168 14.4309 13.6499 14.0404 14.0405C13.6499 14.431 13.0167 14.431 12.6262 14.0405L9.99996 11.4142L7.37373 14.0405C6.98321 14.431 6.35004 14.431 5.95952 14.0405C5.56899 13.6499 5.56899 13.0168 5.95952 12.6262L8.58575 10L5.95952 7.37379C5.56899 6.98327 5.56899 6.3501 5.95952 5.95958C6.35004 5.56906 6.98321 5.56906 7.37373 5.95958L9.99996 8.58581L12.6262 5.95958C13.0167 5.56906 13.6499 5.56906 14.0404 5.95958Z"}))},Fn=n(760);function Ln(){var e=Object(Kt.a)(["\n    display: flex;\n\n    > .date-time-value {\n        display: flex;\n        flex-grow: 1;\n\n        > .date-value {\n            width: 100%;\n\n            ",";\n\n            flex-grow: 1;\n            flex-shrink: 1;\n\n            margin: 4px 0px 8px 0px;\n\n            color: ",";\n        }\n\n        > .calendar-icon {\n            color: ",";\n            margin: 4px 4px 0px 0px;\n            height: 32px;\n        }\n    }\n\n    > .cancel-icon-wrapper {\n        color: ",";\n        margin: 4px 0px 0px 4px;\n        width: 32px;\n        height: 32px;\n\n        display: flex;\n        align-items: flex-start;\n        justify-content: center;\n\n        cursor: pointer;\n\n        :hover {\n            color: ","B3;\n        }\n    }\n"]);return Ln=function(){return e},e}var Bn=qt.i.div(Ln(),(function(e){return e.theme.fontStyles.Body4}),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.fgColorLight})),Vn=n(824);var Un=Object(yt.a)("material-date-time-picker",(function(){return Promise.all([n.e(19),n.e(81)]).then(n.bind(null,1640))})),zn=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showPicker:!1,pickerValue:void 0},e.showPicker=function(){var t=e.props,n=t.variant,r=t.value;if(void 0===r){var i="date"===n?Object(Vn.a)(new Date):Object(Vn.b)(new Date);e.setState({pickerValue:i,showPicker:!0})}else e.setState({pickerValue:r,showPicker:!0})},e.hidePicker=function(){e.setState({showPicker:!1})},e.onClear=function(t){var n=e.props.onChange;null===n||void 0===n||n(void 0),t.stopPropagation()},e.onUpdate=function(t){e.setState({pickerValue:t})},e.onCancel=function(){e.hidePicker()},e.onAccept=function(){var t=e.props.onChange,n=e.state.pickerValue;void 0!==t&&null!==n&&(t(n),e.hidePicker())},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.variant,n=e.title,r=e.placeholder,i=e.value,a=e.highlightProps,o=e.isEnabled,c=this.state,u=c.showPicker,l=c.pickerValue,s=void 0!==i,d=r;return"date"===t&&s?d=Object(A.n)(i).toLocaleDateString():"date-time"===t&&s&&(d="".concat(Object(A.n)(i).toLocaleDateString()," ").concat(Object(A.n)(i).toLocaleTimeString())),kt.a.createElement(Fn.e,Object.assign({"data-test":"app-date-time-field",isEnabled:o,focused:!1},a,{ref:a.ref}),kt.a.createElement("div",{className:"tf-inner"},kt.a.createElement(Fn.a,{focused:!1,shrink:void 0!==i||""!==r},n),kt.a.createElement(Fn.c,{hideInput:!1,hasTitle:""!==n},kt.a.createElement(Bn,null,kt.a.createElement("div",{className:"date-time-value",onClick:this.showPicker},kt.a.createElement("div",{className:"date-value","data-test":"app-tf-datetime-input","aria-label":n},d),kt.a.createElement("div",{className:"calendar-icon"},kt.a.createElement(Nn.a,{icon:"01-21-calendar",size:20}))),s&&kt.a.createElement("div",{"data-test":"app-tf-datetime-input-cancel",className:"cancel-icon-wrapper",onClick:this.onClear},kt.a.createElement(An,null)),u&&void 0!==l&&kt.a.createElement(jt.Suspense,{fallback:kt.a.createElement(kt.a.Fragment,null)},kt.a.createElement(Un,{type:t,value:l,onUpdate:this.onUpdate,onCancel:this.onCancel,onAccept:this.onAccept}))))))}}]),n}(kt.a.PureComponent),Wn=Object(pn.d)(zn),Hn=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(i,7),o=a[1],c=a[6],u=Object(r.a)(e,6),l=u[0],s=u[1],f=u[2],v=u[3],h=u[4],b=u[5];if(s===B.i)return n.renderProgress();var m=function(){var e=Object(x.a)(k.a.mark((function e(r){var i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==o){e.next=2;break}return e.abrupt("return");case 2:i=Object(d.definedMap)(r,A.k),o.set(null!==i&&void 0!==i?i:""),Object(p.K)(v)&&void 0!==t&&void 0!==n&&Object(B.o)(v).run(t,n,B.d.DateTimeField);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=!Object(p.K)(v)||!1!==h,O=!0===b,y=this.variant(),j=Object(d.definedMap)(Object(p.z)(s),A.j);return void 0!==c&&c.set(void 0!==j||!O),jt.createElement(Wn,{variant:y,title:f===B.i?"Loading\u2026":Object(p.F)(f),placeholder:l===B.i?"Loading\u2026":Object(p.F)(l),value:j,onChange:m,isEnabled:g,isRequired:O})}}]),e}();var Kn=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"variant",value:function(){return"date-time"}}]),n}(Hn),qn=n(168),Gn=n.n(qn);function Jn(){var e=Object(Kt.a)(["\n    flex-grow: 0;\n    flex-shrink: 0;\n\n    color: ",";\n\n    margin-right: 12px;\n"]);return Jn=function(){return e},e}function Zn(){var e=Object(Kt.a)(["\n    flex: 1;\n\n    margin-left: 16px;\n\n    ","\n\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n\n    color: ",";\n\n    ",";\n"]);return Zn=function(){return e},e}function Xn(){var e=Object(Kt.a)(["\n    input:focus + label > & {\n        background-color: ",";\n    }\n    && {\n        height: 48px;\n        text-align: start;\n\n        display: flex;\n        flex-direction: row;\n\n        justify-content: stretch;\n        align-items: center;\n\n        ","\n\n        border-radius: 4px;\n        background-color: ",";\n\n        :hover,\n        :focus {\n            background-color: ",";\n        }\n\n        :active {\n            background-color: ",";\n        }\n\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n"]);return Xn=function(){return e},e}function Yn(){var e=Object(Kt.a)(["\n    margin-bottom: 8px;\n"]);return Yn=function(){return e},e}function Qn(){var e=Object(Kt.a)(["\n    padding: ","px ","px;\n    display: flex;\n    flex-direction: column;\n    .sp-footer {\n        margin-top: 4px;\n\n        ",";\n        min-height: 17px;\n        color: ",";\n    }\n"]);return Qn=function(){return e},e}var $n=qt.i.div(Qn(),(function(e){return e.theme.componentInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.fontStyles.Body6Fixed}),(function(e){return e.theme.fgColorLight})),er=Object(qt.i)(mn)(Yn()),tr=qt.i.button(Xn(),(function(e){return e.theme.picker.hoverColor}),(function(e){return!e.enabled&&qt.g}),(function(e){return e.theme.picker.backgroundColor}),(function(e){return e.theme.picker.hoverColor}),(function(e){return e.theme.picker.activeColor})),nr=qt.i.div(Zn(),(function(e){return e.theme.fontStyles.Body4}),(function(e){return e.theme.fgColorDark}),(function(e){return!0===e.isPlaceholder&&"opacity: 0.4"})),rr=qt.i.div(Jn(),(function(e){return e.theme.fgColorLight}));function ir(){var e=Object(Kt.a)(["\n    padding: ","px ","px;\n    display: flex;\n    flex-direction: column;\n\n    color: ",";\n\n    & "," {\n        margin-bottom: 8px;\n    }\n\n    .sp-main-button {\n        background-color: ","44;\n        border-left: 4px solid ",";\n\n        padding: 14px;\n        ","\n\n        .sp-main-split {\n            display: flex;\n            align-items: center;\n\n            > *:first-child {\n                flex-grow: 1;\n            }\n        }\n\n        .sp-title {\n            ","\n        }\n\n        .sp-clear-wrapper {\n            padding: 12px;\n            margin-right: -12px;\n            margin-top: -12px;\n            margin-bottom: -12px;\n            line-height: 0;\n\n            cursor: pointer;\n            color: ",";\n        }\n    }\n\n    .sp-main-button.disabled {\n        ","\n    }\n\n    .sp-footer {\n        margin-top: 4px;\n\n        ",";\n        min-height: 17px;\n        color: ",";\n    }\n"]);return ir=function(){return e},e}var ar=qt.i.div(ir(),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.fgColorDark}),mn,(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.fontStyles.Body5}),(function(e){return e.theme.fontStyles.Header5}),(function(e){return e.theme.fgColorLight}),qt.g,(function(e){return e.theme.fontStyles.Body6Fixed}),(function(e){return e.theme.fgColorLight})),or=function(e){var t=e.title,n=e.eventTitle,r=e.eventDesc,i=e.isRequired,a=e.hasEvent,o=e.isEnabled,c=e.placeholder,u=e.className,l=e.onClick,s=e.onClear,d=jt.useCallback((function(e){null===s||void 0===s||s(),e.preventDefault(),e.stopPropagation()}),[s]);return jt.createElement(ar,{className:u},jt.createElement(mn,null,t),a&&jt.createElement("div",{className:Gn()("sp-main-button",!o&&"disabled"),onClick:l},jt.createElement("div",{className:"sp-main-split"},jt.createElement("div",null,jt.createElement("div",{className:"sp-title"},n),jt.createElement("div",{className:"sp-desc"},r)),jt.createElement("div",{className:"sp-clear-wrapper",onClick:d},jt.createElement(An,null)))),!a&&jt.createElement(tr,{"data-test":"app-picker-button",enabled:o,onClick:l},jt.createElement(nr,{isPlaceholder:!0},c),jt.createElement(rr,null,jt.createElement(Nn.a,{icon:"01-21-calendar",size:24}))),i&&jt.createElement("div",{className:"sp-footer"},Object(O.e)("required")))},cr=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i,a,o=Object(r.a)(e,8),c=o[0],u=o[1],l=o[2],s=o[3],d=o[4],f=o[5],v=o[6],h=o[7],b=Object(p.M)(c,p.x),m=Object(p.M)(u,p.z),g=Object(p.M)(l,p.z),y=Object(p.M)(s,(function(e){return function(){return Object(B.o)(e).run(t,n,B.d.None)}})),j=Object(p.M)(d,(function(e){return function(){return Object(B.o)(e).run(t,n,B.d.None)}})),k=Object(p.M)(f,p.F),x=Object(p.M)(v,p.F),C=Object(p.M)(h,p.x);return void 0!==m&&void 0!==g&&(i=Object(O.b)(m,!1),new Date(m).setHours(0,0,0,0)!==new Date(g).setHours(0,0,0,0)&&(i+="\u2014 "+Object(O.b)(g,!1)),a="".concat(Object(O.c)(m)," - ").concat(Object(O.c)(g))),jt.createElement(or,{isEnabled:null===b||void 0===b||b,onClick:y,onClear:j,eventTitle:i,eventDesc:a,title:k,placeholder:null!==x&&void 0!==x?x:"FIXME",isRequired:null!==C&&void 0!==C&&C,hasEvent:void 0!==m&&void 0!==g})}}]),e}();function ur(){var e=Object(Kt.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    flex-grow: 1;\n\n    padding-top: 8px;\n\n    color: ",";\n\n    .event-container {\n        position: absolute;\n        left: ","px;\n        width: calc(100% - ","px - ","px);\n        top: 16px;\n\n        pointer-events: none;\n    }\n\n    .event-container.clickable {\n        pointer-events: auto;\n    }\n\n    .cal-day-picker.selected {\n        .day-number {\n            color: ",";\n            background-color: ",";\n        }\n    }\n\n    .cal-week-picker {\n        padding: 0 ","px 12px;\n    }\n\n    .cal-date-header {\n        ","\n        margin-bottom: 12px;\n        text-align: center;\n\n        > input {\n            position: absolute;\n            left: 0;\n            top: 0;\n            height: 0;\n            width: 0;\n        }\n    }\n\n    .time-block-label {\n        ",";\n        position: relative;\n        top: -7px;\n        text-align: right;\n        color: ",";\n\n        transition: opacity 150ms;\n    }\n\n    .time-block-label.hidden {\n        opacity: 0;\n    }\n\n    .time-block {\n        display: grid;\n        height: 50px;\n        padding-right: ","px;\n\n        grid-column-gap: 8px;\n        grid-template-columns: ","px 1fr;\n\n        .time-block-area {\n            border-top: 1px solid ",";\n        }\n    }\n\n    .cal-event {\n        position: absolute;\n        background-color: ","26;\n        width: 100%;\n        left: 0;\n\n        border-left: 4px solid ",";\n        border-bottom: 1px solid ",";\n\n        display: flex;\n        flex-direction: column;\n\n        ",";\n\n        padding: 0 8px;\n\n        overflow: hidden;\n\n        .title {\n            overflow: hidden;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n\n            flex-shrink: 0;\n        }\n\n        transition: left 150ms, top 100ms, height 100ms, width 150ms;\n\n        .time-block-label {\n            ",";\n            position: relative;\n            top: -7px;\n            text-align: right;\n            width: ","px;\n            color: ",";\n\n            background-color: ",';\n        }\n\n        .start-time {\n            position: absolute;\n            right: calc(100% + 8px);\n        }\n\n        .end-time {\n            position: absolute;\n            top: calc(100% - 7px);\n            right: calc(100% + 8px);\n        }\n\n        ::before {\n            content: "";\n            flex-shrink: 2;\n            height: 8px;\n            min-height: 0;\n        }\n\n        ::after {\n            content: "";\n            flex-shrink: 3;\n            height: 8px;\n            min-height: 0;\n        }\n    }\n\n    .dragging {\n        cursor: ns-resize;\n    }\n\n    .cal-event.selection {\n        background-color: ','66;\n\n        border-left: unset;\n\n        pointer-events: auto;\n\n        overflow: visible;\n\n        .top-drag-handle {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 25px;\n            max-height: 50%;\n\n            cursor: ns-resize;\n\n            ::before {\n                content: "";\n                position: absolute;\n                left: calc(50% - 4px);\n                top: -3px;\n                width: 8px;\n                height: 8px;\n                border-radius: 100px;\n\n                background-color: ',';\n            }\n        }\n\n        .bottom-drag-handle {\n            position: absolute;\n            left: 0;\n            bottom: 0;\n            width: 100%;\n            height: 25px;\n            max-height: 50%;\n\n            cursor: ns-resize;\n\n            ::before {\n                content: "";\n                position: absolute;\n                left: calc(50% - 4px);\n                bottom: -4px;\n                width: 8px;\n                height: 8px;\n                border-radius: 100px;\n\n                background-color: ',";\n            }\n        }\n    }\n\n    .cal-scroller {\n        padding-top: 16px;\n        overflow-y: auto;\n        flex-grow: 1;\n        flex-shrink: 1;\n        height: 1px;\n        position: relative;\n\n        ::-webkit-scrollbar {\n            display: none;\n        }\n    }\n"]);return ur=function(){return e},e}var lr=qt.i.div(ur(),(function(e){return e.theme.fgColorDark}),68,(function(e){return e.theme.pageMarginMedium}),68,(function(e){return e.theme.accentForegroundColor}),(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.fontStyles.Header2}),(function(e){return e.theme.fontStyles.Header6}),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.pageMarginMedium}),60,(function(e){return e.theme.separatorColor}),(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.baseColor}),(function(e){return e.theme.fontStyles.Callout6}),(function(e){return e.theme.fontStyles.Header6}),60,(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.baseColor}),(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.primaryAccentColor})),sr=n(267),dr=n.n(sr),fr=n(655),pr=n.n(fr),vr=n(761),hr=[{day:1,territories:["001","AD","AI","AL","AM","AN","AR","AT","AX","AZ","BA","BE","BG","BM","BN","BY","CH","CL","CM","CR","CY","CZ","DE","DK","EC","EE","ES","FI","FJ","FO","FR","GB","GE","GF","GP","GR","HR","HU","IE","IS","IT","KG","KZ","LB","LI","LK","LT","LU","LV","MC","MD","ME","MK","MN","MQ","MY","NL","NO","NZ","PL","RE","RO","RS","RU","SE","SI","SK","SM","TJ","TM","TR","UA","UY","UZ","VA","VN","XK"]},{day:5,territories:["MV"]},{day:6,territories:["AE","AF","BH","DJ","DZ","EG","IQ","IR","JO","KW","LY","OM","QA","SD","SY"]},{day:0,territories:["AG","AS","AU","BD","BR","BS","BT","BW","BZ","CA","CN","CO","DM","DO","ET","GT","GU","HK","HN","ID","IL","IN","JM","JP","KE","KH","KR","LA","MH","MM","MO","MT","MX","MZ","NI","NP","PA","PE","PH","PK","PR","PT","PY","SA","SG","SV","TH","TT","TW","UM","US","VE","VI","WS","YE","ZA","ZW"]}];function br(){var e,t;return null!==(e=null===(t=hr.find((function(e){return e.territories.find((function(e){var t;return!0===(null===(t=Object(A.v)())||void 0===t?void 0:t.endsWith(e))}))})))||void 0===t?void 0:t.day)&&void 0!==e?e:0}function mr(){var e=Object(Kt.a)(["\n    position: relative;\n\n    overflow: hidden;\n\n    .cal {\n        display: flex;\n        justify-content: space-between;\n    }\n\n    .cal-day-picker {\n        display: flex;\n        flex-direction: column;\n        color: ",";\n\n        .day-label {\n            width: 40px;\n            height: 40px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            ","\n        }\n\n        .day-number {\n            width: 40px;\n            height: 40px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            border-radius: 100px;\n\n            cursor: pointer;\n\n            ","\n        }\n    }\n\n    .cal-day-picker.weekend {\n        color: ",";\n    }\n\n    .cal-day-picker.today:not(.selected) {\n        .day-number {\n            color: ",";\n            background-color: ",";\n        }\n    }\n\n    .cal.prev {\n        position: absolute;\n        left: -100%;\n        top: 0;\n        width: 100%;\n        height: 100%;\n    }\n\n    .cal.next {\n        position: absolute;\n        right: -100%;\n        top: 0;\n        width: 100%;\n        height: 100%;\n    }\n"]);return mr=function(){return e},e}var gr=qt.i.div(mr(),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fontStyles.Header6}),(function(e){return e.theme.fontStyles.Body4}),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.separatorColor}));function Or(e,t,n){var r=(7+e.getUTCDay()-t)%7,i=new Date(new Date(e).setUTCDate(e.getUTCDate()-r));return["S","M","T","W","Th","F","S"].map((function(e,t){var r=new Date(new Date(i).setUTCDate(i.getUTCDate()+t)),a=r.getUTCDay();return{label:Intl.DateTimeFormat(Object(A.v)(),{weekday:"narrow"}).format(Object(A.j)(r)),date:r,day:r.getUTCDate(),isWeekend:0===a||6===a,isCurrentDay:Object(A.B)().setUTCHours(0,0,0,0)===new Date(r).setUTCHours(0,0,0,0),isSelected:new Date(r).setUTCHours(0,0,0,0)===new Date(n).setUTCHours(0,0,0,0)}}))}var yr=function(e){var t=e.className,n=e.selected,i=e.onSelectionChange,a=jt.useState(!1),o=Object(r.a)(a,2),c=o[0],u=o[1],l=jt.useState(),s=Object(r.a)(l,2),d=s[0],f=s[1],p=jt.useState(0),v=Object(r.a)(p,2),h=v[0],b=v[1],m=jt.useState(0),g=Object(r.a)(m,2),O=g[0],y=g[1],j=jt.useMemo(br,[]);jt.useLayoutEffect((function(){b(0),y(0)}),[n]);var k=new Date(new Date(n).setUTCDate(n.getUTCDate()-7+O)),x=new Date(new Date(n).setUTCDate(n.getUTCDate()+7+O)),C=Or(k,j,n),w=Or(new Date(new Date(n).setUTCDate(n.getUTCDate()+O)),j,n),S=Or(x,j,n),E=function(e){return e.map((function(e){return jt.createElement("div",{key:e.day,className:Gn()("cal-day-picker",e.isCurrentDay&&"today",e.isSelected&&"selected",e.isWeekend&&"weekend")},jt.createElement("div",{className:"day-label"},e.label),jt.createElement("div",{className:"day-number",onClick:function(){return null===i||void 0===i?void 0:i(e.date)}},e.day))}))},M=jt.useCallback((function(e,t){var n,r=h;window.requestAnimationFrame((function i(a){if(void 0===n)return n=a,void window.requestAnimationFrame(i);var o,c=(a-n)/8;o=e>r?Math.min(e,r+c):Math.max(e,r-c),b(o),r=o,o!==e?window.requestAnimationFrame(i):null===t||void 0===t||t()}))}),[h]),R=jt.useCallback((function(e){f([e.clientX-h,e.clientY])}),[h]),D=jt.useCallback((function(e){if(void 0!==d&&e.buttons%2===1){var t=Object(r.a)(d,1)[0],n=Math.abs(e.clientX-t);n>15&&!c&&u(!0),(c||n>15)&&b(e.clientX-t)}}),[c,d]),T=jt.useCallback((function(e){if(c){var t=e.currentTarget;e.stopPropagation(),e.preventDefault(),h>t.clientWidth/3?M(t.clientWidth,(function(){y(O-7),b(0),null===i||void 0===i||i(k)})):-h>t.clientWidth/3?M(-t.clientWidth,(function(){y(O+7),b(0),null===i||void 0===i||i(x)})):M(0),f(void 0),u(!1)}}),[O,h,c,M,x,i,k]),P=jt.useMemo((function(){return{transform:"translateX(".concat(h,"px)")}}),[h]);return jt.createElement(gr,{className:t},jt.createElement("div",{className:"slide",style:P,onMouseDown:R,onMouseMove:D,onClickCapture:T,onMouseLeave:T},jt.createElement("div",{className:"cal"},E(w)),jt.createElement("div",{className:"cal prev"},E(C)),jt.createElement("div",{className:"cal next"},E(S))))};function jr(e,t){return new Date(e.start).setUTCHours(0,0,0,0)===new Date(t).setUTCHours(0,0,0,0)||new Date(e.end).setUTCHours(0,0,0,0)===new Date(t).setUTCHours(0,0,0,0)||e.start<t&&e.end>t}function kr(e,t,n,r,i){var a=Math.floor(60*t.getUTCHours()+t.getUTCMinutes()),o=Math.ceil(60*n.getUTCHours()+n.getUTCMinutes()),c=new Date(e);c.setUTCDate(c.getUTCDate()+1),c.setUTCHours(0,0,0,0);var u=t<e?0:a,l=100/(r+1),s=l*i;return{top:u/1.2,height:((n>=c?1440:o)-u)/1.2,width:"".concat(l,"%"),left:"".concat(s,"%")}}var xr=function(e){var t=e.className,n=e.viewDate,i=e.header,a=e.events,o=e.selection,c=e.onDateClick,u=e.onHeaderClick,l=e.onSelectionChange,d=e.onEventClick,f=jt.useState(),p=Object(r.a)(f,2),v=p[0],h=p[1],b=jt.useState(),m=Object(r.a)(b,2),g=m[0],y=m[1],j=jt.useState(),k=Object(r.a)(j,2),x=k[0],C=k[1],w=jt.useRef(null),S=jt.useRef(null),E=new Date(n);E.setUTCHours(0,0,0,0);var M=[].concat(Object(_t.a)(a.map((function(e,t){var n=e.end;return e.start.getTime()===n.getTime()&&(n=new Date(n)).setHours(n.getHours()+1),Object(s.a)(Object(s.a)({},e),{},{key:t,original:e,end:n})}))),Object(_t.a)(void 0!==o&&jr(o,E)?[Object(s.a)(Object(s.a)({},o),{},{selected:!0,key:-1,original:void 0})]:[])),R=dr()(M.filter((function(e){return jr(e,E)})),(function(e){return e.start})),D=jt.useMemo((function(){return dr()(function(e){var t=[],n=new Date(0,0,0),r=[];e.forEach((function(e){e.start>=n?(r.length>0&&t.push(r),r=[e],n=e.end):(r.push(e),e.end>n&&(n=e.end))})),r.length>0&&t.push(r);var i=t.map((function(e){for(var t=Object(_t.a)(e),n=0,r=-1,i=[],a=[];t.length>0;){var o=new Date(0,0,0),c=!0,u=!1,l=void 0;try{for(var d,f=t[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;p.start>=o?(o=p.end,i.push(Object(s.a)(Object(s.a)({},p),{},{col:n,numColumns:-1,selected:!0===p.selected,original:p.original})),!0===p.selected&&(r=n)):a.push(p)}}catch(v){u=!0,l=v}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}t=a,a=[],n++}return r>0&&(i=i.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{col:0===e.col?r:e.col===r?0:e.col})}))),i.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{numColumns:n-1})}))}));return pr()(i)}(R),(function(e){return e.key}))}),[R]),T=jt.useCallback((function(e){if(e.buttons%2===1&&e.target instanceof HTMLElement){var t=e.target.getAttribute("data-drag-handle");"upper"!==t&&"lower"!==t||(e.preventDefault(),e.stopPropagation(),h(t),y([e.pageX,e.pageY]),C(o))}}),[o]),P=jt.useCallback((function(e){if(void 0!==v&&void 0!==g&&void 0!==x){e.preventDefault(),e.stopPropagation();var t=1.2*(e.pageY-g[1]),n=Object(s.a)({},x);"upper"===v?n.start=new Date(new Date(n.start).setUTCMinutes(n.start.getUTCMinutes()+t)):n.end=new Date(new Date(n.end).setUTCMinutes(n.end.getUTCMinutes()+t)),null===l||void 0===l||l(n)}}),[v,g,l,x]),I=jt.useCallback((function(e){if(e.target instanceof HTMLElement){var t=e.target.getAttribute("data-drag-handle");"upper"!==t&&"lower"!==t||(e.preventDefault(),e.stopPropagation(),h(t),y([e.touches[0].pageX,e.touches[0].pageY]),C(o))}}),[o]),_=jt.useCallback((function(e){if(void 0!==v&&void 0!==g&&void 0!==x){e.preventDefault(),e.stopPropagation();var t=1.2*(e.touches[0].pageY-g[1]),n=Object(s.a)({},x);"upper"===v?n.start=new Date(new Date(n.start).setUTCMinutes(n.start.getUTCMinutes()+t)):n.end=new Date(new Date(n.end).setUTCMinutes(n.end.getUTCMinutes()+t)),null===l||void 0===l||l(n)}}),[v,g,l,x]);Object(vr.a)("touchmove",_,w.current,!1);var N=jt.useCallback((function(e){v&&(h(void 0),y(void 0),C(void 0),e.preventDefault(),e.stopPropagation())}),[v]),F=jt.useCallback((function(e){var t=e.currentTarget;if(!v){var n=t.getAttribute("data-hour");if(null!==n){var r=Number.parseInt(n),i=new Date(E);i.setUTCHours(r,0,0,0);var a=new Date(E);if(a.setUTCHours(r+1,0,0,0),void 0!==o){var c=Object(s.a)(Object(s.a)({},o),{},{start:i,end:a});null===l||void 0===l||l(c)}else null===l||void 0===l||l({start:i,end:a,name:"",description:"",itemID:"selection"})}}}),[v,E,l,o]);return jt.useEffect((function(){var e=window.setTimeout((function(){var e=S.current;if(void 0!==e&&null!==e)if(void 0!==o&&jr(o,Object(A.B)())){var t=50*o.start.getUTCHours();e.scrollTop=t}else{var n=50*(new Date).getHours();e.scrollTop=n}}),150);return function(){return window.clearTimeout(e)}}),[]),jt.createElement(lr,{className:t},jt.createElement("label",{className:"cal-date-header",onClick:u},i,jt.createElement("input",{type:"date",onChange:function(e){var t=e.target.valueAsDate;null!==t&&(null===c||void 0===c||c(t))}})),jt.createElement("div",{className:"cal-week-picker"},jt.createElement(yr,{selected:E,onSelectionChange:c,canSwipe:!0,mode:"week"})),jt.createElement("div",{className:"cal-scroller",ref:S},jt.createElement("div",{className:Gn()(void 0!==v&&"dragging"),ref:w,onMouseDownCapture:T,onMouseMoveCapture:P,onMouseUpCapture:N,onMouseLeave:N,onTouchStartCapture:I,onTouchEndCapture:N,onTouchCancel:N},Object(_t.a)(Array(25).keys()).map((function(e){var t=new Date(new Date(E).setUTCHours(e%24,0,0,0)),n=function(e,t){if(void 0!==e)return Math.abs(e.start.getTime()-t.getTime())<=9e5||Math.abs(e.end.getTime()-t.getTime())<=9e5}(o,t);return jt.createElement("div",{key:e,className:"time-block"},jt.createElement("div",{className:Gn()("time-block-label",n&&"hidden")},Object(O.c)(t)),jt.createElement("div",{className:"time-block-area","data-hour":e,onClick:F}))})),jt.createElement("div",{className:Gn()("event-container",d&&"clickable")},D.map((function(e){return jt.createElement("div",{onClick:function(){return null===d||void 0===d?void 0:d(e.original)},key:e.key,className:Gn()("cal-event",e.selected&&"selection"),style:kr(E,e.start,e.end,e.numColumns,e.col)},jt.createElement("div",{className:"title"},e.name),e.selected&&jt.createElement(jt.Fragment,null,jt.createElement("div",{"data-drag-handle":"upper",className:"top-drag-handle"}),jt.createElement("div",{"data-drag-handle":"lower",className:"bottom-drag-handle"}),jt.createElement("div",{className:"start-time time-block-label"},Object(O.c)(e.start)),jt.createElement("div",{className:"end-time time-block-label"},Object(O.c)(e.end))))}))))))},Cr=function(e){var t,n,i,a=jt.useState(new Date(null!==(t=null===(n=e.selection)||void 0===n?void 0:n.start)&&void 0!==t?t:Object(A.B)())),o=Object(r.a)(a,2),c=o[0],u=o[1],l=jt.useState(e.selection),d=Object(r.a)(l,2),f=d[0],p=d[1],v=null!==(i=Object(O.b)(c,!1))&&void 0!==i?i:"",h=jt.useCallback((function(t){var n,r=new Date(9e5*Math.floor(t.start.getTime()/9e5)),i=new Date(9e5*Math.ceil(t.end.getTime()/9e5));r>=i||(r.getUTCDay()!==c.getUTCDay()&&(r=new Date(c)).setUTCHours(0,0,0,0),r.getUTCDay()!==i.getUTCDay()&&i.setUTCHours(0,0,0,0),void 0!==f&&f.start.getTime()===r.getTime()&&f.end.getTime()===i.getTime()||(t=Object(s.a)(Object(s.a)({},t),{},{start:r,end:i}),p(t),null===(n=e.onSelectionChange)||void 0===n||n.call(e,t)))}),[c,e.onSelectionChange,f]);return jt.createElement(xr,Object.assign({},e,{header:v,selection:f,viewDate:c,onDateClick:u,onSelectionChange:h}))},wr=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o,c=Object(r.a)(e,3),u=c[0],l=c[1],s=c[2],f=Object(r.a)(i,2),v=f[0],h=f[1],b=Object(p.M)(u,p.z),m=Object(p.M)(l,p.z);void 0!==b&&void 0!==m&&(o={start:b,end:m,data:void 0,description:"",name:"",itemID:""});var g=[];if(Object(p.K)(s)){var O=!0,y=!1,j=void 0;try{for(var k,x=Object(p.v)(s)[Symbol.iterator]();!(O=(k=x.next()).done);O=!0){var C=k.value.getObjectInspector(a);if(Object(p.K)(C)){var w=Object(p.M)(Object(d.definedMap)(C.getProperty("start"),a),p.z),S=Object(p.M)(Object(d.definedMap)(C.getProperty("end"),a),p.z);if(void 0!==w){var E=Object(p.M)(Object(d.definedMap)(C.getProperty("title"),a),p.F),M=Object(p.M)(Object(d.definedMap)(C.getProperty("description"),a),p.F),R=w;g.push({start:R,end:null!==S&&void 0!==S?S:R,name:null!==E&&void 0!==E?E:"",description:M,data:void 0,itemID:""})}}}}catch(D){y=!0,j=D}finally{try{O||null==x.return||x.return()}finally{if(y)throw j}}}return jt.createElement(Cr,{events:g,selection:o,onSelectionChange:function(e){Object(P.b)("event picker selection changed",e),null===v||void 0===v||v.set(e.start),null===h||void 0===h||h.set(e.end)}})}}]),e}(),Sr=n(6);function Er(){var e=Object(Kt.a)(["\n    color: ",";\n    ","\n"]);return Er=function(){return e},e}function Mr(){var e=Object(Kt.a)(["\n    color: ",";\n    margin-bottom: 4px;\n"]);return Mr=function(){return e},e}function Rr(){var e=Object(Kt.a)(["\n                    filter: grayscale(100%);\n                    opacity: 0.6;\n                "]);return Rr=function(){return e},e}function Dr(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    & "," {\n        background-color: ",";\n        color: ",";\n\n        & > .emoji {\n            cursor: default;\n            ",";\n        }\n    }\n"]);return Dr=function(){return e},e}function Tr(){var e=Object(Kt.a)(["\n    position: absolute;\n    bottom: 6px;\n\n    ","\n\n    justify-items: center;\n    align-items: center;\n    right: 16px;\n\n    display: flex;\n\n    height: 48px;\n    padding: 4px;\n    border-radius: 40px;\n\n    background-color: ",";\n    box-shadow: 0px 10px 42px rgba(0, 0, 0, 0.2);\n\n    cursor: default;\n\n    & > .icon {\n        min-width: 40px;\n        min-height: 40px;\n        margin-right: 4px;\n    }\n\n    & > .emoji {\n        margin-right: 4px;\n        padding: 12px 5px;\n        font-size: 30px;\n    }\n\n    & > div:not(.close):hover,\n    & > .selected {\n        border-radius: 100px;\n        background-color: ",";\n\n        svg {\n            color: ",";\n        }\n    }\n\n    & svg {\n        color: ",";\n    }\n\n    & .close {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n\n        width: 24px;\n        height: 24px;\n        margin: 0px 8px 0px 4px;\n\n        background-color: ",";\n        border-radius: 100px;\n    }\n"]);return Tr=function(){return e},e}function Pr(){var e=Object(Kt.a)(["\n    pointer-events: none;\n    flex: 0;\n    opacity: 0;\n    transition: opacity 0.3s ease, flex 0s ease-out 0.3s;\n"]);return Pr=function(){return e},e}function Ir(){var e=Object(Kt.a)(["\n    display: flex;\n    pointer-events: unset;\n    opacity: 1;\n    transition: opacity 0.5s ease, flex 0.3s ease-out;\n"]);return Ir=function(){return e},e}function _r(){var e=Object(Kt.a)(["\n                  display: none;\n              "]);return _r=function(){return e},e}function Nr(){var e=Object(Kt.a)(["\n                  display: flex;\n                  justify-content: center;\n                  align-items: center;\n              "]);return Nr=function(){return e},e}function Ar(){var e=Object(Kt.a)(["\n    ","\n\n    width: 40px;\n    height: 40px;\n    border-radius: 100px;\n\n    & > .emoji {\n        font-size: 30px;\n    }\n"]);return Ar=function(){return e},e}function Fr(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n"]);return Fr=function(){return e},e}function Lr(){var e=Object(Kt.a)(["\n    position: relative;\n\n    height: 58px;\n    padding: ","px ","px;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    line-height: 1.2em;\n"]);return Lr=function(){return e},e}var Br=qt.i.div(Lr(),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium})),Vr=qt.i.div(Fr()),Ur=qt.i.div(Ar(),(function(e){return e.open?Object(Ut.css)(Nr()):Object(Ut.css)(_r())})),zr=Object(Ut.css)(Ir()),Wr=Object(Ut.css)(Pr()),Hr=qt.i.div(Tr(),(function(e){return e.open?zr:Wr}),(function(e){return e.theme.expandableOptions.modal.bgColor}),(function(e){return e.theme.expandableOptions.options.bgColorSelected}),(function(e){return e.theme.expandableOptions.options.fgColorSelected}),(function(e){return e.theme.expandableOptions.options.bgColorSelected}),(function(e){return e.theme.expandableOptions.options.bgColorUnselected})),Kr=qt.i.div(Dr(),Ur,(function(e){return e.selected?e.theme.expandableOptions.button.bgColorSelected:e.theme.expandableOptions.button.bgColorUnselected}),(function(e){return e.selected?e.theme.expandableOptions.button.fgColorSelected:e.theme.expandableOptions.button.fgColorUnselected}),(function(e){return!e.selected&&Object(Ut.css)(Rr())})),qr=qt.i.div(Mr(),(function(e){return e.theme.fgColorLight})),Gr=qt.i.div(Er(),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fontStyles.AccentCallout4})),Jr=n(635);var Zr=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showSelectionModal:!1,selectedValue:e.props.value},e.onIconClick=function(t,n){t.stopPropagation();var r=e.props.onChange,i=e.state.selectedValue===n,a=n;i&&(a="number"===typeof n?0:""),r(a),e.setState({showSelectionModal:!1,selectedValue:i?void 0:n})},e.toggleOptionModal=function(){var t=e.state.showSelectionModal;e.setState({showSelectionModal:!t})},e.hideOptionModal=function(){e.setState({showSelectionModal:!1})},e.optionForValue=function(t){return e.props.options.find((function(e){return e.value===t}))},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.caption,r=t.options,i=t.defaultIcon,a=t.isSvg,o=this.state,c=o.showSelectionModal,u=o.selectedValue,l=this.optionForValue(u),s=void 0===l?"-":l.label,d=void 0===l?i:l.icon,f=r.map((function(t){var n=void 0!==u&&u===t.value;return a?jt.createElement(Nn.a,{"data-test":"app-exp-options-svg",className:n?"selected icon":"icon",icon:Object(A.n)(t.icon),onClick:function(n){return e.onIconClick(n,t.value)}}):jt.createElement("div",{"data-test":"app-exp-options-emoji",className:n?"selected emoji":"emoji",onClick:function(n){return e.onIconClick(n,t.value)}},t.icon)})),p=a?jt.createElement(Nn.a,{icon:d}):jt.createElement("div",{className:"emoji"},d),v=void 0!==u&&0!==u&&""!==u;return jt.createElement(Jr.a,{onClickOutside:this.hideOptionModal},jt.createElement(Br,{"data-test":"app-expandable-options",onClick:this.toggleOptionModal},jt.createElement(Vr,null,jt.createElement(qr,null,n),jt.createElement(Gr,null,s)),jt.createElement(Kr,{selected:v},jt.createElement(Hr,{"data-test":"app-exp-options-open",open:c},f,jt.createElement("div",{"data-test":"app-exp-options-close",className:"close"},jt.createElement(Nn.a,{icon:"00-01-glide-close",color:"#959595",size:18}))),jt.createElement(Ur,{open:!c},p))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value!==t.selectedValue&&(t.selectedValue=e.value),t}}]),n}(jt.Component),Xr=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,4),c=o[0],u=o[1],l=o[2],s=o[3],d=Object(r.a)(i,3)[1];if(s===B.i||u===B.i||l===B.i||c===B.i)return n.renderProgress();var f=Object(Sr.definedMapWithDefault)(u,"",p.F),v=Object(Sr.definedMapWithDefault)(s,"",p.F),h=Object(A.V)(Object(p.v)(c),(function(e){var t=e.getObjectInspector(a);if(Object(p.K)(t)){var n=Object(Sr.definedMap)(t.getProperty("emoji"),a),r=Object(Sr.definedMap)(t.getProperty("value"),a);if(Object(p.K)(n)&&Object(p.K)(f))return{value:Object(p.F)(r),label:Object(p.F)(r),icon:Object(p.F)(n)}}})).filter((function(e){return!Object(A.F)(e.value)}));return 0===h.length?null:jt.createElement(Zr,{value:Object(p.F)(f),caption:v,onChange:function(e){void 0!==d&&(d.set(Object(Sr.withDefault)(e,"")),Object(p.K)(l)&&void 0!==t&&void 0!==n&&Object(B.o)(l).run(t,n,B.d.DateTimeField))},isSvg:!1,defaultIcon:h[0].icon,options:h})}}]),e}(),Yr=n(164);function Qr(){var e=Object(Kt.a)(["\n    color: ",";\n"]);return Qr=function(){return e},e}function $r(){var e=Object(Kt.a)(["\n    text-align: center;\n    ","\n    color: ",";\n    margin-top: 10px;\n\n    padding-bottom: var(--safe-area-inset-bottom);\n"]);return $r=function(){return e},e}function ei(){var e=Object(Kt.a)(["\n    svg {\n        fill: ",";\n    }\n"]);return ei=function(){return e},e}function ti(){var e=Object(Kt.a)(["\n    width: 152px;\n    margin-top: 30px;\n    cursor: pointer;\n\n    :active {\n        filter: brightness(0.8);\n    }\n"]);return ti=function(){return e},e}function ni(){var e=Object(Kt.a)(["\n    text-align: center;\n    color: ",";\n    ","\n\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n\n    padding: 0 30px;\n\n    margin-bottom: 15px;\n\n    padding-bottom: var(--safe-area-inset-bottom);\n"]);return ni=function(){return e},e}function ri(){var e=Object(Kt.a)(["\n    color: ",";\n    ","\n    text-align: center;\n    margin-top: 20px;\n"]);return ri=function(){return e},e}function ii(){var e=Object(Kt.a)(["\n    width: 260px;\n    height: 260px;\n    padding: 24px;\n    background-color: white;\n\n    border: 2px solid rgba(0, 0, 0, 0.12);\n    border-radius: 8px;\n\n    margin-bottom: 100px;\n"]);return ii=function(){return e},e}function ai(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n\n    padding: 0 30px;\n\n    margin-bottom: 15px;\n\n    color: inherit;\n    :hover {\n        color: inherit;\n        text-decoration: none;\n    }\n"]);return ai=function(){return e},e}function oi(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n    height: inherit;\n    margin-top: 75px;\n"]);return oi=function(){return e},e}function ci(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n\n    width: 100%;\n    height: inherit;\n\n    &:nth-child(1) {\n        width: 100%;\n    }\n"]);return ci=function(){return e},e}function ui(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    flex-grow: 1;\n\n    padding: 0 30px;\n"]);return ui=function(){return e},e}function li(){var e=Object(Kt.a)(["\n    width: 100%;\n    height: 100%;\n\n    display: flex;\n    flex-direction: column;\n\n    flex-grow: 1;\n\n    padding-top: ","px;\n    padding-bottom: ","px;\n"]);return li=function(){return e},e}var si=qt.i.div(li(),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.pageMarginMedium})),di=qt.i.div(ui()),fi=qt.i.div(ci()),pi=(qt.i.div(oi()),qt.i.a(ai())),vi=qt.i.div(ii()),hi=(qt.i.div(ri(),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fontStyles.AccentHeader3})),qt.i.div(ni(),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fontStyles.Body4}))),bi=(Object(qt.i)(Yr.a)(ti()),qt.i.div(ei(),(function(e){return e.theme.fgColorDark}))),mi=qt.i.div($r(),(function(e){return e.theme.fontStyles.Header5}),(function(e){return e.theme.fgColorLight})),gi=qt.i.span(Qr(),(function(e){return e.theme.primaryAccentColor})),Oi=n(55),yi=n(34);function ji(){var e=Object(Kt.a)(["\n    font-weight: bold;\n    font-size: 34px;\n    line-height: 37px;\n    text-align: center;\n\n    margin-top: 6px;\n\n    color: ",";\n"]);return ji=function(){return e},e}function ki(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return ki=function(){return e},e}var xi=yi.b.div(ki()),Ci=yi.b.div(ji(),(function(e){return e.theme.fgColorDark})),wi=n(171);var Si=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.title,r=e.icon;return jt.createElement(xi,null,jt.createElement(wi.a,{color:t.primaryAccentColor,image:r,size:64,clipCorners:!0}),jt.createElement(Ci,null,n))}}]),n}(jt.PureComponent),Ei=Object(Ut.withTheme)(Si);function Mi(){var e=Object(Kt.a)(["\n    position: relative;\n\n    display: flex;\n\n    flex-direction: column;\n    ",";\n\n    padding: ","px ","px;\n    color: ",";\n\n    .sts-title {\n        margin-bottom: 8px;\n\n        ",";\n    }\n\n    .sts-row {\n        height: 43px;\n        border-bottom: 1px solid ",";\n\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n\n        :hover {\n            color: ",";\n        }\n    }\n\n    .sts-row.click {\n        cursor: pointer;\n    }\n\n    .sts-checkbox-wrap {\n        pointer-events: none;\n    }\n\n    .sts-row:last-child {\n        height: 44px;\n        border-bottom: unset;\n    }\n\n    .sts-label {\n        max-width: 65%;\n        flex-shrink: 0;\n\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n\n    .sts-value {\n        color: ",";\n        flex-shrink: 1;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n\n        margin-left: 8px;\n\n        display: flex;\n        align-items: center;\n\n        .chevron-hack {\n            line-height: 0;\n            margin: -5px -8px -5px 0px;\n        }\n    }\n\n    .sts-value.link {\n        color: ",";\n    }\n\n    .sts-value.image {\n        height: 32px;\n        object-fit: contain;\n        flex-shrink: 0;\n    }\n\n    .sts-footer {\n        display: flex;\n        align-items: center;\n\n        margin-top: 8px;\n\n        color: ",";\n        ",";\n    }\n"]);return Mi=function(){return e},e}var Ri=qt.i.div(Mi(),(function(e){return e.theme.fontStyles.Body4}),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fontStyles.AccentHeader4}),(function(e){return e.theme.separatorColor}),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fgColorMedium}),(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.fgColorMedium}),(function(e){return e.theme.fontStyles.Body6})),Di=n(700),Ti=n(205),Pi=n(212),Ii=n(255);var _i=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.highlightProps,n=e.title,r=e.footer,i=e.rows;return jt.createElement(Ri,Object.assign({"data-test":"app-simple-table"},t),void 0!==n&&jt.createElement("div",{className:"sts-title"},n),i.map((function(e,t){var n,r=jt.createElement("div",{"data-test":"app-st-item-label",className:"sts-label"},e.label);switch(e.style){case Di.a.Link:n=jt.createElement("div",{"data-test":"app-st-item-link",className:"sts-value link"},e.value);break;case Di.a.Image:n=jt.createElement(Ti.a,{"data-test":"app-st-item-image",className:"sts-value image",src:e.value});break;case Di.a.Checkbox:n=jt.createElement("div",{"data-test":"app-st-item-checkbox",className:"sts-checkbox-wrap"},jt.createElement(Pi.a,{disablePadding:!0,checked:e.value,onChanged:function(){},isEnabled:!0}));break;case Di.a.Emoji:n=jt.createElement("div",{"data-test":"app-st-item-emoji",className:"sts-value emoji"},e.value);break;case Di.a.None:n=jt.createElement("div",{"data-test":"app-st-item-value",className:"sts-value"},e.value);break;case Di.a.PushScreen:var i=Object(Ii.b)("chevronRight");n=jt.createElement("div",{"data-test":"app-st-item-chevron",className:"sts-value link"},jt.createElement("div",null,e.value),jt.createElement("div",{className:"chevron-hack"},jt.createElement(i,null)))}var a=jt.createElement(jt.Fragment,null,r,n),o=function(){void 0!==e.action&&e.action(!0)};return void 0!==e.targetURL?jt.createElement("a",{className:"sts-row click",href:e.targetURL,onClick:o,target:"_blank",rel:"noopener noreferrer"},a):jt.createElement("div",{key:t,className:"sts-row"+(void 0===e.action?"":" click"),onClick:o},a)})),!Object(A.G)(r)&&jt.createElement("div",{className:"sts-footer"},r))}}]),n}(jt.PureComponent),Ni=Object(pn.d)(_i),Ai=n(169);function Fi(e){if(!e.isPublished)return Object(Ai.a)("publishYourApp");var t=Object(Sr.definedMap)(e.customDomain,(function(e){return"https://".concat(e)}));return void 0===t&&(t=Object(Sr.definedMap)(e.shortName,(function(e){return"https://".concat(e)}))),Object(Sr.withDefault)(Object(Ct.y)(t),window.location.href)}function Li(e){e.appEnvironment.pushModalBuilderScreen(N.gc,b.c.fromJSON({displayQRCode:!1}),void 0,void 0)}var Bi=Object(yt.a)("qrcode.react",(function(){return n.e(7).then(n.t.bind(null,1581,7))}));function Vi(){return jt.createElement("svg",{width:"30",height:"30",viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0C23.2843 0 30 6.71573 30 15ZM21.0151 17.0983V8.2853H17.4143V9.59829C16.6981 8.60359 15.5708 8.10625 14.0323 8.10625C13.0774 8.10625 12.1955 8.32177 11.3864 8.7528C10.5774 9.18384 9.93418 9.79391 9.45672 10.583C8.97926 11.3722 8.74054 12.2773 8.74054 13.2986C8.74054 14.333 8.97926 15.2448 9.45672 16.034C9.93418 16.8231 10.5774 17.4332 11.3864 17.8642C12.1955 18.2952 13.0774 18.5108 14.0323 18.5108C15.4382 18.5108 16.5058 18.0864 17.2352 17.2376V17.5956C17.2352 18.4577 17.0031 19.1076 16.5389 19.5452C16.0748 19.9829 15.3453 20.2017 14.3506 20.2017C13.7007 20.2017 13.0409 20.099 12.3712 19.8934C11.7014 19.6878 11.1477 19.406 10.71 19.0479L9.33736 21.6938C9.98723 22.158 10.7763 22.5094 11.7047 22.7482C12.6331 22.9869 13.6278 23.1063 14.6888 23.1063C16.7313 23.1063 18.2962 22.6056 19.3838 21.6043C20.4713 20.6029 21.0151 19.101 21.0151 17.0983ZM17.275 13.2986C17.275 13.9484 17.0529 14.4789 16.6086 14.8901C16.1643 15.3012 15.6039 15.5068 14.9275 15.5068C14.2511 15.5068 13.6875 15.3012 13.2366 14.8901C12.7856 14.4789 12.5602 13.9484 12.5602 13.2986C12.5602 12.6487 12.7823 12.1215 13.2266 11.717C13.6709 11.3125 14.2379 11.1102 14.9275 11.1102C15.6172 11.1102 16.1809 11.3125 16.6185 11.717C17.0562 12.1215 17.275 12.6487 17.275 13.2986Z"}))}var Ui=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={currentPage:"info"},e.canShowShare=void 0!==navigator.share,e.onLinkClick=Object(x.a)(k.a.mark((function t(){var n,r,i,a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=navigator,r=e.props.renderEnvironment.appEnvironment,i=r.appID,a=Fi(r),e.canShowShare){t.next=9;break}M()(a),Object(Oi.h)("share",{app_id:i,method:"copy link"}),t.next=17;break;case 9:return t.prev=9,t.next=12,n.share({title:Object(O.e)("shareApp"),url:window.location.href});case 12:Object(Oi.h)("share",{app_id:i,method:"share sheet"}),t.next=17;break;case 15:t.prev=15,t.t0=t.catch(9);case 17:case"end":return t.stop()}}),t,null,[[9,15]])}))),e.onFeedbackClick=function(){if(void 0!==e.props.onFeedback){var t=e.props.renderEnvironment.appEnvironment.appID;Object(Oi.h)("feedback opened",{app_id:t}),e.props.onFeedback()}},e.onReportClick=function(){if(void 0!==e.props.onReport){var t=e.props.renderEnvironment.appEnvironment.appID;Object(Oi.h)("report opened",{app_id:t}),e.props.onReport()}},e}return Object(a.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.renderEnvironment,r=t.title,i=t.author,a=t.displayQRCode,o=t.onFeedback,c=t.onReport,u=n.appEnvironment,l=u.appIcon,s=Fi(u),d=!u.eminenceFlags.removeBranding;if(a)e=jt.createElement(di,null,jt.createElement(vi,null,jt.createElement(jt.Suspense,{fallback:jt.createElement("div",null)},jt.createElement(Bi,{style:{imageRendering:"pixelated"},size:210,value:s,fgColor:"#000",bgColor:"#fff"}))),jt.createElement(hi,null,Object(O.e)("shareThisAppBy")));else{var f=[];Object(A.F)(i)||f.push({label:Object(O.e)("author"),value:i,style:Di.a.None}),u.eminenceFlags.canDisableShare&&!0===u.appFeatures.disableSharing||f.push({label:Object(O.e)("share"),value:s.replace("https://",""),style:Di.a.Link,action:this.onLinkClick}),void 0!==o&&f.push({label:Object(O.e)("support"),value:Object(O.e)("sendFeedback"),style:Di.a.PushScreen,action:this.onFeedbackClick}),void 0!==c&&f.push({label:Object(O.e)("security"),value:Object(O.e)("reportThisApp"),style:Di.a.PushScreen,action:this.onReportClick}),e=jt.createElement(fi,null,jt.createElement(Ei,{title:null!==r&&void 0!==r?r:"",icon:l}),jt.createElement(Ni,{title:void 0,footer:void 0,rows:f}),d&&jt.createElement(pi,{href:Object(A.C)("about"),target:"_blank"},jt.createElement(bi,null,jt.createElement(Vi,null)),jt.createElement(mi,null,Object(O.e)("madeWithPrefix"),jt.createElement(gi,null,"glideapps.com"),Object(O.e)("madeWithPostfix"))))}return jt.createElement(si,null,e)}}]),n}(jt.PureComponent),zi=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i,a,o,c=Object(r.a)(e,5),u=c[0],l=c[1],s=c[2],d=c[3],f=c[4],v=Object(p.M)(u,p.F),h=Object(p.M)(l,p.F),b=null!==(i=Object(p.M)(s,p.x))&&void 0!==i&&i;return Object(p.K)(d)&&(a=function(){return Object(B.o)(d).run(t,n,B.d.None)}),n.appEnvironment.eminenceFlags.showReportApp&&Object(p.K)(f)&&(o=function(){return Object(B.o)(f).run(t,n,B.d.None)}),jt.createElement(Ui,{title:v,author:h,displayQRCode:b,renderEnvironment:n,onFeedback:a,onReport:o})}}]),e}(),Wi=n(1039),Hi=n.n(Wi),Ki=n(105),qi=Object(yt.a)("pie-chart",(function(){return n.e(78).then(n.bind(null,1641))}));function Gi(e,t){if(Object(A.D)(e)){var n=Object(r.a)(e,2),i=n[0],a=n[1],o=Object(d.definedMap)(i,t),c=Object(d.definedMap)(a,t);return{value:Object(p.D)(o),displayValue:Object(p.M)(c,p.F)}}return{value:Object(p.D)(e),displayValue:void 0}}function Ji(e,t){return Object(A.V)(Object(p.v)(e),(function(e){var n=e.getObjectInspector(t);if(Object(p.K)(n)){var r=Object(d.definedMap)(n.getProperty("label"),t),i=Object(d.definedMap)(n.getProperty("value"),t);if(Object(p.K)(r)&&Object(p.K)(i))return Object(s.a)(Object(s.a)({},Gi(i,t)),{},{title:Object(p.F)(r)})}}))}var Zi=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,9),c=o[0],u=o[1],l=o[2],s=o[3],d=o[4],f=o[5],h=o[6],b=o[7],m=o[8];if(c===v.e)return n.renderProgress();if(void 0===c)return null;var g=Object(p.M)(u,p.F),O=Object(p.M)(l,p.F),y=Object(p.M)(s,p.F),j=Object(p.M)(d,p.x),k=Object(p.M)(f,p.F),x=Object(p.M)(h,p.x),C=Object(p.M)(b,p.F),w=Object(p.M)(m,p.F),S=Ji(c,a).sort((function(e,t){return t.value-e.value}));return j&&void 0===k&&(k=Object(Ki.b)(Hi()(S,(function(e){return e.value})))),0===S.length?null:jt.createElement(jt.Suspense,{fallback:jt.createElement("div",{style:{width:240,height:240}})},jt.createElement(qi,{isDonut:"donut-chart"===w,width:240,height:240,data:S,title:g,caption:O,units:y,total:k,pallette:C,showLegendByDefault:x}))}}]),e}(),Xi=Object(yt.a)("stacked-bar-chart",(function(){return n.e(79).then(n.bind(null,1642))})),Yi=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,6),c=o[0],u=o[1],l=o[2],s=o[3],d=o[4],f=o[5];if(c===v.e)return n.renderProgress();if(void 0===c)return null;var h=Object(p.M)(u,p.F),b=Object(p.M)(l,p.F),m=Object(p.M)(s,p.x),g=Object(p.M)(d,p.x),O=Object(p.M)(f,p.F),y=Ji(c,a);return 0===y.length?null:jt.createElement(jt.Suspense,{fallback:jt.createElement("div",{style:{width:240,height:240}})},jt.createElement(Xi,{title:h,caption:b,pallette:O,showLegendByDefault:m,showLabels:g,data:y}))}}]),e}();function Qi(){var e=Object(Kt.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    button {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-radius: 50%;\n        height: 40px;\n        width: 40px;\n        margin: 0 10px;\n        box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.15);\n        border-radius: 50px;\n        background-color: #5e5e5e;\n        transform: scale(1);\n        transition: 150ms ease-in-out transform box-shadow;\n\n        :hover {\n            box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.25);\n        }\n\n        :active {\n            transform: scale(0.97);\n            box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.15);\n        }\n    }\n"]);return Qi=function(){return e},e}function $i(){var e=Object(Kt.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin: 20px auto 10px;\n    .timer-container {\n        display: grid;\n        width: 290px;\n        height: 290px;\n        justify-items: center;\n        align-items: center;\n        > * {\n            grid-area: 1 / 1;\n        }\n        svg {\n            transform: scale(1.7);\n            position: relative;\n        }\n        svg line {\n            stroke: ",";\n            stroke-width: 2;\n        }\n\n        .timer-text {\n            ","\n        }\n        .timer-text-container {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n    }\n"]);return $i=function(){return e},e}var ea=qt.i.div($i(),(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.fontStyles.AccentHeader1})),ta=qt.i.div(Qi()),na=function(e){var t=e.onStartResume,n=e.onPause,i=e.onReset,a=e.startTimeValue,o=e.durationValue,c=Object(Ut.useTheme)(),u=jt.useState(0),l=Object(r.a)(u,2),s=l[0],d=l[1],f=jt.useState(0),p=Object(r.a)(f,2),v=p[0],h=p[1],b=jt.useState(0),m=Object(r.a)(b,2),g=m[0],O=m[1],y=jt.useState(0),j=Object(r.a)(y,2),k=j[0],x=j[1],C=jt.useState((null===a||void 0===a?void 0:a.getTime())?"STOP":"START"),w=Object(r.a)(C,2),S=w[0],E=w[1],M=jt.useState((null===a||void 0===a?void 0:a.getTime())?"15-controls-pause":"52-arrow-button-right-2"),R=Object(r.a)(M,2),D=R[0],T=R[1],P=function(e){return e>9?""+e:"0"+e},I=jt.useCallback((function(){"START"===S?(t(),E("STOP"),T("15-controls-pause")):"STOP"===S&&(n(),E("START"),T("52-arrow-button-right-2"))}),[n,t,S]),_=jt.useCallback((function(){i(),h(0),O(0),x(0),d(0),T("52-arrow-button-right-2"),E("START")}),[i]),N=function(e){return 0===e&&v-.1<e||v<=e?"#999999":c.primaryAccentColor},F=jt.useCallback((function(){var e=s/1e3,t=e/60,n=t/60;h(e%60),O(t%60),x(n%60)}),[s]);return jt.useEffect((function(){if(void 0!==o&&void 0===a&&d(null!==o&&void 0!==o?o:0),"START"!==S||0===v||0===g){var e=Object(A.B)().getTime()-s;void 0!==a&&(e=a.getTime()-(null!==o&&void 0!==o?o:0));var t=setInterval((function(){d(Object(A.B)().getTime()-e),F()}),10);return function(){clearInterval(t)}}}),[F,s,g,v,S,a,o]),jt.createElement(ea,null,jt.createElement("div",{className:"timer-container"},jt.createElement("svg",{height:170,width:170},jt.createElement("g",{transform:"translate(86 80)"},function(){for(var e,t=[],n=0;n<60;n++)t.push(jt.createElement("line",{key:"stopwatch-line-".concat(n),x1:(e=n,~~v===e?70-v%1*5:~~v<e?70:65),x2:80,style:{stroke:N(n),strokeWidth:2},transform:"rotate(".concat(6*n-90,")")}));return t}())),jt.createElement("div",{className:"timer-text-container"},jt.createElement("p",{style:{color:0===~~k?"#999999":c.primaryAccentColor},className:"timer-text"},"".concat(P(~~k),":")),jt.createElement("p",{style:{color:0===~~k&&0===~~g?"#999999":c.primaryAccentColor},className:"timer-text"},"".concat(P(~~g),":")),jt.createElement("p",{style:{color:0===~~k&&0===~~g&&0===~~v?"#999999":c.primaryAccentColor},className:"timer-text"},"".concat(P(~~v))))),jt.createElement(ta,null,jt.createElement("button",{disabled:0===s,onClick:_},jt.createElement(Nn.a,{icon:"15-controls-stop",color:"#ffffff",size:15})),jt.createElement("button",{onClick:I},jt.createElement(Nn.a,{icon:D,color:"#ffffff",size:15}))))},ra=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,3),o=a[0],c=a[1],u=a[2],l=Object(r.a)(i,2),s=l[0],f=l[1];if(o===B.i||c===B.i)return n.renderProgress();if(void 0===s||void 0===f)return null;var v=Object(p.z)(o),h=Object(p.B)(c),b=function(){Object(p.K)(u)&&void 0!==t&&void 0!==n&&Object(B.o)(u).run(t,n,B.d.ImagePicker)};return jt.createElement(na,{startTimeValue:v,durationValue:Object(d.definedMap)(h,A.l),onStartResume:function(){Object(A.n)(s).set(Object(A.B)()),b()},onPause:function(){var e=function(){if(void 0!==v)return Object(A.B)().getTime()-v.getTime()}();void 0!==e&&(s.set(""),f.set((null!==h&&void 0!==h?h:0)+Object(A.m)(e)),b())},onReset:function(){s.set(""),f.set(""),b()}})}}]),e}();function ia(){var e=Object(Kt.a)(["\n    position: relative;\n    flex-grow: 1;\n\n    display: grid; // stops safari from squishing for no obvious reason\n\n    > .grid {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n\n        display: grid;\n        grid-template-columns: 1fr;\n        grid-template-rows: 100%;\n\n        padding: ","px ","px;\n\n        > .card {\n            display: flex;\n            flex-direction: column;\n\n            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.15);\n\n            padding: 16px;\n\n            border-radius: 8px;\n\n            grid-column: 1;\n            grid-row: 1;\n\n            background-color: ",";\n\n            border: 1px solid ",";\n\n            min-height: 0;\n            height: 100%;\n\n            overflow-y: auto;\n\n            ::-webkit-scrollbar {\n                display: none;\n            }\n        }\n\n        > .front {\n            z-index: 1;\n        }\n    }\n"]);return ia=function(){return e},e}var aa=qt.i.div(ia(),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.baseColor}),(function(e){return e.theme.separatorColor})),oa=function(e){var t=e.onLeft,n=e.onRight,i=e.frontContents,a=e.rearContents,o=e.isEnabled,c=e.frontKey,u=e.rearKey,l=jt.useState(0),s=Object(r.a)(l,2),d=s[0],f=s[1],p=jt.useCallback((function(e,t){var n=Object(r.a)(t,1)[0];o&&f(n)}),[o]);jt.useEffect((function(){f(0)}),[c]);var v=jt.useCallback((function(e){var r=d,i=void 0;window.requestAnimationFrame((function a(o){void 0===i&&(i=o-16);var c=o-i;i=o,"center"===e?r=Math.max(0,Math.abs(r)-2*c)*r/Math.abs(r):r+=2*c*("right"===e?1:-1),f(r),"right"===e?r<500?window.requestAnimationFrame(a):n():"left"===e?r>-500?window.requestAnimationFrame(a):t():0!==r?window.requestAnimationFrame(a):f(0)}))}),[n,t,d]),h=function(e,t,n){var i=jt.useState([0,0]),a=Object(r.a)(i,2),o=a[0],c=a[1],u=jt.useState(!1),l=Object(r.a)(u,2),s=l[0],d=l[1],f=jt.useCallback((function(t){var n=0,r=0;"touchstart"===t.type?(n=t.touches[0].clientX,r=t.touches[0].clientY):(n=t.clientX,r=t.clientY);var i=[n,r];c(i),d(!0),null===e||void 0===e||e(i)}),[e]),p=jt.useCallback((function(e){if(s){var n=0,r=0;"touchmove"===e.type?(n=e.touches[0].clientX,r=e.touches[0].clientY):(n=e.clientX,r=e.clientY),null===t||void 0===t||t([n,r],[n-o[0],r-o[1]])}}),[s,t,o]),v=jt.useCallback((function(e){s&&(d(!1),null===n||void 0===n||n())}),[s,n]);return{onMouseDownCapture:f,onMouseMoveCapture:p,onMouseUpCapture:v,onMouseOutCapture:v,onTouchStartCapture:f,onTouchMoveCapture:p,onTouchEndCapture:v,onTouchCancelCapture:v}}(void 0,p,jt.useCallback((function(){o&&v(d>75?"right":d<-75?"left":"center")}),[v,d,o])),b=jt.useMemo((function(){return{transform:"translateX(".concat(d,"px) rotate(").concat(d/20,"deg)")}}),[d]),m=jt.useMemo((function(){return{transform:"scale(".concat(.9+Math.abs(d)/500*.1,")")}}),[d]);return jt.createElement(aa,h,jt.createElement("div",{className:"grid"},jt.createElement("div",{key:c,className:"card front",style:b},i),jt.createElement("div",{key:u,className:"card rear",style:m},a)))};function ca(){var e=Object(Kt.a)(["\n    display: ",";\n\n    &:only-child {\n        display: flex;\n    }\n\n    width: 100%;\n    flex-grow: 1;\n\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n\n    color: #bdbdbd;\n    ","\n    text-align: center;\n\n    @keyframes list-empty-fade-in {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n\n    animation: 0.5s ease-in 0s 1 list-empty-fade-in;\n\n    .emptyWrapperIcon {\n        margin-bottom: 12px;\n\n        & > *,\n        & svg {\n            width: 120px;\n            height: 120px;\n        }\n    }\n"]);return ca=function(){return e},e}var ua=qt.i.div(ca(),(function(e){return e.forceDisplay?"flex":"none"}),(function(e){return e.theme.fontStyles.AccentHeader2})),la=n(114),sa=n.n(la),da=n(150),fa=n.n(da),pa=n(68);function va(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n    min-height: 100%;\n\n    /* This overrides min-height */\n    ","\n\n    /* DEAR FUTURE GLIDERS AND JASON\n     *\n     * You will be tempted to move this padding to ScrollRegionStyle. When you do this, you will break\n     * Firefox because Firefox doesn't understand how padding should work in any sane world. Seriously,\n     * wtf firefox. Further, your name will be added to the comment of shame.\n     *\n     * People who have moved this padding and broken firefox:\n     * - Jason\n     * - Seth\n     *\n     * One of us, one of us, one of us...\n     */\n    ","\n    --bottom-bar-padding: ","px;\n\n    @supports (-webkit-overflow-scrolling: touch) {\n        min-height: calc(100% + 2px);\n        padding-top: 1px;\n    }\n\n    position: relative;\n\n    z-index: 2;\n\n    .builder & {\n        width: ","px;\n    }\n\n    /* & .content-region > div:not(.fullBleed) + div.fullBleed, \n    & > div:not(.fullBleed) + div.fullBleed {\n        margin-top: 8px;\n    }\n\n    & .content-region > div:not(.fullBleed) + div:not(.fullBleed), \n    & > div:not(.fullBleed) + div:not(.fullBleed) {\n        margin-top: 8px;\n    }\n\n    & .content-region > .fullBleed + .fullBleed, \n    & > .fullBleed + .fullBleed {\n        margin-top: 0px;\n    }\n    \n    & .content-region > .fullBleed + :not(.fullBleed), \n    & > .fullBleed + :not(.fullBleed) {\n        margin-top: 8px;\n    } */\n\n    .drag-over & > :last-child {\n        border-bottom: 2px dashed #2b5fe0;\n    }\n"]);return va=function(){return e},e}function ha(){var e=Object(Kt.a)(["\n    max-width: var(--maximum-detail-width);\n    background-color: ",";\n    margin: ","px auto;\n    padding: ","px 0px;\n    border-radius: ","px;\n    min-height: calc(100% - ","px);\n"]);return ha=function(){return e},e}function ba(){var e=Object(Kt.a)(["\n    height: 100%;\n    overflow-y: scroll;\n    overflow-x: hidden;\n    -webkit-overflow-scrolling: touch;\n    overscroll-behavior: contain;\n\n    ","\n\n    ::-webkit-scrollbar {\n        display: none;\n    }\n    scrollbar-width: none;\n\n    width: 100%;\n\n    .noScroll & {\n        overflow-y: hidden;\n    }\n"]);return ba=function(){return e},e}function ma(){var e=Object(Kt.a)(["\n    flex-grow: 1;\n    position: relative;\n\n    & > * {\n        pointer-events: auto;\n    }\n\n    .fab-target {\n        display: flex;\n        flex-direction: column;\n        position: absolute;\n        right: 16px;\n        bottom: 16px;\n\n        > * {\n            margin-top: 8px;\n        }\n    }\n"]);return ma=function(){return e},e}function ga(){var e=Object(Kt.a)(["\n    position: absolute;\n    z-index: 100;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n\n    display: flex;\n\n    pointer-events: none;\n\n    ","\n    ","\n"]);return ga=function(){return e},e}function Oa(){var e=Object(Kt.a)(["\n    padding-bottom: calc(\n        ","px + var(--safe-area-inset-bottom)\n    );\n"]);return Oa=function(){return e},e}function ya(){var e=Object(Kt.a)(["\n    padding-left: var(--safe-area-inset-left);\n    padding-right: var(--safe-area-inset-right);\n\n    padding-top: calc(\n        var(--safe-area-inset-top) + ","px\n    );\n"]);return ya=function(){return e},e}function ja(){var e=Object(Kt.a)(["\n            border-radius: 12px;\n        "]);return ja=function(){return e},e}function ka(){var e=Object(Kt.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n\n    ",";\n\n    background-color: ",";\n    overflow: hidden;\n"]);return ka=function(){return e},e}var xa=qt.i.div(ka(),(function(e){return e.inTabletModal&&Object(Ut.css)(ja())}),(function(e){return e.inTabletDetail?"none":e.theme.baseColor})),Ca=Object(Ut.css)(ya(),(function(e){return e.theme.navBar.height+e.theme.navBar.largeTitleHeight+e.topPadding})),wa=Object(Ut.css)(Oa(),(function(e){return t=!0===e.tabs,n=e.theme,(t?n.tabBar.height:0)+e.extraPadding;var t,n})),Sa=qt.i.div(ga(),Ca,wa),Ea=qt.i.div(ma()),Ma=qt.i.div(ba(),Ca),Ra=Object(Ut.css)(ha(),(function(e){return e.theme.scrollView.backgroundColor}),(function(e){return e.theme.scrollView.marginTop}),(function(e){return e.theme.scrollView.paddingTop}),(function(e){return e.theme.scrollView.borderRadius}),(function(e){return 2*e.theme.scrollView.marginTop})),Da=qt.i.div(va(),(function(e){return e.inTabletDetail&&Ra}),wa,(function(e){return!0===e.tabs?e.theme.tabBar.height:0}),(function(e){return e.theme.builderWidth})),Ta=n(273),Pa=n(103),Ia=n(300),_a=n(285);var Na=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={dragOver:!1},e.scroller=null,e.scrollTopToken=void 0,e.scrollBottomToken=void 0,e.onScrollChange=function(t){e.scroller!==t&&(null!==e.scroller&&e.removeScrollListener(),e.scroller=t,null!==e.scroller&&e.addScrollListener())},e.onScrollWrapper=function(t){var n=e.scroller;if(null!==n){var r=n.scrollTop,i=e.needsOverscrollHack();if(fa.a.publishSync(pa.f,{position:i?Math.max(0,r-1):r,id:e.props.id}),i){var a=n.scrollHeight,o=n.clientHeight;r>a-o&&t.stopImmediatePropagation(),e.onScroll(r,a,o)}}},e.onScroll=sa()((function(t,n,r){var i=e.scroller;if(null!==i){var a=n-r;(0===t||t===a&&a>1)&&(t=i.scrollTop),0===t?i.scrollTop=1:t===a&&a>1&&(i.scrollTop=n-r-1)}}),100),e.onScrollTop=function(t,n){var r=e.scroller;null!==r&&r.scroll({top:0,behavior:"smooth"})},e.onScrollBottom=function(t,n){var r=e.scroller;null!==r&&r.scroll({top:r.scrollHeight,behavior:n})},e.onImageDropped=function(t){e.props.renderEnv.appEnvironment.addImageComponent(void 0,void 0,t)},e.onDragOver=function(t){e.props.renderEnv.appEnvironment.isBuilder&&(t.stopPropagation(),t.preventDefault(),e.setState({dragOver:!0}))},e.onDragLeave=function(){e.props.renderEnv.appEnvironment.isBuilder&&e.setState({dragOver:!1})},e.onDrop=function(){var t=Object(x.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.renderEnv.appEnvironment.isBuilder){t.next=2;break}return t.abrupt("return");case 2:if(n.stopPropagation(),n.preventDefault(),e.setState({dragOver:!1}),t.prev=5,e.props.renderEnv.appEnvironment.startBuilderBusy(),void 0!==(r=Object(Ia.a)(n))){t.next=10;break}return t.abrupt("return");case 10:if("file"!==r.kind){t.next=15;break}return t.next=13,e.onFileDropped(r.value[0]);case 13:t.next=17;break;case 15:return t.next=17,e.onURIDropped(r.value);case 17:return t.prev=17,e.props.renderEnv.appEnvironment.stopBuilderBusy(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[5,,17,20]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(a.a)(n,[{key:"needsOverscrollHack",value:function(){return!CSS.supports("overscroll-behavior: contain")}},{key:"addScrollListener",value:function(){var e=this,t=this.scroller;null!==t&&(t.addEventListener("scroll",this.onScrollWrapper,{passive:!1}),this.needsOverscrollHack()&&(setTimeout((function(){return e.onScroll(t.scrollTop,t.scrollHeight,t.clientHeight)}),200),this.onScroll(t.scrollTop,t.scrollHeight,t.clientHeight)))}},{key:"removeScrollListener",value:function(){var e=this.scroller;null!==e&&e.removeEventListener("scroll",this.onScrollWrapper)}},{key:"componentDidMount",value:function(){this.scrollTopToken=fa.a.subscribe(pa.h,this.onScrollTop),this.scrollBottomToken=fa.a.subscribe(pa.c,this.onScrollBottom)}},{key:"componentWillUnmount",value:function(){fa.a.unsubscribe(this.scrollTopToken),fa.a.unsubscribe(this.scrollBottomToken),this.removeScrollListener()}},{key:"onFileDropped",value:function(){var e=Object(x.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_a.a)(t,this.props.renderEnv.appEnvironment.appID);case 2:void 0!==(n=e.sent)&&this.onImageDropped(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onURIDropped",value:function(e){e=Object(We.j)(e),this.onImageDropped(e)}},{key:"render",value:function(){var e=this.props,t=e.topPadding,n=e.tabs,r=e.id,i=e.children,a=e.renderEnv,o=this.needsOverscrollHack()?1:0,c="Overlay"+r,u="tablet"===a.sizeClass,l=u&&"detail"===a.displayContext,s=u&&"modal"===a.displayContext;return jt.createElement(xa,{className:Gn()(this.state.dragOver&&"drag-over"),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,inTabletDetail:l,inTabletModal:s},jt.createElement(Sa,{extraPadding:o,tabs:n,topPadding:t},jt.createElement(Ea,{id:c},jt.createElement("div",{id:c+"fab-target",className:"fab-target"}))),jt.createElement(Ma,{ref:this.onScrollChange,topPadding:t,id:r,tabs:n,extraPadding:0},jt.createElement(Da,{extraPadding:o,tabs:n,inTabletDetail:l,className:"tabs"===this.props.match.params.page?"":"focused"},jt.createElement(Ta.b,{value:c},i))))}}]),n}(jt.PureComponent),Aa=Object(Pa.h)(Na);var Fa=function(e){return"screenScrollView".concat(e)},La=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).token=void 0,e.handleScrollChanged=function(t,n){e.onScrollChanged(n)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.token=fa.a.subscribe(pa.f,this.handleScrollChanged)}},{key:"componentWillUnmount",value:function(){fa.a.unsubscribe(this.token)}}]),n}(jt.PureComponent);var Ba=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.updateScroll()}},{key:"componentWillUnmount",value:function(){this.saveScroll()}},{key:"shouldComponentUpdate",value:function(e){return this.props.stateKey!==e.stateKey&&(this.saveScroll(),!0)}},{key:"saveScroll",value:function(){var e=this.scrollElement;null!==e&&void 0!==e&&n.scrollMap.set(this.props.stateKey.screenId,e.scrollTop)}},{key:"updateScroll",value:function(){var e=this.props.stateKey,t=this.scrollElement;if(null!==t&&void 0!==t){var r=n.scrollMap.get(e.screenId);void 0===r&&(r=0);var i=r,a=function(){if(i>3e3){var n=0;!function e(){n=Math.min(n+3e3,i),t.scrollTop=n,n!==r&&window.requestAnimationFrame((function(){e()}))}()}else t.scrollTop=i,fa.a.publishSync(pa.f,{position:t.scrollTop,id:Fa(e.screenId)})},o=function(){return t.scrollHeight-t.clientHeight>=i};setTimeout(Object(x.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o()){e.next=4;break}a(),e.next=14;break;case 4:t=0;case 5:if(!(t<10)){e.next=14;break}return e.next=8,Object(A.tb)(0+10*t);case 8:if(!o()){e.next=11;break}return a(),e.abrupt("break",14);case 11:t++,e.next=5;break;case 14:case"end":return e.stop()}}),e)}))),0)}}},{key:"render",value:function(){return null}},{key:"scrollElement",get:function(){var e=this.props.target;return Object(A.eb)(document.getElementById(e))}}]),n}(jt.Component);Ba.scrollMap=new Map;var Va={overlayName:"EditOverlay",pageMarginMedium:30},Ua=n(163),za=n(148);var Wa=jt.createContext(void 0);function Ha(e,t,n,r){var i=0;return e&&"Inline"===n.searchBar.style&&(i+=n.searchBar.heightWithPadding),t&&(i+=n.pivot.height+n.pivot.bottomMargin),r&&(i+=n.quotaBar.height),i}var Ka=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"expandState",value:function(e,t){return null!==t?t:{}}},{key:"recompute",value:function(e){var t=this.props,n=t.screen,r=t.inTab,i=t.renderEnvironment,a=t.currentTab,o=n.ctx,c=e(n.quotaBannerMessage),u=!1;Object(p.K)(c)&&(u=c);var l=Fa(n.screenId),s=this.props.theme,d=[];(n.flags.has(L.e.IsAddItemScreen)||n.flags.has(L.e.IsEditScreen))&&d.push(Va),void 0!==n.pivotPicker&&"TopTabs"===s.pivot.style&&d.push(Ua.c),s=Object(za.b)(s,d);var f=Object(Pt.Kb)(n.topBar,e,o,i,!0);return jt.createElement(Ut.ThemeProvider,{theme:s},jt.createElement(Wa.Provider,{value:a},jt.createElement(Aa,{topPadding:Ha(void 0!==f,void 0!==n.pivotPicker,this.props.theme,!1!==u),id:l,tabs:r,renderEnv:i},jt.createElement(Ba,{stateKey:n,target:l}),Object(Pt.Kb)(n.ui,e,o,i,!1))))}}]),n}(Pt.tb),qa=Object(Ut.withTheme)(Ka);var Ga=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.targetRef,r=t.forceDisplay,i=t.className;return jt.createElement(ua,{className:i,forceDisplay:!0===r,ref:n},jt.createElement(Wa.Consumer,null,(function(t){return t&&jt.createElement(jt.Fragment,null,jt.createElement("div",{className:"emptyWrapperIcon"},jt.createElement(Nn.a,{icon:t.icon})),e.props.children)})))}}]),n}(jt.PureComponent);var Ja=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a,o,c){var u,l=Object(r.a)(e,5),s=l[0],f=l[1],v=l[2],h=l[3],b=l[4];if(s===B.i||f===B.i)return n.renderProgress();if(v===B.i||h===B.i)return n.renderProgress();if(void 0===s||void 0===f)return null;var m=function(e,t){return Object(A.V)(Object(p.v)(e),(function(e){var n,r,i=t(e);if(Object(p.K)(i)){var a=Object(p.E)(i),o=a.data,c=a.swipedTimestamp,u=a.key,l=a.isEnabled,s=Object(d.definedMap)(c,t),f=null!==(n=Object(p.z)(s))&&void 0!==n?n:new Date(2018,8,5),v=t(u);if(s!==B.i&&v!==B.i){var h=t(l),b=h!==B.i&&(null===(r=Object(d.definedMap)(h,p.x))||void 0===r||r);return{swipedTimestamp:f,swipedTimestampVP:c,key:Object(p.F)(v),isEnabled:b,data:o}}}}))}(s,a);if(0===m.length){var g=Object(p.M)(b,p.F);return jt.createElement(Ga,null,g)}var O=[void 0,void 0],y=!0,j=!1,k=void 0;try{for(var x,C=m[Symbol.iterator]();!(y=(x=C.next()).done);y=!0){var w=x.value;void 0===O[0]||w.swipedTimestamp<O[0].swipedTimestamp?O=[w,O[0]]:(void 0===O[1]||w.swipedTimestamp<O[1].swipedTimestamp)&&(O=[O[0],w])}}catch(_){j=!0,k=_}finally{try{y||null==C.return||C.return()}finally{if(j)throw k}}var S=O,E=Object(r.a)(S,2),M=E[0],R=E[1],D=Object(A.n)(M);function T(e){Object(A.n)(D.swipedTimestampVP).set(Object(A.B)()),Object(B.o)(e).run(D.data,n,B.d.Tinder)}var P=Object(B.q)(f).render(D.data,n),I=void 0!==R?Object(B.q)(f).render(R.data,n):P;return jt.createElement(oa,{frontKey:D.key,rearKey:null!==(u=null===R||void 0===R?void 0:R.key)&&void 0!==u?u:D.key,onLeft:function(){return T(v)},onRight:function(){return T(h)},frontContents:P,rearContents:I,isEnabled:D.isEnabled&&void 0!==D.swipedTimestampVP})}}]),e}(),Za=n(631),Xa=qt.a,Ya=qt.c;function Qa(e,t,n,r){if(!Object(p.K)(e))return{onClick:void 0,targetURL:void 0,autoRunInTabletMode:!1};var i=Object(B.o)(e);return{onClick:function(e){return i.run(n,r,t,e)},targetURL:i.targetURL(n,r,t),autoRunInTabletMode:i.autoRunInTabletMode}}var $a=n(95),eo=n(834),to=n(765),no=function(e){var t=e.onClick,n=e.flags,i=Object($a.a)(e,["onClick","flags"]),a=jt.useState(!1),o=Object(r.a)(a,2),c=o[0],u=o[1],l=jt.useState(!1),s=Object(r.a)(l,2),d=s[0],f=s[1],p=jt.useCallback((function(e){u(e)}),[]),v=jt.useCallback((function(e){Object(to.a)(n,Za.b.DisableLongPress)||f(e)}),[n]),h=jt.useCallback((function(e){void 0!==t&&t(e)}),[t]);return jt.createElement(eo.a,Object.assign({},i,{flags:n,touched:c,showActionBubble:d,onTouchChanged:p,onLongPressChanged:v,onClick:h}))},ro=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o,c=Object(r.a)(e,13),u=c[0],l=c[1],s=c[2],f=(c[3],c[4]),v=c[5],h=c[6],b=c[7],m=c[8],g=c[9],O=c[10],y=c[11],j=c[12],k=Object(r.a)(i,4),x=(k[0],k[1]),C=k[2],w=k[3],S=Object(We.d)(u,l,w,a),E=S.title,M=S.subtitle,R=S.imageSource,D=Qa(h,Object(p.N)(m,B.d.ListItem,(function(e){return Object(A.i)(e)})),t,n),T=D.onClick,P=D.targetURL,I=D.autoRunInTabletMode;o=v===B.i?"":Object(d.definedMap)(v,p.F);var _,N=Object(p.M)(s,p.F),F=Object(p.M)(f,p.F),L=Object(p.M)(g,p.D);void 0===T&&(L|=Za.b.Inert),void 0!==O&&null!==O&&(_=Object(B.q)(O).render(t,n));var V=Object(p.M)(y,p.F);void 0!==w&&(L|=Za.b.ReserveImageSpace),void 0!==x&&(L|=Za.b.ReserveDetailSpace),void 0!==C&&(L|=Za.b.ReserveCaptionSpace);var U=Object(p.M)(j,p.F),z="tablet"===n.sizeClass&&"master"===n.displayContext;return h instanceof B.a&&!h.isNoAction&&h.canExecute(t,a)||(z=!0),n.needsPush&&I&&void 0!==T&&T(!1),jt.createElement(no,{title:u===B.i?B.i:E,subtitle:l===B.i?B.i:M,caption:s===B.i?B.i:N,imageSource:R,fallbackInitials:o,flags:L,onClick:T,targetUrl:P,onDropImage:Object(We.h)(n,b,B.d.ListItem),accessoryPosition:V,itemID:U,appEnvironment:n.appEnvironment,menuItems:Object(d.definedMap)(F,(function(e){return[{title:e,icon:e}]})),disableChevon:z},_)}}]),e}(),io=n(49),ao=n(61),oo=n(35);function co(){var e=Object(Kt.a)(["\n    width: 100%;\n"]);return co=function(){return e},e}function uo(){var e=Object(Kt.a)(["\n    position: relative;\n    text-align: center;\n    padding: ","px ","px;\n"]);return uo=function(){return e},e}var lo=qt.i.div(uo(),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium})),so=qt.i.audio(co()),fo=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).audioRef=jt.createRef(),e.muteAudioIfOniOSHomeScreen=function(){if(oo.e&&ao.a&&Object(io.c)()&&!Object(gt.a)("attemptiOSPWABackgroundAudio")){var t=e.audioRef.current;null!==t&&t.pause()}},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){Object(io.f)(this.muteAudioIfOniOSHomeScreen)}},{key:"componentWillUnmount",value:function(){Object(io.g)(this.muteAudioIfOniOSHomeScreen)}},{key:"render",value:function(){return jt.createElement(so,{controls:!0,src:this.props.src,ref:this.audioRef})}}]),n}(jt.PureComponent),po=function(){function e(){Object(i.a)(this,e),this.ui=Pt.b}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,1)[0];if(i===B.i)return n.renderProgress();if(void 0===i)return null;var a=Object(We.j)(Object(p.F)(i),!0);return jt.createElement(pn.b,null,(function(e){return jt.createElement(lo,Object.assign({"data-test":"app-audio-wrapper"},e),jt.createElement(fo,{src:a}))}))}}]),e}(),vo=n(616);function ho(){var e=Object(Kt.a)(["\n    display: flex;\n    align-items: center;\n\n    pointer-events: none !important;\n\n    ",";\n\n    > img + div {\n        margin-left: 8px;\n    }\n\n    > div {\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n\n    > img {\n        width: ","px;\n        height: ","px;\n        border-radius: 100px;\n        object-fit: cover;\n        flex-shrink: 0;\n    }\n"]);return ho=function(){return e},e}var bo=qt.i.div(ho(),(function(e){return e.textSize===vo.a.Small?e.theme.fontStyles.Header6:e.theme.fontStyles.Header5}),(function(e){return e.textSize===vo.a.Small?24:32}),(function(e){return e.textSize===vo.a.Small?24:32}));var mo=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.text,r=e.textSize,i=e.image,a=e.appID;if(void 0===n&&void 0===i)return null;var o=void 0;return i&&Object(A.E)(i)&&(o={marginRight:8}),jt.createElement(bo,{className:t,"data-test":"app-avatar-wrap",textSize:r},void 0!==i&&jt.createElement(Ti.a,{"data-test":"app-avatar-img",style:o,src:Object(We.l)(i,{thumbnail:!0,width:32,height:32},a)}),void 0!==n&&jt.createElement("div",{"data-test":"app-avatar-text",className:"floating-overlay-text"},n))}}]),n}(jt.PureComponent),go=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,3),o=a[0],c=a[1],u=a[2],l=Object(p.M)(c,p.F),s=Object(p.M)(o,p.F),d=Object(p.N)(u,vo.a.Medium,p.F);return void 0===l&&void 0===s?null:jt.createElement(mo,{image:s,text:l,textSize:d,appID:n.appEnvironment.appID})}}]),e}(),Oo=Object(yt.a)("bar-chart",(function(){return n.e(77).then(n.bind(null,1595))})),yo=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,7),c=o[0],u=o[1],l=o[2],s=o[3],f=o[4],h=o[5],b=o[6];if(c===v.e)return n.renderProgress();if(void 0===c)return null;var m=Object(p.M)(u,p.F),g=Object(p.M)(l,p.F),O=Object(p.M)(f,p.x),y=Object(p.M)(s,p.x),j=Object(p.M)(b,p.F),k=Object(p.M)(h,(function(e){return Object(p.v)(e).map((function(e){return Object(p.F)(a(e))}))}));Object(P.b)("series labels",k);var x=Object(A.V)(Object(p.v)(c),(function(e){var t=e.getObjectInspector(a);if(Object(p.K)(t)){var n=Object(d.definedMap)(t.getProperty("label"),a);if(Object(p.K)(n)){var r;if(void 0!==t.getProperty("values")){var i=Object(p.M)(Object(d.definedMap)(t.getProperty("values"),a),p.v);if(void 0===i)return;r=Object(A.V)(i,(function(e){var t;return null!==(t=Object(p.M)(a(e),(function(e){return Gi(e,a)})))&&void 0!==t?t:{value:0,displayValue:void 0}}))}else{if(void 0===t.getProperty("value"))return;var o=Object(p.M)(Object(d.definedMap)(t.getProperty("value"),a),p.D);if(void 0===o)return;r=[{value:Object(p.D)(o),displayValue:void 0}]}return{values:r,title:Object(p.F)(n)}}}}));if(0===x.length)return null;var C=!1;return 1===x[0].values.length&&(C=!0),jt.createElement(jt.Suspense,{fallback:jt.createElement("div",{style:{width:240,height:240}})},jt.createElement(Oo,{title:m,caption:g,data:x,seriesLabels:k||[],isSingleSeries:C,pallette:j,showLegendByDefault:y,showLabelsOnBars:O}))}}]),e}();function jo(){var e=Object(Kt.a)(["\n    ",";\n"]);return jo=function(){return e},e}function ko(){var e=Object(Kt.a)(["\n    ",";\n"]);return ko=function(){return e},e}function xo(){var e=Object(Kt.a)(["\n    color: white;\n    text-shadow: 0 0px 4px rgba(0, 0, 0, 0.5);\n    padding: ","px;\n    background-image: linear-gradient(transparent, rgba(0, 0, 0, 0.9));\n\n    margin-bottom: -1px;\n"]);return xo=function(){return e},e}function Co(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    overflow: hidden;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n"]);return Co=function(){return e},e}function wo(){var e=Object(Kt.a)(["\n    object-fit: cover;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n"]);return wo=function(){return e},e}function So(){var e=Object(Kt.a)(["\n    height: ","px;\n    background-color: ",";\n"]);return So=function(){return e},e}function Eo(){var e=Object(Kt.a)(["\n    position: relative;\n\n    ","\n\n    height: ","px;\n    background-color: ",";\n"]);return Eo=function(){return e},e}function Mo(){var e=Object(Kt.a)(["\n    margin: ","px ","px;\n    border-radius: 12px;\n    overflow: hidden;\n"]);return Mo=function(){return e},e}var Ro=Object(qt.f)(Mo(),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium})),Do=qt.i.div(Eo(),(function(e){return e.cardStyle&&Ro}),(function(e){return e.theme.summary.height}),(function(e){return e.theme.skeletonColor})),To=qt.i.div(So(),(function(e){return e.theme.summary.height}),(function(e){return e.theme.skeletonColor})),Po=Object(qt.i)(Ti.a)(wo()),Io=qt.i.div(Co()),_o=qt.i.div(xo(),(function(e){return e.theme.pageMarginMedium})),No=qt.i.div(ko(),(function(e){return e.theme.summary.title.fontStyle})),Ao=qt.i.div(jo(),(function(e){return e.theme.summary.detail.fontStyle})),Fo=n(266),Lo=n(283);function Bo(){var e=Object(Kt.a)(["\n    padding: ","px ","px;\n\n    .summary-title {\n        color: ",";\n        ",";\n    }\n\n    .summary-subtitle {\n        color: ",";\n        ",";\n    }\n"]);return Bo=function(){return e},e}var Vo=qt.i.div(Bo(),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.summary.title.fontStyle}),(function(e){return e.theme.fgColorMedium}),(function(e){return e.theme.summary.detail.fontStyle})),Uo=function(e){var t=e.title,n=e.subtitle,r=(e.ref,Object($a.a)(e,["title","subtitle","ref"]));return jt.createElement(Vo,r,jt.createElement("div",{className:"summary-title"},t),jt.createElement("div",{className:"summary-subtitle"},n))};function zo(){var e=Object(Kt.a)(["\n    padding: 14px;\n"]);return zo=function(){return e},e}function Wo(){var e=Object(Kt.a)(["\n    color: ",";\n    ",";\n"]);return Wo=function(){return e},e}function Ho(){var e=Object(Kt.a)(["\n    color: ",";\n    ",";\n    margin-bottom: ","px;\n"]);return Ho=function(){return e},e}function Ko(){var e=Object(Kt.a)(["\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return Ko=function(){return e},e}function qo(){var e=Object(Kt.a)(["\n    position: absolute;\n    top: 60.4%;\n    left: 70.8%;\n\n    z-index: 55;\n"]);return qo=function(){return e},e}function Go(){var e=Object(Kt.a)(["\n    color: ",";\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    & > svg {\n        width: ","px;\n        height: ","px;\n\n        z-index: 55;\n    }\n\n    & > img {\n        border-radius: 50%;\n        width: ","px;\n        height: ","px;\n        max-width: ","px;\n        max-height: ","px;\n    }\n"]);return Go=function(){return e},e}function Jo(){var e=Object(Kt.a)(["\n    position: absolute;\n    z-index: 51;\n    top: 0;\n    left: 0;\n\n    width: ","px;\n    height: ","px;\n    border-radius: 50%;\n    border-width: 3px;\n\n    transform: rotate(calc(0.125turn + ","turn));\n    border: solid;\n    border-color: "," #00000000 #00000000 #00000000;\n"]);return Jo=function(){return e},e}function Zo(){var e=Object(Kt.a)(["\n    position: absolute;\n    z-index: 50;\n    top: 0;\n    left: 0;\n\n    width: ","px;\n    height: ","px;\n    border-radius: 50%;\n    border-width: 3px;\n\n    transform: rotate(0.125turn);\n    border: solid;\n    border-color: "," "," "," ",";\n"]);return Zo=function(){return e},e}function Xo(){var e=Object(Kt.a)(["\n    width: 36px;\n    height: 36px;\n    background-color: ",";\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    border-radius: 50%;\n    border: solid;\n    border-width: 2px;\n    border-color: ",";\n"]);return Xo=function(){return e},e}function Yo(){var e=Object(Kt.a)(["\n    width: ","px;\n    height: ","px;\n    position: relative;\n    margin-bottom: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    & input {\n        width: 0px;\n        height: 0px;\n        opacity: 0;\n        z-index: -1;\n    }\n"]);return Yo=function(){return e},e}function Qo(){var e=Object(Kt.a)(["\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n\n    margin: ","px ","px;\n\n    & img.up-uploading {\n        ","\n    }\n"]);return Qo=function(){return e},e}var $o=qt.i.div(Qo(),(function(e){return e.theme.componentInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),qt.g),ec=qt.i.div(Yo(),150,150),tc=qt.i.div(Xo(),(function(e){return e.bg}),(function(e){return e.theme.baseColor})),nc=qt.i.div(Zo(),150,150,(function(e){return e.tr}),(function(e){return e.br}),(function(e){return e.bl}),(function(e){return e.tl})),rc=qt.i.div(Jo(),150,150,(function(e){return e.rotationOffset}),(function(e){return e.bgColor})),ic=qt.i.label(Go(),(function(e){return e.theme.fgColorLight}),150,150,150,150,150,150),ac=qt.i.div(qo()),oc=qt.i.div(Ko()),cc=qt.i.div(Ho(),(function(e){return e.theme.userProfile.title.textColor}),(function(e){return e.theme.userProfile.title.fontStyle}),(function(e){return e.theme.userProfile.title.marginBottom})),uc=qt.i.div(Wo(),(function(e){return e.theme.userProfile.subtitle.textColor}),(function(e){return e.theme.userProfile.subtitle.fontStyle})),lc=qt.i.a(zo());function sc(e){var t=e.target.files;if(null!==t&&0!==t.length){var n=t.item(0);if(null!==n)return n}}function dc(e){return fc.apply(this,arguments)}function fc(){return(fc=Object(x.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(t){var n=r.result;e(n)},r.onerror=function(e){n(r.error)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pc=n(147),vc=n(121),hc=n.n(vc),bc=n(136),mc=0,gc=function(e){return kt.a.createElement("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},kt.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 36C8.05887 36 0 27.9411 0 18C0 8.05887 8.05887 0 18 0C27.9411 0 36 8.05887 36 18C36 27.9411 27.9411 36 18 36Z",fill:e.interiorColor}),kt.a.createElement("path",{d:"M18 2C9.164 2 2 9.164 2 18C2 26.836 9.164 34 18 34C26.836 34 34 26.836 34 18C33.9907 9.168 26.832 2.00933 18 2ZM25.3333 24H10.6667C9.19333 24 8 22.8067 8 21.3333V14.6667C8 13.1933 9.19333 12 10.6667 12H12.6667C12.912 11.9773 13.144 11.8813 13.3333 11.724L15.0573 10C15.496 9.592 16.068 9.35467 16.6667 9.33333H19.3333C19.932 9.35467 20.504 9.592 20.9427 10L22.6667 11.724C22.856 11.8813 23.088 11.9773 23.3333 12H25.3333C26.8067 12 28 13.1933 28 14.6667V21.3333C28 22.8067 26.8067 24 25.3333 24ZM18 14C20.2093 14 22 15.7907 22 18C22 20.2093 20.2093 22 18 22C15.7907 22 14 20.2093 14 18C14 15.7907 15.7907 14 18 14Z",fill:e.fillColor}))};function Oc(e){var t=e.uploadProgress,n=e.onInputChange,r=e.onCancelClick,i=e.baseUploadColor,a=e.secondaryUploadColor,o=e.image,c="inline-image-upload-".concat(mc++),u=null!==t&&void 0!==t?t:0,l=hc()(i),s=(l.isDark()?l:l.darken(.5)).rgb().hex(),d=(l.isDark()?l.lighten(.5):l).rgb().hex(),f=s,p=u<50?d:s,v=u<75?d:s,h=u<100?d:s,b=u<25?d:s,m=(u<25?u:u-25)/100,g=l.rgb().hex(),O=void 0===t?kt.a.createElement(gc,{fillColor:g,interiorColor:a}):kt.a.createElement(tc,{onClick:r,bg:g},Object(bc.b)(a)),y=kt.a.useRef(null),j=kt.a.useRef(void 0);return kt.a.useEffect((function(){var e=j.current;if(void 0===t&&void 0!==e){var n=y.current;if(null===n)return;n.value=""}j.current=t}),[t]),kt.a.createElement(ec,null,void 0===n?null:kt.a.createElement("input",{type:"file",id:c,accept:"image/*",onChange:n,disabled:void 0!==t,ref:y}),kt.a.createElement(ic,{htmlFor:c},o,void 0===n?null:kt.a.createElement(ac,null,O),void 0===t?null:kt.a.createElement(nc,{tl:h,bl:v,br:p,tr:f}),void 0===t?null:kt.a.createElement(rc,{bgColor:b,rotationOffset:m})))}function yc(){return jc.apply(this,arguments)}function jc(){return(jc=Object(x.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)({title:Object(O.e)("cancelUpload"),accept:Object(O.e)("cancel"),cancel:Object(O.e)("continue"),description:Object(O.e)("uploadProgressWillBeLost"),style:h.a.Delete});case 2:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=6;break}e.t0=void 0!==t;case 6:if(!e.t0){e.next=10;break}e.t2=t,e.next=11;break;case 10:e.t2=!1;case 11:return e.abrupt("return",e.t2);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kc(e){return xc.apply(this,arguments)}function xc(){return(xc=Object(x.a)(k.a.mark((function e(t){var n,r,i,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!Object(B.r)(t)||t.error instanceof V.a||t.error instanceof V.c)){e.next=2;break}return e.abrupt("return",!1);case 2:return r=Object(O.e)("uploadFailedTitle"),i=Object(O.e)("uploadFailedDetails"),(a=t.error)instanceof V.d?(r=Object(O.e)("networkDownTitle"),i=Object(O.e)("uploadNetworkDownDetails")):a instanceof V.b&&(r=Object(O.e)("fileReadErrorTitle"),i=Object(O.e)("fileReadErrorDetails")),e.next=8,Object(h.c)({title:r,description:i,cancel:Object(O.e)("retry"),accept:Object(O.e)("cancel"),style:h.a.Delete});case 8:if(e.t1=n=e.sent,e.t0=null!==e.t1,!e.t0){e.next=12;break}e.t0=void 0!==n;case 12:if(!e.t0){e.next=16;break}e.t2=n,e.next=17;break;case 16:e.t2=!1;case 17:return e.abrupt("return",!e.t2);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cc=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={uploadProgress:void 0,sourceOverride:void 0},e.uploadSession=void 0,e.setUploadProgress=function(t,n){e.setState({uploadProgress:100*n/t})},e.clearSourceOverride=function(t){e.state.sourceOverride===t&&e.setState({sourceOverride:void 0})},e.onInputChange=function(){var t=Object(x.a)(k.a.mark((function t(n){var r,i,a,o,c,u,l,s,d;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(r=sc(n))){t.next=3;break}return t.abrupt("return");case 3:if(i=e.props,a=i.onImageChange,o=i.appEnvironment,c=i.imageURL,void 0!==a){t.next=6;break}return t.abrupt("return");case 6:e.setState({uploadProgress:0}),u=dc(r).then((function(t){return e.setSourceOverride(c,t),t})),Object(A.s)(u),void 0!==e.uploadSession&&e.uploadSession.cancel(),s=o.uploadAppFile(r,"user-profile",e.setUploadProgress),e.uploadSession=s;case 12:return t.next=15,e.uploadSession.attempt();case 15:if(d=t.sent,Object(B.r)(d)){t.next=19;break}return l=d.path,t.abrupt("break",25);case 19:return t.next=21,kc(d);case 21:if(t.sent){t.next=23;break}return t.abrupt("break",25);case 23:t.next=12;break;case 25:e.uploadSession===s&&(e.uploadSession=void 0),void 0!==l?(a(l),Object(A.s)(u.then((function(t){return e.setSourceOverride(t,Object(A.n)(l))})))):Object(A.s)(u.then(e.clearSourceOverride)),e.setState({uploadProgress:void 0});case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onCancelClick=function(){var t=Object(x.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),n.preventDefault(),t.next=4,yc();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:void 0!==e.uploadSession&&(e.uploadSession.cancel(),e.uploadSession=void 0);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(a.a)(n,[{key:"setSourceOverride",value:function(e,t){var n=this.state.sourceOverride;void 0!==n&&e!==n||this.setState({sourceOverride:t})}},{key:"componentDidUpdate",value:function(){var e=this.props.imageURL;void 0!==e&&this.clearSourceOverride(e)}},{key:"componentWillUnmount",value:function(){void 0!==this.uploadSession&&(this.uploadSession.cancel(),this.uploadSession=void 0)}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.showBranding,r=void 0!==n&&n,i=e.title,a=e.subtitle,o=e.imageURL,c=e.appEnvironment,u=e.canUploadImage,l=void 0===u||u,s=this.state,d=s.uploadProgress,f=s.sourceOverride,p={thumbnail:!1,width:150,height:150,gravity:pc.d.Center},v=Object(We.l)(null!==f&&void 0!==f?f:o,p,c.appID),h=void 0===v?jt.createElement("svg",{width:150,height:150,viewBox:"0 0 96 96",id:"Color",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("path",{d:"M48 0C21.504 0 0 21.504 0 48C0 74.496 21.504 96 48 96C74.496 96 96 74.496 96 48C96 21.504 74.496 0 48 0ZM24.336 78.144C26.4 73.824 38.976 69.6 48 69.6C57.024 69.6 69.648 73.824 71.664 78.144C65.136 83.328 56.928 86.4 48 86.4C39.072 86.4 30.864 83.328 24.336 78.144ZM78.528 71.184C71.664 62.832 55.008 60 48 60C40.992 60 24.336 62.832 17.472 71.184C12.576 64.752 9.6 56.736 9.6 48C9.6 26.832 26.832 9.6 48 9.6C69.168 9.6 86.4 26.832 86.4 48C86.4 56.736 83.424 64.752 78.528 71.184ZM48 19.2C38.688 19.2 31.2 26.688 31.2 36C31.2 45.312 38.688 52.8 48 52.8C57.312 52.8 64.8 45.312 64.8 36C64.8 26.688 57.312 19.2 48 19.2ZM48 43.2C44.016 43.2 40.8 39.984 40.8 36C40.8 32.016 44.016 28.8 48 28.8C51.984 28.8 55.2 32.016 55.2 36C55.2 39.984 51.984 43.2 48 43.2Z",fill:"currentColor"})):jt.createElement(Ti.a,{className:void 0!==d?"up-uploading":void 0,src:v,alt:"",width:150,height:150}),b=Object(Ii.b)("madeWithGlide");return jt.createElement($o,null,jt.createElement(Oc,{image:h,baseUploadColor:t.primaryAccentColor,secondaryUploadColor:t.baseColor,onInputChange:l?this.onInputChange:void 0,onCancelClick:this.onCancelClick,uploadProgress:d}),jt.createElement(oc,null,void 0!==i&&jt.createElement(cc,null,i),void 0!==a&&jt.createElement(uc,null,a)),r&&jt.createElement(lc,{href:"https://glideapps.com",rel:"noopener noreferrer",target:"_blank"},jt.createElement(b,{fgColor:t.fgColorOpaque})))}}]),n}(jt.PureComponent),wc=Object(Ut.withTheme)(Cc),Sc=n(721);var Ec=function(){return jt.createElement(To,null)},Mc=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={dragOver:!1,url:""},e}return Object(a.a)(n,[{key:"updateUrl",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n,r,i){var a,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="light"===this.props.theme.mapTheme?We.b.Light:We.b.Dark,e.next=3,Object(We.f)(this.props.appEnvironment,t,n,r,i,a);case 3:void 0!==(o=e.sent)&&o!==this.state.url&&this.setState({url:o});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"onDataDropped",value:function(e){var t=this;switch(e.kind){case"uri":this.setState({tmpSrc:e.uri});break;case"file":var r=new FileReader;r.onload=function(e){var n=r.result;t.setState({tmpSrc:n})},r.readAsDataURL(e.file)}Object(He.a)(Object(l.a)(n.prototype),"onDataDropped",this).call(this,e)}},{key:"componentWillReceiveProps",value:function(e){this.props.imageSource!==e.imageSource&&this.setState({tmpSrc:void 0})}},{key:"render",value:function(){var e,t=this.props,n=t.appearance,r=t.highlightProps;switch(n){case Sc.a.Filled:e=this.renderFullStyle();break;case Sc.a.Card:e=this.renderFullStyle({cardStyle:!0});break;case Sc.a.Profile:e=this.renderProfileStyle()}return jt.createElement("div",Object.assign({"data-test":"app-summary"},this.getDroppableProps(),{style:this.getDroppableStyle()},r),e)}},{key:"renderProfileStyle",value:function(){var e=this.props.imageSource,t=this.state.tmpSrc;return Object(We.c)(e)&&this.updateUrl(Object(A.n)(e),150,150,15),jt.createElement(wc,Object.assign({canUploadImage:!1},this.props,{imageURL:void 0===t?this.state.url:t}))}},{key:"renderFullStyle",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.props,i=r.imageSource,a=r.onClick,o=r.title,c=r.subtitle,u=r.highlightProps,l=n.cardStyle,s=void 0!==l&&l,d=this.state.tmpSrc;return Object(We.c)(i)||void 0!==d?(void 0===o&&void 0===c||(e=jt.createElement(_o,null,jt.createElement(No,{"data-test":"app-summary-title"},o),jt.createElement(Ao,{"data-test":"app-summary-subtitle"},c))),jt.createElement(Do,{cardStyle:s},jt.createElement(Fo.AutoSizer,null,(function(n){return Object(We.c)(i)&&t.updateUrl(Object(A.n)(i),n.width,n.height,15),jt.createElement(jt.Fragment,null,jt.createElement(Po,{src:void 0===d?t.state.url:d}),jt.createElement(Io,{onClick:a},e))})))):jt.createElement(Uo,Object.assign({title:o,subtitle:c,onClick:a},u))}}]),n}(Lo.b),Rc=Object(pn.d)(Object(Ut.withTheme)(Mc)),Dc=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,6),c=o[0],u=o[1],l=o[2],s=o[3],d=o[4],f=o[5],v=Object(r.a)(i,3)[2];if(c===B.i&&u===B.i&&l===B.i)return jt.createElement(Ec,null);var h=Object(We.d)(c,u,v,a),b=h.title,m=h.subtitle,g=h.imageSource;if(void 0===b&&void 0===m&&(void 0===g||Object(We.g)(g)))return null;var O=Object(p.M)(s,(function(e){return function(){return Object(B.o)(e).run(t,n,B.d.Summary)}})),y=Object(p.N)(f,Sc.a.Filled,p.F);return jt.createElement(Rc,{appEnvironment:n.appEnvironment,title:b,subtitle:m,imageSource:g,onClick:O,onDropImage:Object(We.h)(n,d,B.d.Summary),appearance:y})}}]),e}(),Tc=n(90),Pc=n(272),Ic=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,10),c=o[0],u=o[1],l=o[2],s=o[3],d=o[4],f=o[5],v=o[6],b=o[7],m=o[8],g=o[9];if(c===B.i||d===B.i||s===B.i)return n.renderProgress();if(void 0===s)return null;var O=Object(B.o)(s);if(O.isNoAction||!O.canExecute(t,a))return null;var y,j=Object(p.N)(u,Tc.a.Filled,p.F),k=Object(p.M)(l,p.F),x=Object(A.o)(c,"",p.F),C=Qa(s,B.d.Button,t,n),w=C.onClick,S=C.targetURL;return Object(p.N)(d,!1,p.x)&&(y={title:Object(p.N)(f,"LOADING",p.F),description:Object(p.N)(v,"LOADING",p.F),modalStyle:Object(p.N)(b,h.a.Confirm,p.F),accept:Object(p.N)(m,"Accept",p.F),cancel:Object(p.N)(g,"Cancel",p.F)}),jt.createElement(Pc.a,{title:x,url:S,floatingIcon:k,appearance:j,onClick:Object(Sr.withDefault)(w,(function(){})),confirm:y})}}]),e}();function _c(){var e=Object(Kt.a)(["\n    display: grid;\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n    column-gap: ","px;\n    margin: ","px ","px;\n"]);return _c=function(){return e},e}var Nc=qt.i.div(_c(),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.componentInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}));var Ac,Fc,Lc=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.highlightProps,n=e.titleLeft,r=e.appearanceLeft,i=e.onClickLeft,a=e.urlLeft,o=e.iconLeft,c=e.titleRight,u=e.appearanceRight,l=e.onClickRight,s=e.urlRight,d=e.iconRight;return jt.createElement(Nc,t,jt.createElement(Pc.a,{includeMargin:!1,title:n,url:a,floatingIcon:o,appearance:r,onClick:Object(Sr.withDefault)(i,(function(){}))}),jt.createElement(Pc.a,{includeMargin:!1,title:c,url:s,floatingIcon:d,appearance:u,onClick:Object(Sr.withDefault)(l,(function(){}))}))}}]),n}(jt.Component),Bc=Object(pn.d)(Lc),Vc=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,8),c=o[0],u=o[1],l=o[2],s=o[3],d=o[4],f=o[5],v=o[6],h=o[7];if(c===B.i||s===B.i)return n.renderProgress();if(void 0===s)return null;var b=Object(B.o)(s);if(b.isNoAction||!b.canExecute(t,a))return null;var m=Object(p.N)(u,Tc.a.Filled,p.F),g=Object(p.M)(l,p.F),O=Object(A.o)(c,"",p.F),y=Qa(s,B.d.Button,t,n),j=y.onClick,k=y.targetURL,x=Object(p.N)(f,Tc.a.Filled,p.F),C=Object(p.M)(v,p.F),w=Object(A.o)(d,"",p.F),S=Qa(h,B.d.Button,t,n),E=S.onClick,M=S.targetURL;return jt.createElement(Bc,{titleLeft:O,urlLeft:k,iconLeft:g,appearanceLeft:m,onClickLeft:j,titleRight:w,urlRight:M,iconRight:C,appearanceRight:x,onClickRight:E})}}]),e}(),Uc=n(104),zc=n(773),Wc=n(699),Hc=n(736);function Kc(e){return Zc(e)&&e.kind===Ac.ProcessorFailure&&Object(d.hasOwnProperty)(e,"message")&&Object(d.hasOwnProperty)(e,"type")}function qc(e){return Kc(e)&&e.type===Fc.CardError}function Gc(e){return Kc(e)&&e.type===Fc.CardDeclinedError}function Jc(e){return Kc(e)&&e.type===Fc.InsufficientCharge}function Zc(e){return"object"===typeof e&&Object(d.hasOwnProperty)(e,"kind")&&"string"===typeof e.kind}!function(e){e.Success="ok",e.ClientActionRequired="client-action-required",e.ProcessorFailure="failure",e.ProductNotFound="not-found",e.ProductNotFoundV2="not-found-v2",e.ClientError="client-error",e.StoreClosed="store-closed"}(Ac||(Ac={})),function(e){e.ConnectionError="connection-error",e.InternalError="internal-error",e.AuthenticationError="authentication-error",e.CardError="card-error",e.CardDeclinedError="card-declined-error",e.InsufficientCharge="insufficient-charge"}(Fc||(Fc={}));var Xc=n(81),Yc=n(681),Qc=n.n(Yc);function $c(e){return{buttonID:e.buttonID,productSKU:e.sku,rowIndex:e.rowIndex}}function eu(e,t){var n=e.appID,r=e.paymentMethodID,i=e.idempotencyKey,a=e.name,o=e.email,c=e.shippingAddress,u=e.shippingPhone,l=e.items;return{version:2,appID:n,paymentProcessor:"stripe",processorPayload:{paymentMethodID:r,idempotencyKey:i,tdsRedirect:Object(Wc.a)()},billingName:a,receiptEmail:o,shippingAddress:c,shippingPhone:u,items:l.map($c),testMode:t}}function tu(e){return Qc()(e.map((function(e){return e.price})))}var nu=n(173),ru=n(92);function iu(e){var t=e.href,n=e.children;return jt.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},n)}var au=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).billZipRef=jt.createRef(),e.state={stripeSDK:void 0,testMode:!1,idempotencyKey:"",card:void 0,cardIsReady:!1,name:"",email:"",address_line1:"",address_line2:"",address_city:"",address_state:"",address_country:"",address_zip:"",billingZip:"",phone:"",screenState:"input",failureMessage:""},e.cardOnChange=function(t){t.complete?e.setState({cardIsReady:!0}):e.setState({cardIsReady:!1})},e.onMessageHandler=function(){var t=Object(x.a)(k.a.mark((function t(n){var r,i,a,o,c,u,l,s,d,f,p,v,h,b,m;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.data,i=e.props.basis.appID,a=e.state,o=a.screenState,c=a.tdsPayload,"auth-start"===o){t.next=6;break}return window.removeEventListener("message",e.onMessageHandler),t.abrupt("return");case 6:if("3ds-auth-complete"===r){t.next=8;break}return t.abrupt("return");case 8:u=Object(A.n)(c),l=u.processorPayload,s=l.intentClientSecret,d=l.purchaseID,t.prev=10,e.setState({screenState:"auth-confirm"}),f="failure",p=Object(O.e)("catchallPaymentError"),v=3;case 15:return t.next=17,e.stripePaymentIntentStatus(s);case 17:if("succeeded"!==(h=t.sent)){t.next=24;break}return f="success",e.trackPurchase(),t.abrupt("break",49);case 24:if("requires_action"!==h&&"requires_source_action"!==h){t.next=30;break}return Object(P.b)("Had to wait on Stripe requires_action race"),t.next=28,Object(A.tb)(500);case 28:t.next=48;break;case 30:if("requires_payment_method"!==h&&"requires_source"!==h){t.next=35;break}return f="input",t.abrupt("break",49);case 35:if("requires_confirmation"!==h){t.next=46;break}return b={appID:i,purchaseID:d},t.next=39,e.dispatchPaymentCloudFunctionState("stripeInAppPurchaseConfirmIntent",b);case 39:if((m=t.sent).success){t.next=44;break}return f=m.screenState,p=m.failureMessage,t.abrupt("break",49);case 44:t.next=48;break;case 46:return Object(P.a)("Unexpected paymentIntent status: ".concat(h)),t.abrupt("break",49);case 48:if(v-- >0){t.next=15;break}case 49:e.setState({screenState:f,failureMessage:p}),t.next=56;break;case 52:t.prev=52,t.t0=t.catch(10),Object(P.a)("Stripe 3D Secure workflow: ".concat(t.t0)),e.setState({failureMessage:Object(O.e)("catchallPaymentError"),screenState:"failure"});case 56:return t.prev=56,window.removeEventListener("message",e.onMessageHandler),t.finish(56);case 59:case"end":return t.stop()}}),t,null,[[10,52,56,59]])})));return function(e){return t.apply(this,arguments)}}(),e.onSubmit=function(){var t=e.state.screenState;if("success"!==t)e.canSubmit()&&("failure"!==t?(e.setState({screenState:"capturing"}),e.onSubmitInfo().then((function(t){return e.setState({screenState:t})})).catch((function(t){Object(P.a)("Submitting buy button: ".concat(t)),e.setState({failureMessage:Object(O.e)("catchallPaymentError"),screenState:"failure"})}))):e.setState({screenState:"input"}));else{var n=e.props.onFinished;void 0!==n&&n()}},e}return Object(a.a)(n,[{key:"createStripeSDK",value:function(){var e=Object(x.a)(k.a.mark((function e(){var t,n,r,i,a,o,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.stripePaymentInformation,n=t.stripeUserID,r=t.livePublishableKey,i=t.testPublishableKey,a=this.state,o=a.stripeSDK,c=a.testMode,void 0===o){e.next=5;break}return e.abrupt("return",o);case 5:if(void 0===i||i===r){e.next=12;break}return e.next=8,Object(Wc.e)(i);case 8:o=e.sent,c=!0,e.next=16;break;case 12:return e.next=14,Object(Wc.d)(n);case 14:o=e.sent,c=!1;case 16:return this.setState({stripeSDK:o,testMode:c}),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createStripeCard",value:function(){var e=Object(x.a)(k.a.mark((function e(){var t,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.theme,e.next=3,this.createStripeSDK();case 3:n=e.sent,(r=n.elements().create("card",{style:{base:{fontSize:zc.u,fontFamily:Xc.d,color:t.fgColorDark,":-webkit-autofill":{fontSize:zc.u,fontFamily:Xc.d,color:t.fgColorDark}}},hidePostalCode:!0})).on("change",this.cardOnChange),r.mount("#cardWrapper"),this.setState({stripeSDK:n,card:r,idempotencyKey:Object(Uc.v4)(),cardIsReady:!1,billingZip:""});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stripePaymentIntentStatus",value:function(){var e=Object(x.a)(k.a.mark((function e(t){var n,r,i,a,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.stripeSDK,e.next=3,Object(A.n)(n).retrievePaymentIntent(t);case 3:if(r=e.sent,!Object(Sr.hasOwnProperty)(r,"error")){e.next=6;break}throw r.error;case 6:if(Object(Sr.hasOwnProperty)(r,"paymentIntent")){e.next=11;break}throw i="Unexpected Stripe SDK return for retrievePaymentInformation",Object(P.a)(i),Object(P.a)(r),{message:i,value:r};case 11:return a=r.paymentIntent,o=a.status,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dispatchPaymentCloudFunctionState",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n){var r,i,a,o,c,u,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(O.e)("catchallPaymentError"),e.next=3,Object(ru.b)(t,n,{});case 3:if(void 0!==(i=e.sent)){e.next=6;break}return e.abrupt("return",{success:!1,screenState:"failure",failureMessage:r});case 6:e.t0=i.status,e.next=200===e.t0?9:402===e.t0?18:404===e.t0?25:410===e.t0?27:28;break;case 9:return e.next=11,i.json();case 11:if(a=e.sent,!Zc(s=a)||s.kind!==Ac.ClientActionRequired){e.next=17;break}return this.setState({tdsPayload:a}),e.abrupt("return",{success:!1,screenState:"auth-start",failureMessage:r});case 17:return e.abrupt("return",{success:!0,screenState:"success",failureMessage:r});case 18:return e.next=20,i.json();case 20:return o=e.sent,c=o.message,u=o.type,l=o.kind,Object(P.a)("".concat(u," (").concat(l,"): ").concat(c)),qc(o)?r=Object(O.e)("cardInfoRejected"):Gc(o)?r=Object(O.e)("cardPaymentDeclined"):Jc(o)&&!Ct.z()&&(r="Cannot process this payment: Stripe requires a minimum charge of US$0.50 to process payments."),e.abrupt("break",30);case 25:return r=Object(O.e)("purchaseItemHasBeenRemoved"),e.abrupt("break",30);case 27:return e.abrupt("break",30);case 28:return Object(P.a)("Unexpected status for inAppPurchase: ".concat(i.status)),e.abrupt("break",30);case 30:return e.abrupt("return",{success:!1,screenState:"failure",failureMessage:r});case 31:case"end":return e.stop()}var s}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trackPurchase",value:function(){var e=this.props.basis,t=e.items,n=e.currency,r=e.withShipping,i=e.appID;Object(Oi.h)("purchase",{app_id:i,value:tu(t),tax:0,currency:n.code,shipping:r.toString(),items:t.length})}},{key:"createStripe3DSecure",value:function(){var e=this.state.tdsPayload,t=Object(A.n)(e).processorPayload.tdsRedirectURL;return window.addEventListener("message",this.onMessageHandler),jt.createElement(zc.a,{src:t})}},{key:"componentDidMount",value:function(){var e=Object(x.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createStripeCard();case 2:t=this.props.appEnvironment.authenticator.realEmail,this.setState({email:Object(Sr.withDefault)(t,"")});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ensureFocusOffStripeElement",value:function(){var e=this.billZipRef.current;null!==e&&void 0!==e&&(e.focus(),e.blur())}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var n=t.screenState,r=this.state.screenState;return"input"===n&&"input"!==r&&this.ensureFocusOffStripeElement(),null}},{key:"componentDidUpdate",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n){var r,i,a,o,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.theme,i=this.props.theme,a=this.state,o=a.screenState,c=a.card,r.fgColorDark===i.fgColorDark&&("input"!==o||"input"===n.screenState)){e.next=8;break}return e.next=6,this.createStripeCard();case 6:e.next=9;break;case 8:"capturing"===o&&(c.disabled=!0);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.ensureFocusOffStripeElement()}},{key:"getSanitizedPhoneInput",value:function(){var e=this.state.phone.trim();return e.length>0?e:void 0}},{key:"onSubmitInfo",value:function(){var e=Object(x.a)(k.a.mark((function e(){var t,n,r,i,a,o,c,u,l,d,f,p,v,h,b,m,g,y,j,x,C,w,S,E,M,R;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,n=t.card,r=t.stripeSDK,i=t.idempotencyKey,a=t.name,o=t.address_line1,c=t.address_line2,u=t.address_city,l=t.address_state,d=t.address_country,f=t.address_zip,p=t.email,v=t.billingZip,h=t.testMode,void 0!==n&&void 0!==r){e.next=3;break}return e.abrupt("return","input");case 3:return b={name:a,address:{postal_code:v}},m=this.props.basis,g=m.withShipping,y=g?{city:u,country:d,line1:o,line2:c,state:l,postalCode:f}:void 0,j=Object(O.e)("catchallPaymentError"),x="failure",e.prev=9,e.next=12,r.createPaymentMethod("card",n,{billing_details:b});case 12:if(void 0===(C=e.sent).error){e.next=19;break}return w=C.error,S=w.message,E=w.code,Object(P.a)("Error creating payment method for buy button: ".concat(E,": ").concat(S)),Ct.z()||(j="platform_api_key_expired"===E||"account_invalid"===E?"Your Stripe account has been disconnected from Glide. Please re-connect your Stripe account to continue.":"Stripe responded with an error: ".concat(S)),this.setState({failureMessage:j}),e.abrupt("return","failure");case 19:if(void 0!==C.paymentMethod){e.next=24;break}return Object(P.a)("Stripe API has become incoherent."),Object(P.a)(C),this.setState({failureMessage:j}),e.abrupt("return","failure");case 24:return this.setState({screenState:"submitting"}),M=eu(Object(s.a)(Object(s.a)({},m),{},{name:a,email:p,paymentMethodID:C.paymentMethod.id,idempotencyKey:i,shippingAddress:y,shippingPhone:this.getSanitizedPhoneInput()}),h),e.next=28,this.dispatchPaymentCloudFunctionState("inAppPurchase",M);case 28:(R=e.sent).success&&this.trackPurchase(),x=R.screenState,j=R.failureMessage,e.next=37;break;case 34:e.prev=34,e.t0=e.catch(9),Object(P.a)("Couldn't purchase from buy button: ".concat(e.t0));case 37:return this.setState({failureMessage:j}),e.abrupt("return",x);case 39:case"end":return e.stop()}}),e,this,[[9,34]])})));return function(){return e.apply(this,arguments)}}()},{key:"canSubmit",value:function(){var e=this.state,t=e.screenState,n=e.email,r=e.name,i=e.billingZip,a=e.cardIsReady;return"input"===t?a&&n.length>0&&r.length>0&&i.length>0:"success"===t||"failure"===t}},{key:"render",value:function(){var e,t=this,n=this.props.basis,r=n.currency,i=n.withShipping,a=n.items,o=n.showStripeLogo,c=this.state,u=c.screenState,l=c.testMode,s="";switch(u){case"input":case"capturing":s=Object(O.e)("submitOrder");var d="capturing"===u,f=i&&Object(gt.a)("phoneNumberInBuyScreen")?jt.createElement(zc.l,{area:"phone",key:"phone"},jt.createElement(zc.s,{placeholder:Object(O.a)("optionalInputPlaceholderLabel",[Object(O.e)("phoneNumber")]),value:this.state.phone,onChange:function(e){t.setState({phone:e.target.value})},disabled:d,type:"tel"})):null;e=jt.createElement(zc.g,{disabled:d,testMode:l},jt.createElement(zc.h,{area:"method"},Object(O.e)("paymentMethod")),jt.createElement(zc.r,{id:"cardWrapper"}),jt.createElement(zc.l,{area:"billzip"},jt.createElement(zc.s,{autoComplete:A.r,placeholder:Object(O.e)("zip"),value:this.state.billingZip,onChange:function(e){return t.setState({billingZip:e.target.value})},ref:this.billZipRef})),l&&jt.createElement(zc.k,{area:"testmode"},"This screen is using Stripe's Test Mode for development purposes. You must use the"," ",jt.createElement(iu,{href:"https://stripe.com/docs/testing#cards"},"test payment methods")," ","instead of a real payment method. Your published app will use"," ",jt.createElement(iu,{href:"https://stripe.com/docs/keys#test-live-modes"},"Stripe's Live Mode")," ","and accept real payment methods."),jt.createElement(zc.l,{area:"name"},jt.createElement(zc.s,{autoComplete:"name",placeholder:Object(O.e)("name"),value:this.state.name,onChange:function(e){return t.setState({name:e.target.value})},disabled:d})),jt.createElement(zc.h,{area:"contact"},Object(O.e)("contactInformation")),jt.createElement(zc.l,{area:"email"},jt.createElement(zc.s,{autoComplete:"email",placeholder:Object(O.e)("emailAddress"),value:this.state.email,onChange:function(e){return t.setState({email:e.target.value})},disabled:d})),f,i&&[jt.createElement(zc.h,{area:"shipping"},Object(O.e)("shippingAddress")),jt.createElement(zc.l,{area:"add1",key:"add1"},jt.createElement(zc.s,{placeholder:Object(O.a)("addressLineN",["1"]),value:this.state.address_line1,onChange:function(e){return t.setState({address_line1:e.target.value})},disabled:d})),jt.createElement(zc.l,{area:"add2",key:"add2"},jt.createElement(zc.s,{placeholder:Object(O.a)("addressLineN",["2"]),value:this.state.address_line2,onChange:function(e){return t.setState({address_line2:e.target.value})},disabled:d})),jt.createElement(zc.l,{area:"city",key:"city"},jt.createElement(zc.s,{placeholder:Object(O.e)("city"),value:this.state.address_city,onChange:function(e){return t.setState({address_city:e.target.value})},disabled:d})),jt.createElement(zc.l,{area:"state",key:"state"},jt.createElement(zc.s,{placeholder:Object(O.e)("state"),value:this.state.address_state,onChange:function(e){return t.setState({address_state:e.target.value})},disabled:d})),jt.createElement(zc.l,{area:"zip",key:"zip"},jt.createElement(zc.s,{autoComplete:"postal-code",placeholder:Object(O.e)("zip"),value:this.state.address_zip,onChange:function(e){return t.setState({address_zip:e.target.value})},disabled:d})),jt.createElement(zc.l,{area:"country",key:"country"},jt.createElement(zc.s,{autoComplete:"country-name",placeholder:Object(O.e)("country"),value:this.state.address_country,onChange:function(e){return t.setState({address_country:e.target.value})},disabled:d}))]);break;case"auth-confirm":case"submitting":s=Object(O.e)("submitOrder"),e=jt.createElement(zt.a,null);break;case"failure":s=Object(O.e)("retry"),e=jt.createElement(zc.e,null,this.state.failureMessage);break;case"success":s=Object(O.e)("done"),e=jt.createElement(zc.e,null,Object(O.e)("yourOrderHasBeenPlaced"));break;case"auth-start":return e=this.createStripe3DSecure(),jt.createElement(zc.d,null,e)}return jt.createElement(zc.d,null,1===a.length&&jt.createElement(zc.i,{hasImage:void 0!==a[0].image},jt.createElement(zc.m,null,a[0].name),void 0!==a[0].description&&jt.createElement(zc.f,null,a[0].description),void 0!==a[0].image&&jt.createElement(zc.j,{src:a[0].image})),e,jt.createElement(zc.o,null),jt.createElement(zc.b,null,jt.createElement(zc.n,null,Object(nu.d)(tu(a),r)),jt.createElement(zc.t,null,Object(O.e)("total")),jt.createElement(zc.c,null,jt.createElement(Pc.a,{includeMargin:!1,title:s,appearance:Tc.a.Filled,onClick:this.onSubmit,url:void 0,disabled:!this.canSubmit()}))),o&&jt.createElement(zc.q,null,jt.createElement(zc.p,null)))}}]),n}(jt.PureComponent),ou=Object(Ut.withTheme)(au);function cu(e,t,n,r,i,a,o,c,u,l,s){if(Object(p.K)(t)&&Object(p.K)(i)&&Object(p.K)(a)&&Object(p.K)(e)&&o!==B.i&&c!==B.i&&(void 0===o||Object(_.g)(o))){c=Object(A.o)(c,nu.b.code,p.F);var d=Object(nu.c)(c);if(void 0!==d)return{buttonID:Object(p.F)(e),name:Object(p.F)(t),description:Object(p.N)(n,"",p.F),image:Object(p.M)(r,(function(e){return Object(We.l)(Object(p.F)(e),{thumbnail:!0},s)})),sku:Object(p.F)(i),price:Object(p.D)(a),rowIndex:o,currency:d,withShipping:Object(p.N)(u,!0,p.x),showStripeLogo:Object(p.N)(l,!1,p.x)};Object(P.a)("Currency not found",c)}}var uu=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o,c=Object(r.a)(e,12),u=c[0],l=c[1],s=c[2],f=c[3],v=c[4],h=c[5],b=c[6],m=c[7],g=c[8],O=c[9],y=c[10],j=c[11],k=n.appEnvironment,x=k.paymentInformation,C=k.appID;if(Object(p.K)(y))o=Object(A.V)(Object(p.v)(y),(function(e){var t=e.getObjectInspector(a);if(Object(p.K)(t))return cu(Object(d.definedMap)(t.getProperty("buttonID"),a),Object(d.definedMap)(t.getProperty("itemName"),a),Object(d.definedMap)(t.getProperty("itemDescription"),a),Object(d.definedMap)(t.getProperty("itemImage"),a),Object(d.definedMap)(t.getProperty("itemSKU"),a),Object(d.definedMap)(t.getProperty("itemPrice"),a),Object(d.definedMap)(t.getProperty("rowIndex"),a),Object(d.definedMap)(t.getProperty("currencyCode"),a),Object(d.definedMap)(t.getProperty("withShipping"),a),Object(d.definedMap)(t.getProperty("showStripeLogo"),a),C)}));else if(y===B.i)o=[];else{var w=cu(m,u,l,s,f,v,O,h,b,j,C);o=void 0===w?[]:[w]}var S=o,E=Object(r.a)(S,1)[0];if(void 0===E)return null;var M=x[E.buttonID],R=void 0!==o.find((function(e){return e.withShipping})),D=void 0!==o.find((function(e){return e.showStripeLogo}));if(void 0===M||"stripe"!==M.processor)return null;var T={appID:C,currency:E.currency,withShipping:R,items:o,showStripeLogo:D};return jt.createElement(ou,{basis:T,stripePaymentInformation:M,appEnvironment:n.appEnvironment,onFinished:Object(p.M)(g,(function(e){return function(){return Object(B.o)(e).run(t,n,B.d.BuyScreen)}}))})}}]),e}(),lu=n(722),su=n(269);function du(){var e=Object(Kt.a)(["\n    height: 54px;\n    width: 100%;\n\n    padding: 0px ","px 4px;\n\n    display: flex;\n    flex-direction: column;\n\n    font-size: 14px;\n\n    .app-cal-event-inner {\n        border-left: 4px solid ",";\n        background-color: ","26;\n\n        align-items: center;\n        display: flex;\n        flex-direction: row;\n\n        flex-grow: 1;\n    }\n\n    &.past .app-cal-event-inner {\n        border-left: 4px solid ",";\n        background-color: ",";\n    }\n\n    .app-cal-event-time {\n        width: 70px;\n        margin-right: 20px;\n\n        color: ",";\n        ",";\n\n        height: ","px;\n        font-size: 11px;\n\n        text-align: right;\n    }\n\n    .app-cal-event-text-area {\n        align-self: flex-start;\n        padding-top: 8px;\n\n        color: ",";\n        ",";\n\n        flex-grow: 1;\n        flex-shrink: 1;\n\n        margin-left: 8px;\n        overflow: hidden;\n    }\n\n    .app-cal-event-name {\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n\n        font-weight: 500;\n    }\n\n    .app-cal-event-desc {\n        color: ",";\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    }\n\n    .app-cal-time-wrapper {\n        display: flex;\n        flex-direction: column;\n        flex-shrink: 0;\n    }\n"]);return du=function(){return e},e}function fu(){var e=Object(Kt.a)(["\n    ",";\n    color: ",";\n\n    border-radius: 12px;\n"]);return fu=function(){return e},e}function pu(){var e=Object(Kt.a)(["\n    height: 30px;\n    width: 100%;\n    padding: 0 ","px;\n\n    position: sticky;\n    top: ","px;\n\n    background-color: ",';\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    &.important {\n        ::before {\n            content: "";\n            width: 8px;\n            height: 8px;\n            border-radius: 10px;\n            background-color: ',";\n            margin-right: 8px;\n        }\n    }\n"]);return pu=function(){return e},e}function vu(){var e=Object(Kt.a)(["\n    position: absolute;\n    right: ","px;\n    bottom: ","px;\n    color: ",";\n"]);return vu=function(){return e},e}function hu(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n\n    flex-grow: 1;\n\n    &.header {\n        padding: ","px 0;\n    }\n"]);return hu=function(){return e},e}var bu=qt.i.div(hu(),(function(e){return e.theme.componentSmallInnerVerticalPadding})),mu=Object(qt.i)(su.a)(vu(),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.baseColor})),gu=qt.i.div(pu(),(function(e){return e.theme.pageMarginMedium}),(function(e){return-e.theme.navBar.largeTitleHeight}),(function(e){return e.theme.baseColor}),(function(e){return e.theme.primaryAccentColor})),Ou=qt.i.div(fu(),(function(e){return e.theme.fontStyles.Tag5}),(function(e){return e.theme.fgColorDark})),yu=qt.i.div(du(),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.calendar.pastEventAccent}),(function(e){return e.theme.calendar.pastEventColor}),(function(e){return e.theme.fgColorMedium}),(function(e){return e.theme.fontStyles.Header5Fixed}),(function(e){return e.theme.fontStyles.Header5Height}),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fontStyles.Body5}),(function(e){return e.theme.fgColorMedium})),ju=n(48),ku=n.n(ju);var xu=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={touched:!1},e.onTouchStart=function(t){e.setState({touched:!0})},e.onTouchEnd=function(t){e.setState({touched:!1})},e}return Object(a.a)(n,[{key:"onEventClicked",value:function(e){void 0!==this.props.onTap&&this.props.onTap(e)}},{key:"render",value:function(){var e=this,t=this.props.event,n=t.name,r=t.description,i=t.start,a=t.end,o=Object(A.B)().getTime()>a.getTime();return jt.createElement(yu,{"data-test":"app-cal-event",touched:this.state.touched,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd,className:Gn()(o&&"past"),onClick:function(){return e.onEventClicked(e.props.event)}},jt.createElement("div",{className:"app-cal-event-inner"},jt.createElement("div",{className:"app-cal-event-text-area"},jt.createElement("div",{className:"app-cal-event-name"},n),jt.createElement("div",{className:"app-cal-event-desc"},r)),jt.createElement("div",{className:"app-cal-time-wrapper"},jt.createElement("div",{className:"app-cal-event-time"},Object(O.c)(i)),i.getTime()!==a.getTime()?jt.createElement("div",{className:"app-cal-event-time"},Object(O.c)(a)):jt.createElement("div",{className:"app-cal-event-time"}))))}}]),n}(jt.Component);var Cu=Object(pn.d)(Object(Ta.c)((function(e){var t,n=e.eventList,i=e.highlightProps,a=e.emptyMessage,o=e.title,c=e.onTap,u=e.order,l=e.defaultMode,s=e.saveState,d=e.savedState,f=e.scrollOverlayID,p=e.allowSwitch,v=i.ref,h=Object($a.a)(i,["ref"]);function b(e,t){var n=e.events.map((function(e,n){return function(e,t){return jt.createElement(xu,{key:t,event:e,onTap:c})}(e,t+","+n.toString())})),r=jt.createElement(gu,{"data-test":"app-cal-header",className:Gn()(e.important&&"important")},jt.createElement(Ou,null,e.name));return jt.createElement("div",{key:t},r,n)}var m,g,y=jt.useState(null!==(t=null===d||void 0===d?void 0:d.mode)&&void 0!==t?t:l),j=Object(r.a)(y,2),k=j[0],x=j[1],C=jt.useState((function(){var e=Object(A.B)(),t=Object(A.B)(),r=!0,i=!1,a=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;if(0!==l.events.length){var s=l.events[0].start.getTime()-e.getTime();if(u===lt.a.OldestFirst){if(s<0)continue;t=l.events[0].start;break}if(!(s>0)){t=l.events[0].start;break}}}}catch(d){i=!0,a=d}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return t})),w=Object(r.a)(C,2),S=w[0],E=w[1],M=jt.useCallback((function(){var e=k===lu.a.List?lu.a.Calendar:lu.a.List;x(e),s({mode:e})}),[s,k]),R=document.getElementById(f);if(null!==R&&p&&(m=Object(ju.createPortal)(jt.createElement(mu,{onClick:M},k===lu.a.List?jt.createElement(Nn.a,{icon:"01-21-calendar-3",size:22}):jt.createElement(Nt.j,{size:22})),R)),0===n.length)return jt.createElement(Ga,Object.assign({},h,{targetRef:v}),null!==a&&void 0!==a?a:Object(O.e)("noUpcomingEvents"));if(k!==lu.a.List&&p){var D,T=pr()(n.map((function(e){return e.events}))),P=null!==(D=Object(O.b)(S,!1))&&void 0!==D?D:"";g=jt.createElement(xr,{header:P,viewDate:S,selection:void 0,onEventClick:c,onDateClick:E,events:T})}else g=n.map((function(e,t){return b(e,t.toString())}));var I=!Object(A.G)(o);return jt.createElement(bu,Object.assign({},i,{className:I?"header":""}),I&&jt.createElement(On,null,jt.createElement(gn,null,o)),g,m)})));var wu=function(e){var t=Cu;return jt.createElement(t,e)},Su=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a,o){var c,u,l,s=Object(r.a)(e,7),f=s[0],v=s[1],h=s[2],b=s[3],m=s[4],g=s[5],O=s[6];if(f===B.i)return n.renderProgress();var y=null===(c=Object(p.M)(O,p.x))||void 0===c||c,j=Object(p.M)(g,(function(e){return function(t){return Object(B.o)(e).run(t.data,n,B.d.CalendarListItem)}})),k=Object(A.U)(Object(A.B)()),x=[],C=!0,w=!1,S=void 0;try{for(var E,M=Object(p.v)(f)[Symbol.iterator]();!(C=(E=M.next()).done);C=!0){var R=E.value.getObjectInspector(a);if(Object(p.K)(R)){var D=Object(p.N)(Object(d.definedMap)(R.getProperty("groupName"),a),"Sometime",p.F),T=[],P=!0,I=!1,_=void 0;try{for(var N,F=Object(p.N)(Object(d.definedMap)(R.getProperty("items"),a),[],p.v)[Symbol.iterator]();!(P=(N=F.next()).done);P=!0){var L=N.value.getObjectInspector(a);if(Object(p.K)(L)){var V=Object(p.M)(Object(d.definedMap)(L.getProperty("start"),a),p.z);if(void 0!==V){var U=Object(p.M)(Object(d.definedMap)(L.getProperty("end"),a),p.z),z=Object(p.N)(Object(d.definedMap)(L.getProperty("title"),a),"Event",p.F),W=Object(p.M)(Object(d.definedMap)(L.getProperty("description"),a),p.F),H=Object(p.M)(Object(d.definedMap)(L.getProperty("itemID"),a),p.F),K=L.getProperty("item");Object(p.K)(K)&&T.push({name:z,description:W,start:V,end:null!==U&&void 0!==U?U:V,data:K,itemID:H})}}}}catch(Q){I=!0,_=Q}finally{try{P||null==F.return||F.return()}finally{if(I)throw _}}if(0!==T.length){var q=T[0].start,G=Object(A.U)(q).getTime()===k.getTime();x.push({name:D,important:G,events:T})}}}}catch(Q){w=!0,S=Q}finally{try{C||null==M.return||M.return()}finally{if(w)throw S}}var J=Object(p.M)(v,p.F),Z=Object(p.M)(h,p.F),X=null!==(u=Object(p.M)(b,(function(e){return Object(p.F)(e)})))&&void 0!==u?u:lu.a.List,Y=null!==(l=Object(p.M)(m,(function(e){return Object(p.F)(e)})))&&void 0!==l?l:lt.a.OldestFirst;return jt.createElement(wu,{title:Z,eventList:x,emptyMessage:J,onTap:j,saveState:function(e){o.state=e},savedState:o.state,allowSwitch:!y,defaultMode:X,order:Y})}}]),e}(),Eu=n(737);function Mu(){var e=Object(Kt.a)(['\n    position: relative;\n\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n\n    &.float {\n        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.15);\n    }\n\n    &.outline::after {\n        content: "";\n        pointer-events: none;\n        position: absolute;\n        left: 0;\n        top: 0%;\n        width: 100%;\n        height: 100%;\n\n        border-radius: 0px;\n        border: 1px solid ',";\n    }\n\n    &.rounded.outline::after {\n        border-radius: 8px;\n    }\n\n    &.no-float .bottom-area {\n        background-color: transparent;\n    }\n\n    &.rounded {\n        border-radius: 8px;\n    }\n\n    &.horizontal.float {\n        margin-bottom: 12px;\n    }\n\n    .card-image-container {\n        position: relative;\n        width: 100%;\n        padding-bottom: ","%;\n    }\n\n    &.all-caps .card-title {\n        text-transform: lowercase;\n        font-variant: all-small-caps;\n    }\n\n    .image-skeleton {\n        background-color: ",";\n    }\n\n    .image,\n    .image-skeleton {\n        position: absolute;\n        left: 0;\n        top: 0;\n        height: 100%;\n        width: 100%;\n\n        object-fit: cover;\n    }\n\n    .overlays {\n        color: white;\n    }\n\n    .bottom-area {\n        display: flex;\n        flex-direction: column;\n\n        background-color: ",";\n        padding: ","px 12px 12px 12px;\n        color: ",";\n\n        flex-grow: 1;\n    }\n\n    .tile-corner-container {\n        padding: 12px;\n    }\n\n    .card-spacer {\n        flex-grow: 1;\n    }\n\n    .card-title-container {\n        :not(:last-child) {\n            margin-bottom: 4px;\n        }\n    }\n\n    .card-header {\n        ","\n\n        color: ",";\n\n        :not(:last-child) {\n            margin-bottom: 4px;\n        }\n\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n\n    .card-title {\n        ",";\n\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n\n    .card-subtitle {\n        ",";\n        color: ",";\n\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: ",";\n        overflow: hidden;\n\n        :not(:last-child) {\n            margin-bottom: 4px;\n        }\n    }\n\n    .card-footer {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n\n        > *:first-child:not(:last-child) {\n            margin-right: 28px;\n        }\n\n        > * {\n            min-width: 20px;\n            flex-shrink: 1;\n            flex-grow: 1;\n\n            > * {\n                max-width: 100%;\n            }\n        }\n\n        .bottom-left-overlay {\n            display: flex;\n            flex-direction: column;\n            align-items: flex-start;\n        }\n\n        .bottom-right-overlay {\n            display: flex;\n            flex-direction: column;\n            align-items: flex-end;\n        }\n    }\n"]);return Mu=function(){return e},e}var Ru,Du=qt.i.div(Mu(),(function(e){return e.theme.separatorColor}),(function(e){return 100*e.imageScaler}),(function(e){return e.theme.skeletonColor}),(function(e){return e.theme.cards.bgColor}),(function(e){return e.needsOverlayPadding?40:12}),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fontStyles.Tag5}),(function(e){return e.theme.primaryAccentColor}),(function(e){return function(e,t){switch(e){case vo.a.Small:return t.fontStyles.AccentBody5;case vo.a.Large:return t.fontStyles.AccentBody3}return t.fontStyles.AccentBody4}(e.textSize,e.theme)}),(function(e){return function(e,t){switch(e){case vo.a.Small:return t.fontStyles.Body6;case vo.a.Large:return t.fontStyles.Body4}return t.fontStyles.Body5}(e.textSize,e.theme)}),(function(e){return e.theme.fgColorMedium}),(function(e){return e.numTextLines}));function Tu(e){switch(e){case pc.b.Square:case pc.b.Circle:return 1;case pc.b.ThreeByTwo:return 2/3;case pc.b.ThreeByOne:return 1/3;case pc.b.ThreeByFour:return 4/3;case pc.b.TwoByThree:return 1.5;case pc.b.FourByThree:return 3/4}return 1/3}function Pu(e,t){var n=Tu(t);return Math.round(e*n)}function Iu(){var e=Object(Kt.a)(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n    pointer-events: none;\n\n    overflow: hidden;\n\n    & .tile-corner-container {\n        display: flex;\n        justify-content: space-between;\n\n        > *:first-child:not(:last-child) {\n            margin-right: 28px;\n        }\n\n        padding: 12px;\n    }\n\n    & .corner-content {\n        display: flex;\n        flex-direction: column;\n        min-width: 20px;\n        flex-shrink: 1;\n        flex-grow: 1;\n\n        > * {\n            max-width: 100%;\n            pointer-events: auto;\n        }\n\n        > *:not(:last-child) {\n            margin-bottom: 8px;\n        }\n    }\n\n    & .shrink {\n        flex-shrink: 2;\n        min-width: 30%;\n    }\n\n    & .center-content {\n        position: absolute;\n        top: 50%;\n        left: 8px;\n        right: 8px;\n        transform: translateY(-50%);\n    }\n\n    & .bottom-left-content,\n    & .top-left-content {\n        align-items: flex-start;\n    }\n\n    & .bottom-right-content,\n    & .top-right-content {\n        align-items: flex-end;\n    }\n\n    & .bottom-left-content,\n    & .bottom-right-content {\n        align-self: flex-end;\n    }\n"]);return Iu=function(){return e},e}!function(e){e[e.NotUploading=0]="NotUploading",e[e.FromDropImage=1]="FromDropImage",e[e.FromButton=2]="FromButton"}(Ru||(Ru={}));var _u=qt.i.div(Iu()),Nu=jt.memo((function(e){var t=e.topLeft,n=e.topRight,r=e.bottomLeft,i=e.bottomRight,a=e.center,o=e.mainCorner,c=e.className;function u(e,t){return"".concat(e," corner-content").concat(t?" shrink":"")}return t=t&&jt.createElement("div",{className:u("top-left-content","top-left"===o)},t),n=n&&jt.createElement("div",{className:u("top-right-content","top-right"===o)},n),r=r&&jt.createElement("div",{className:u("bottom-left-content","bottom-left"===o)},r),i=i&&jt.createElement("div",{className:u("bottom-right-content","bottom-right"===o)},i),jt.createElement(_u,{className:c},jt.createElement("div",{className:"tile-corner-container"},t,n),jt.createElement("div",{className:"tile-corner-container"},r,i),a&&jt.createElement("div",{className:u("center-content",!1)},a))}));var Au=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.subtitle,r=e.header,i=e.onClick,a=e.numTextLines,o=e.corners,c=e.textSize,u=e.textStyle,l=e.floatStyle,s=e.size,d=e.topLeftOverlay,f=e.topRightOverlay,p=e.bottomLeftOverlay,v=e.bottomRightOverlay,h=e.isHorizontal,b=e.url,m=e.hasImage,g=e.className,O=Tu(s),y="";u===vo.b.AllCaps&&(y+=" all-caps"),l===Eu.a.Float?y+=" float":l===Eu.a.Outline?y+=" outline":l===Eu.a.None&&(y+=" no-float"),o===pc.a.Rounded&&(y+=" rounded"),h&&(y+=" horizontal");var j=!Object(A.G)(r),k=!Object(A.G)(t),x=(void 0!==d||void 0!==f)&&!1===m;return jt.createElement(Du,{"data-test":"card-item",numTextLines:a,className:g+" ".concat(y),textSize:c,imageScaler:O,needsOverlayPadding:x,onClick:void 0!==i?function(){return i(!1)}:void 0},m&&jt.createElement("div",{className:"card-image-container"},jt.createElement(Ti.a,{"data-test":"card-item-image",alternate:jt.createElement("div",{className:"image-skeleton"}),altBehavior:"both",className:"image",draggable:!1,src:b})),jt.createElement("div",{className:"bottom-area"},j||k?jt.createElement("div",{className:"card-title-container"},j?jt.createElement("div",{className:"card-header","data-test":"card-item-header"},r):null,k?jt.createElement("div",{className:"card-title","data-test":"card-item-title"},t):null):null,Object(A.G)(n)?null:jt.createElement("div",{className:"card-subtitle","data-test":"card-item-subtitle"},n),(p||v)&&jt.createElement(jt.Fragment,null,jt.createElement("div",{className:"card-spacer"}),jt.createElement("div",{className:"card-footer"},p&&jt.createElement("div",{className:"bottom-left-overlay"},p),v&&jt.createElement("div",{className:"bottom-right-overlay"},v)))),jt.createElement(Nu,{className:"overlays",topLeft:d,topRight:f}))}}]),n}(jt.PureComponent),Fu=Object(Ut.withTheme)((function(e){var t=e.onClick,n=e.theme,i=e.appEnvironment,a=Object($a.a)(e,["onClick","theme","appEnvironment"]),o=jt.useState(""),c=Object(r.a)(o,2),u=c[0],l=c[1],s=a.imageSource,f=a.columnWidth,p=a.size;jt.useEffect((function(){var e=function(){var e=Object(x.a)(k.a.mark((function e(){var t,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(d.definedMap)(f,(function(e){return Pu(e,p)})),r="light"===n.mapTheme?We.b.Light:We.b.Dark,!Object(We.c)(s)||void 0===f||void 0===t){e.next=7;break}return e.next=5,Object(We.f)(i,Object(A.n)(s),f,t,15,r);case 5:void 0!==(a=e.sent)&&a!==u&&l(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(A.s)(e())}),[i,s,f,p,n,u]);var v=jt.useCallback((function(e){void 0!==t&&t(e)}),[t]);return jt.createElement(Au,Object.assign({},a,{url:u,onClick:v}))})),Lu=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o,c=Object(r.a)(e,18),u=c[0],l=c[1],s=c[2],d=(c[3],c[4]),f=c[5],v=(c[6],c[7]),h=c[8],b=c[9],m=c[10],g=c[11],O=c[12],y=(c[13],c[14]),j=c[15],k=c[16],x=c[17],C=Object(r.a)(i,4)[3],w=Object(We.d)(u,l,C,a),S=w.title,E=w.subtitle,M=w.imageSource,R=Object(p.N)(s,"",p.F),D=Object(p.N)(v,3,p.D),T=Object(p.N)(h,pc.a.Rounded,p.F),P=Object(p.N)(m,vo.a.Medium,p.F),I=Object(p.N)(g,vo.b.Normal,p.F),_=Object(p.N)(d,pc.b.Square,p.F),N=Object(p.N)(b,Eu.a.Float,p.F),A=Qa(f,B.d.GridItem,t,n),F=A.onClick,L=A.targetURL,V=A.autoRunInTabletMode;return n.needsPush&&V&&void 0!==F&&F(!1),jt.createElement(Fu,{title:S,subtitle:E,header:R,hasImage:void 0!==C,imageSource:M,onClick:F,targetURL:L,numTextLines:D,corners:T,textSize:P,textStyle:I,columnWidth:n.columnWidth,size:_,floatStyle:N,isHorizontal:null!==(o=Object(p.M)(O,p.x))&&void 0!==o&&o,topLeftOverlay:Object(p.M)(y,(function(e){return Object(B.q)(e).render(t,n)})),bottomLeftOverlay:Object(p.M)(k,(function(e){return Object(B.q)(e).render(t,n)})),bottomRightOverlay:Object(p.M)(x,(function(e){return Object(B.q)(e).render(t,n)})),topRightOverlay:Object(p.M)(j,(function(e){return Object(B.q)(e).render(t,n)})),appEnvironment:n.appEnvironment})}}]),e}();function Bu(){var e=Object(Kt.a)(["\n    position: sticky;\n    right: 0px;\n    bottom: calc(var(--bottom-bar-padding) + var(--safe-area-inset-bottom));\n"]);return Bu=function(){return e},e}function Vu(){var e=Object(Kt.a)(["\n    padding: 0 ","px 75px;\n\n    flex-grow: 1;\n"]);return Vu=function(){return e},e}var Uu=qt.i.div(Vu(),(function(e){return e.theme.pageMarginMedium})),zu=qt.i.div(Bu());function Wu(){var e=Object(Kt.a)(["\n    width: 32px;\n    height: 32px;\n    flex-shrink: 0;\n"]);return Wu=function(){return e},e}function Hu(){var e=Object(Kt.a)(["\n    position: absolute;\n    color: ",";\n    bottom: -2px;\n    transform: translateY(100%);\n    ","\n"]);return Hu=function(){return e},e}function Ku(){var e=Object(Kt.a)(["\n    border-radius: 20px;\n    overflow: hidden;\n    padding: 12px;\n    ",";\n\n    position: relative;\n\n    word-break: break-word;\n\n    border-bottom-left-radius: ","px;\n    border-bottom-right-radius: ","px;\n\n    background-color: ",";\n    color: ",";\n\n    a {\n        color: ",";\n        text-decoration: underline !important;\n\n        :hover {\n            color: ",";\n            text-decoration: underline !important;\n        }\n    }\n\n    img {\n        width: calc(100% + 24px);\n        min-width: 100px;\n        margin: 8px -12px;\n\n        :last-child {\n            margin-bottom: -12px;\n        }\n\n        :first-child {\n            margin-top: -12px;\n        }\n    }\n\n    img + br {\n        display: none;\n    }\n"]);return Ku=function(){return e},e}function qu(){var e=Object(Kt.a)(["\n    width: 24px;\n    height: 24px;\n\n    flex-shrink: 0;\n    flex-grow: 0;\n\n    margin: 0 4px;\n\n    color: ",";\n\n    background-color: ",";\n\n    ","\n\n    border-radius: 12px;\n\n    display: flex;\n\n    align-items: center;\n    justify-content: center;\n\n    transition: background-color 0.2s, border 0.2s;\n"]);return qu=function(){return e},e}function Gu(){var e=Object(Kt.a)(["\n    margin: 0 8px;\n    flex-grow: 1;\n\n    display: flex;\n\n    justify-content: ",";\n    position: relative;\n"]);return Gu=function(){return e},e}function Ju(){var e=Object(Kt.a)(["\n            padding-",": ","px;\n        "]);return Ju=function(){return e},e}function Zu(){var e=Object(Kt.a)(["\n    display: flex;\n    align-items: flex-end;\n\n    flex-direction: ",";\n\n    margin: ",";\n    ",";\n"]);return Zu=function(){return e},e}var Xu=qt.i.div(Zu(),(function(e){return"right"===e.orientation?"row":"row-reverse"}),(function(e){return e.useBottomMargin?"5px 0":"5px 0 30px"}),(function(e){return e.isFromSameAuthor&&Object(Ut.css)(Ju(),e.orientation,e.userCircleSize)})),Yu=qt.i.div(Gu(),(function(e){return"right"===e.orientation?"flex-end":"flex-start"})),Qu=qt.i.div(qu(),(function(e){return e.theme.baseColor}),(function(e){return e.selected?e.theme.primaryAccentColor:"transparent"}),(function(e){return!e.selected&&"border: 2px solid ".concat(e.theme.fgColorMedium,";")})),$u=qt.i.div(Ku(),(function(e){return e.theme.fontStyles.Body4}),(function(e){return"left"===e.orientation?"0":"20"}),(function(e){return"right"===e.orientation?"0":"20"}),(function(e){return"left"===e.orientation?e.theme.offBaseColor:e.theme.primaryAccentColor}),(function(e){return"left"===e.orientation?e.theme.fgColorDark:e.theme.baseColor}),(function(e){return"left"===e.orientation?e.theme.linkColor:e.theme.baseColor}),(function(e){return"left"===e.orientation?e.theme.linkColor:e.theme.baseColor})),el=qt.i.div(Hu(),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.fontStyles.Body6})),tl=qt.i.div(Wu()),nl=n(777),rl=n(96);function il(){var e=Object(Kt.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    top: 0;\n\n    background-color: ",";\n    width: 100%;\n    height: 100%;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n    font-size: ","px;\n    font-weight: 500;\n    font-family: ",";\n\n    color: ",";\n"]);return il=function(){return e},e}function al(){var e=Object(Kt.a)(["\n    overflow: hidden;\n    border-radius: 1000px;\n\n    height: ","px;\n    width: ","px;\n\n    flex-shrink: 0;\n\n    position: relative;\n    object-fit: cover;\n"]);return al=function(){return e},e}var ol=Object(qt.i)(Ti.a)(al(),(function(e){return e.size}),(function(e){return e.size})),cl=qt.i.div(il(),(function(e){return"accent"===e.background?e.theme.primaryAccentColor:e.background}),(function(e){return e.fontSize}),rl.e,(function(e){return"accent"===e.background?e.theme.accentForegroundColor:"white"}));var ul=["#ff0092","#ff0076","#ff005a","#ff1d3f","#ff3c20","#fd5200","#ed6500","#d97400","#c48000","#ad8b00","#939400","#769b00","#54a100","#1ba500","#00a900","#00ab2d","#00ad4f","#00af6e","#00b08c","#00b1a9","#00b1c6","#00b1e2","#00b0fb","#00aeff","#00abff","#00a7ff","#00a2ff","#009aff","#0091ff","#0085ff","#7977ff","#ae66ff","#d452fd","#f039e5","#ff13ca","#ff00ae"],ll=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=null,t=this.props,n=t.className,r=t.email,i=t.size,a=t.username,o=t.color,c=t.image,u=Object($a.a)(t,["className","email","size","username","color","image"]),l=o;if(void 0!==c)e=jt.createElement(ol,{className:n,src:c,size:i});else if(0===a.length){var s=Object(nl.url)("nobody",{size:(2*i).toString(),rating:"pg",default:"mp"});e=jt.createElement(ol,{className:n,src:"https:"+s,size:i})}else if(void 0!==r){if(void 0===l){var d=a.split("").map((function(e){return e.charCodeAt(0)})).reduce((function(e,t){return(e+t)%ul.length}));l=ul[d]}var f=jt.createElement(cl,{fontSize:Math.floor(.6*i),background:l},a[0].toUpperCase()),p=Object(nl.url)(r,{size:(2*i).toString(),rating:"pg",default:"404"});e=jt.createElement(ol,Object.assign({className:n,src:"https:"+p,size:i,alternate:f,altBehavior:"both"},u))}return e}}]),n}(jt.Component),sl=[{regex:/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/i,type:"url"},{regex:/\n/,type:"newline"}];var dl=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).USER_CIRCLE_SIZE=32,e.state={},e.wrapperRef=jt.createRef(),e.onLongPress=function(t){e.props.onLongPress(e.props.token)},e.onSelectionClicked=function(){e.props.onSelected(e.props.token)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.wrapperRef.current.addEventListener("long-press",this.onLongPress)}},{key:"componentWillUnmount",value:function(){this.wrapperRef.current.removeEventListener("long-press",this.onLongPress)}},{key:"render",value:function(){var e,t=this.props,n=t.orientation,r=t.text,i=t.userName,a=t.userEmail,o=t.isFromSameAuthor,c=t.bubbleStyle,u=t.image;"normal"===c?o||(e=jt.createElement(ll,{image:u,email:a,username:i,size:this.USER_CIRCLE_SIZE})):e=jt.createElement(Qu,{selected:"selected"===this.props.bubbleStyle,onClick:this.onSelectionClicked},"selected"===this.props.bubbleStyle&&jt.createElement(Nt.b,{size:16}));var l=function e(t){var n;if("raw"!==(n="string"===typeof t?{type:"raw",data:t}:t).type)return[n];var r="text",i=null,a=!0,o=!1,c=void 0;try{for(var u,l=sl[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var s=u.value;if(null!==(i=n.data.match(s.regex))){r=s.type;break}}}catch(p){o=!0,c=p}finally{try{a||null==l.return||l.return()}finally{if(o)throw c}}if("text"===r||null===i)return[{type:r,data:n.data}];var d=[],f=Object(A.n)(i.index);return 0!==f&&d.push.apply(d,Object(_t.a)(e({type:"raw",data:n.data.substring(0,f)}))),d.push({type:r,data:n.data.substring(f,f+i[0].length)}),f+i[0].length<n.data.length&&d.push.apply(d,Object(_t.a)(e({type:"raw",data:n.data.substring(f+i[0].length)}))),d}(r);return jt.createElement(Xu,{"data-test":"app-chat-bubble",ref:this.wrapperRef,orientation:n,useBottomMargin:o,isFromSameAuthor:o&&"normal"===c,userCircleSize:this.USER_CIRCLE_SIZE},jt.createElement(tl,null),jt.createElement(Yu,{orientation:n},jt.createElement($u,{orientation:n},l.map((function(e,t){var n=e.type;switch(n){case"text":case"raw":return jt.createElement("span",{key:t},e.data);case"newline":return jt.createElement("br",{key:t});case"url":return jt.createElement(Ti.a,{key:t,src:e.data,altBehavior:"both",alternate:jt.createElement("a",{key:t,href:e.data},e.data)});default:Object(A.e)(n)}}))),!o&&jt.createElement(el,null,Object(A.z)(i))),e)}}]),n}(jt.PureComponent);function fl(){var e=Object(Kt.a)(["\n            background-color: rgba(0, 0, 0, 0.7);\n        "]);return fl=function(){return e},e}function pl(){var e=Object(Kt.a)(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n\n    overflow: hidden;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    ","\n"]);return pl=function(){return e},e}function vl(){var e=Object(Kt.a)(["\n    position: relative;\n    width: 50%;\n    min-width: 500px;\n    height: 80%;\n\n    border-radius: 12px;\n    border: 1px solid ",";\n    background-color: ",";\n\n    overflow: hidden;\n"]);return vl=function(){return e},e}function hl(){var e=Object(Kt.a)(["\n    width: 100%;\n    height: 100%;\n\n    @keyframes intro {\n        0% {\n            transform: translateY(105%);\n        }\n        100% {\n            transform: translateY(0);\n        }\n    }\n\n    @keyframes outtro {\n        0% {\n            transform: translateY(0);\n        }\n        100% {\n            transform: translateY(105%);\n        }\n    }\n\n    & .modal-anim-tag {\n        ","\n        ","\n        \n\n        box-shadow: 0px -5px 17px rgba(50, 50, 50, 0.2), 0px -1px 2px rgba(0, 0, 0, 0.08);\n        background-color: ",";\n    }\n\n    /* Animation with time 0. We will probably want to add these for tablet sometime */\n    & .modal-anim-tag-tablet {\n        ","\n        ","\n    }\n"]);return hl=function(){return e},e}function bl(){var e=Object(Kt.a)(["\n    animation-name: outtro;\n    animation-duration: 0s;\n    animation-iteration-count: 1;\n    transform: translateY(105%);\n"]);return bl=function(){return e},e}function ml(){var e=Object(Kt.a)(["\n    animation-name: intro;\n    animation-duration: 0s;\n    animation-iteration-count: 1;\n"]);return ml=function(){return e},e}function gl(){var e=Object(Kt.a)(["\n    animation-name: outtro;\n    animation-duration: 0.4s;\n    animation-iteration-count: 1;\n    transform: translateY(105%);\n"]);return gl=function(){return e},e}function Ol(){var e=Object(Kt.a)(["\n    animation-name: intro;\n    animation-duration: 0.4s;\n    animation-iteration-count: 1;\n"]);return Ol=function(){return e},e}var yl=Object(Ut.css)(Ol()),jl=Object(Ut.css)(gl()),kl=Object(Ut.css)(ml()),xl=Object(Ut.css)(bl()),Cl=qt.i.div(hl(),(function(e){return e.dismissed&&jl}),(function(e){return!e.dismissed&&!e.introDone&&yl}),(function(e){return e.theme.baseColor}),(function(e){return e.dismissed&&xl}),(function(e){return!e.dismissed&&!e.introDone&&kl})),wl=Object(qt.i)(Cl)(vl(),(function(e){return e.theme.separatorColor}),(function(e){return e.theme.baseColor})),Sl=qt.i.div(pl(),(function(e){return e.tabletMode&&Object(Ut.css)(fl())}));var El=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={introDone:!1},e.contentRef=jt.createRef(),e.onAnimationEnd=function(){e.state.introDone||e.setState({introDone:!0}),e.props.onAnimationEnd()},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.hookAnimationCallback()}},{key:"componentWillUpdate",value:function(e,t){this.unhookAnimationCallback()}},{key:"componentDidUpdate",value:function(e,t){this.hookAnimationCallback()}},{key:"componentWillUnmount",value:function(){this.unhookAnimationCallback()}},{key:"hookAnimationCallback",value:function(){Object(Hc.isNullOrUndefined)(this.contentRef.current)||this.contentRef.current.addEventListener("animationend",this.onAnimationEnd)}},{key:"unhookAnimationCallback",value:function(){Object(Hc.isNullOrUndefined)(this.contentRef.current)||this.contentRef.current.addEventListener("animationend",this.onAnimationEnd)}},{key:"render",value:function(){var e=this.props.renderEnvironment,t={zIndex:Object(Sr.withDefault)(this.props.zIndex,0)},n="tablet"===e.sizeClass,r=Cl;return n&&(r=wl),jt.createElement(Sl,{style:t,tabletMode:n},jt.createElement(r,{ref:this.contentRef,dismissed:this.props.dismissed,introDone:this.state.introDone},this.props.children))}}]),n}(jt.PureComponent);var Ml=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onAnimationEnd=function(){"hiding"===e.state.overlayState&&e.setState({overlayState:"hidden"})},e}return Object(a.a)(n,[{key:"showOverlay",value:function(){this.setState({overlayState:"visible"})}},{key:"hideOverlay",value:function(){this.setState({overlayState:"hiding"})}},{key:"shouldRenderPortal",value:function(){return"visible"===this.state.overlayState||"hiding"===this.state.overlayState}},{key:"getPortal",value:function(e){var t,n=this.props.renderEnvironment;return"hidden"!==this.state.overlayState&&void 0!==this.state.overlayState&&void 0!==n&&(t=ku.a.createPortal(jt.createElement(El,{renderEnvironment:n,dismissed:"hiding"===this.state.overlayState,onAnimationEnd:this.onAnimationEnd},e),Object(A.cb)(document.getElementById(pa.a)))),t}}]),n}(jt.Component);function Rl(){var e=Object(Kt.a)(["\n    overflow-y: auto;\n    overflow-x: hidden;\n\n    ::-webkit-scrollbar {\n        display: none;\n    }\n\n    flex-shrink: 1;\n\n    padding: 5px 30px 0px 30px;\n"]);return Rl=function(){return e},e}function Dl(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n\n    height: 100%;\n    align-items: stretch;\n    padding-top: ","px;\n"]);return Dl=function(){return e},e}var Tl=qt.i.div(Dl(),(function(e){return e.theme.navBar.height})),Pl=qt.i.div(Rl());function Il(){var e=Object(Kt.a)(["\n    visibility: hidden;\n    pointer-events: none;\n    opacity: 0;\n    min-width: 1px;\n"]);return Il=function(){return e},e}function _l(){var e=Object(Kt.a)(["\n    background-color: ",";\n    border-radius: ","px ","px 0px 0px;\n\n    ",";\n"]);return _l=function(){return e},e}function Nl(){var e=Object(Kt.a)(["\n    background-color: ",";\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n"]);return Nl=function(){return e},e}function Al(){var e=Object(Kt.a)(["\n    display: grid;\n    /* Hello dear reader. I am sure you are looking at this z-index thinking I am a moron.\n       While true, in this case there is more to the story. Safari will clip this bad boy\n       for no good reason because it thinks it is occluded by a hidden element. Safari be\n       dumb as shit. */\n    z-index: 100;\n    flex-shrink: 100000;\n\n    & > * {\n        justify-self: start;\n        grid-column: 1;\n        grid-row: 1;\n    }\n"]);return Al=function(){return e},e}function Fl(){var e=Object(Kt.a)(["\n    display: flex;\n    z-index: 100;\n\n    & > * + * {\n        margin-left: -12px;\n    }\n"]);return Fl=function(){return e},e}function Ll(){var e=Object(Kt.a)(["\n    width: ","px;\n"]);return Ll=function(){return e},e}function Bl(){var e=Object(Kt.a)(["\n    display: grid;\n    flex-shrink: 100000;\n\n    & > * {\n        justify-self: end;\n        grid-column: 1;\n        grid-row: 1;\n    }\n"]);return Bl=function(){return e},e}function Vl(){var e=Object(Kt.a)(["\n    ","\n    padding-left: 7px;\n"]);return Vl=function(){return e},e}function Ul(){var e=Object(Kt.a)(["\n    height: ","px;\n\n    padding: 0 16px;\n    margin: 0;\n    border: none;\n\n    ","\n    color: inherit;\n\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    ","\n\n    ","\n\n    &:hover {\n        cursor: pointer;\n    }\n\n    ","\n"]);return Ul=function(){return e},e}function zl(){var e=Object(Kt.a)(["\n    opacity: 0.4;\n    pointer-events: none;\n"]);return zl=function(){return e},e}function Wl(){var e=Object(Kt.a)(["\n    color: ",";\n    height: ","px;\n\n    font: ",";\n\n    flex-shrink: 0;\n    display: flex;\n    position: relative;\n    align-items: center;\n"]);return Wl=function(){return e},e}function Hl(){var e=Object(Kt.a)(["\n    flex-grow: 1;\n\n    ","\n    ",";\n    color: ",";\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n\n    opacity: ",";\n\n    transition: opacity 0.2s;\n"]);return Hl=function(){return e},e}function Kl(){var e=Object(Kt.a)(["\n    position: absolute;\n    width: 100%;\n    right: 0;\n    bottom: var(--safe-area-inset-bottom);\n"]);return Kl=function(){return e},e}function ql(){var e=Object(Kt.a)(["\n    text-align: center;\n"]);return ql=function(){return e},e}function Gl(){var e=Object(Kt.a)(["\n    text-align: start;\n"]);return Gl=function(){return e},e}var Jl=Object(Ut.css)(Gl()),Zl=Object(Ut.css)(ql()),Xl=qt.i.div(Kl()),Yl=qt.i.div(Hl(),(function(e){return"Android"===e.theme.navBar.style?Jl:Zl}),(function(e){return e.theme.navBar.titleFontStyle}),(function(e){return e.theme.navBar.titleColor}),(function(e){return e.opacity})),Ql=qt.i.div(Wl(),(function(e){return e.theme.navBar.fgColor}),(function(e){return e.theme.navBar.height}),rl.e),$l=Object(Ut.css)(zl()),es=qt.i.button(Ul(),(function(e){return e.theme.navBar.height}),(function(e){return e.theme.fontStyles.Body4}),(function(e){return!0===e.bold&&"font-weight: 600;"}),(function(e){return!e.enabled&&$l}),(function(e){return e.setFill&&"svg {\n        fill: ".concat(e.theme.navBar.fgColor,";\n    }")})),ts=qt.i.div(Vl(),(function(e){return e.theme.fontStyles.Header4Fixed})),ns=qt.i.div(Bl()),rs=qt.i.div(Ll(),(function(e){return e.theme.pageMarginMedium})),is=qt.i.div(Fl()),as=qt.i.div(Al()),os=qt.i.div(Nl(),(function(e){return e.theme.baseColor})),cs=qt.i.div(_l(),(function(e){return e.theme.navBar.bgColor}),(function(e){return e.theme.navBar.borderRadius}),(function(e){return e.theme.navBar.borderRadius}),(function(e){return Object(qt.d)({backgroundColor:e.theme.navBar.transparentBgColor,fadeTo:e.theme.navBar.fadeTo})})),us=qt.i.div(Il());var ls=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).pubsubHandle=void 0,e.wrapperRef=jt.createRef(),e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(gt.a)("builderVNext")||(this.pubsubHandle=PubSub.subscribe(pa.g,(function(t,n){var r=e.wrapperRef.current,i=e.props.menuItem;null!==r&&void 0!==i.onClick&&("none"!==getComputedStyle(r).pointerEvents&&(i.purpose===L.d.AddItem&&"Add Form"===n.next||i.purpose===L.d.EditItem&&"Edit Form"===n.next?i.onClick(!1):"Add Form"!==n.prev&&"Edit Form"!==n.prev||"platform-cancel"!==i.style||i.onClick(!1)))})))}},{key:"componentWillUnmount",value:function(){Object(gt.a)("builderVNext")||PubSub.unsubscribe(this.pubsubHandle)}},{key:"shouldUseText",value:function(e){var t="Android"===this.props.theme.navBar.style;return void 0!==e&&"share"!==e&&"icon"!==e&&"default"!==e&&"menu"!==e&&("text"===e||!!!t)}},{key:"render",value:function(){var e,t=this.props.menuItem,n=this.shouldUseText(t.style),r=!1,i=24;return t.icon.startsWith("00")||(i=20),n?(e=t.title,"platform-accept"!==t.style&&"platform-submit"!==t.style||(r=!0)):e="platform-cancel"===t.style?jt.createElement(Nn.a,{icon:t.icon,size:i,color:Object(A.n)(this.props.theme).navBar.cancelColor}):jt.createElement(Nn.a,{icon:t.icon,size:i}),jt.createElement(es,{ref:this.wrapperRef,setFill:!1,bold:r,"data-test":"nav-button-"+t.title,"aria-label":t.title,enabled:!1!==t.isEnabled,onClick:Object(d.definedMap)(t.onClick,(function(e){return function(){return e(!1)}}))},e)}}]),n}(jt.PureComponent);function ss(){var e=Object(Kt.a)(["\n    width: 36px;\n    height: 36px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    margin-right: -12px;\n    &:hover {\n        cursor: pointer;\n    }\n"]);return ss=function(){return e},e}function ds(){var e=Object(Kt.a)(["\n    border: 0;\n\n    ",";\n    ::placeholder {\n        color: ",";\n    }\n\n    color: ",";\n    background-color: transparent;\n    flex-grow: 1;\n    margin-left: ","px;\n    &:focus {\n        outline: none;\n    }\n"]);return ds=function(){return e},e}function fs(){var e=Object(Kt.a)(["\n    color: ",";\n    height: ","px;\n    padding: 0 ","px;\n    border-radius: 10px;\n    background-color: ",";\n    display: flex;\n    align-items: center;\n\n    width: 100%;\n    max-width: ",";\n\n    svg {\n        fill: ",";\n    }\n"]);return fs=function(){return e},e}function ps(){var e=Object(Kt.a)(["\n    ",";\n    padding: ",";\n\n    display: flex;\n    justify-content: center;\n"]);return ps=function(){return e},e}var vs=qt.i.div(ps(),(function(e){return"Collapsed"===e.theme.searchBar.style&&"flex-grow: 1"}),(function(e){return"Collapsed"===e.theme.searchBar.style?"0 0 0 ".concat(e.theme.pageMarginMedium,"px"):"0 ".concat(e.theme.pageMarginMedium,"px ").concat(e.theme.pageMarginMedium,"px")})),hs=function(){return jt.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("path",{d:"M8.29248 14.8877C9.67871 14.8877 10.957 14.4395 12.0029 13.6924L15.9375 17.627C16.1201 17.8096 16.3608 17.9009 16.6182 17.9009C17.1577 17.9009 17.5396 17.4858 17.5396 16.9546C17.5396 16.7056 17.4565 16.4648 17.2739 16.2905L13.3643 12.3726C14.186 11.2935 14.6758 9.95703 14.6758 8.50439C14.6758 4.99316 11.8037 2.12109 8.29248 2.12109C4.78955 2.12109 1.90918 4.98486 1.90918 8.50439C1.90918 12.0156 4.78125 14.8877 8.29248 14.8877ZM8.29248 13.5098C5.55322 13.5098 3.28711 11.2437 3.28711 8.50439C3.28711 5.76514 5.55322 3.49902 8.29248 3.49902C11.0317 3.49902 13.2979 5.76514 13.2979 8.50439C13.2979 11.2437 11.0317 13.5098 8.29248 13.5098Z"}))},bs=qt.i.div(fs(),(function(e){return e.theme.searchBar.textColor}),(function(e){return e.theme.searchBar.height}),(function(e){return e.theme.searchBar.paddingSides}),(function(e){return e.theme.searchBar.backgroundColor}),(function(e){return e.theme.searchBar.maxWidth}),(function(e){return e.theme.searchBar.fgColor})),ms=qt.i.input(ds(),(function(e){return e.theme.fontStyles.Body4}),(function(e){return e.theme.searchBar.placeholderColor}),(function(e){return e.theme.searchBar.textColor}),(function(e){return e.theme.searchBar.iconPadding})),gs=qt.i.div(ss());var Os=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={value:"",fromState:!1},r.onChange=function(e){r.setState({value:e.currentTarget.value,fromState:!0}),r.props.onChange(e)},void 0!==e.value&&(r.state.value=e.value),r}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.onClear,r=e.theme,i=this.state.value,a="Inline"===r.searchBar.style;return jt.createElement(vs,{"data-test":"app-search-bar"},jt.createElement(bs,null,jt.createElement(hs,null),jt.createElement(ms,{"aria-label":"Search",placeholder:t,value:i,onChange:this.onChange,autoFocus:!a}),void 0!==i&&i.length>0&&a?jt.createElement(gs,{onClick:n},jt.createElement(An,null)):void 0))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=Object(Sr.withDefault)(e.value,"");return t.value===n||t.fromState?t.fromState&&(t.fromState=!1):t.value=n,t}}]),n}(jt.PureComponent),ys=Object(Ut.withTheme)(Os);function js(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var ks=jt.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 7H3.8L9.4 1.4L8 0L0 8L8 16L9.4 14.6L3.8 9H16V7Z"})),xs=jt.createElement("svg",{width:"13",height:"21",viewBox:"0 0 13 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.75946 0.412269L0.395654 9.40223C-0.131885 9.90796 -0.131885 10.7522 0.395654 11.26L9.75946 20.2479C10.3337 20.7993 11.2403 20.7993 11.8146 20.2479C12.4221 19.6643 12.4221 18.6923 11.8146 18.1077L3.97212 10.5788C3.82985 10.4428 3.82985 10.2174 3.97212 10.0814L11.8146 2.55254C12.4221 1.96892 12.4221 0.996923 11.8146 0.412269C11.5269 0.138115 11.1572 0 10.7875 0C10.4168 0 10.0471 0.138115 9.75946 0.412269Z"})),Cs=function(e){Object(c.a)(n,e);var t=js(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showSearch:!1},e.clearSearch=void 0,e.onTitleClick=function(){fa.a.publish(pa.h,void 0)},e}return Object(a.a)(n,[{key:"createNavButton",value:function(e,t){return jt.createElement(ls,{theme:Object(A.n)(this.props.theme),menuItem:e,key:t})}},{key:"createBackButton",value:function(e,t){return e?jt.createElement(es,{"data-test":"back-button","aria-label":"back",enabled:!0,setFill:!0,onClick:t},ks):jt.createElement(es,{"data-test":"back-button","aria-label":"back",enabled:!0,setFill:!0,onClick:t},xs,jt.createElement(ts,null,Object(O.e)("back")))}},{key:"render",value:function(){var e=this;if(void 0===this.props.theme)return null;var t,n=this.props,r=n.onBack,i=n.title,a=n.ctx,o=n.renderEnvironment,c=n.searchValue,u=n.onSearchChanged,l=n.onSearchCleared,s=Object(Sr.withDefault)(this.props.barButtonItems,[]);if(void 0!==this.props.searchBar&&void 0!==a&&void 0!==o?t=Object(Pt.Jb)(this.props.searchBar,a,o.with({registerSearchBarClearer:function(t){return e.clearSearch=t}})):void 0!==c&&void 0!==u&&void 0!==l&&(this.clearSearch=l,t=jt.createElement(ys,{placeholder:Object(O.e)("search"),value:c,onChange:u})),void 0!==t&&this.state.showSearch){var d=[this.createNavButton({title:"Exit",icon:"00-01-glide-close",onClick:function(){void 0!==e.clearSearch&&e.clearSearch(),e.setState({showSearch:!1})}},99)];return jt.createElement(Ql,{className:"nav-bar-root"},t,jt.createElement(ns,null,d))}var f,p=s.find((function(e){return"platform-accept"===e.style})),v=s.find((function(e){return"platform-cancel"===e.style})),h=s.find((function(e){return"platform-submit"===e.style})),b=s.find((function(e){return"share"===e.style})),m=s.find((function(e){return"menu"===e.style}));s=s.filter((function(e){return e!==p&&e!==v&&e!==b&&e!==h&&e!==m}));var g,y="Android"===this.props.theme.navBar.style,j=!y;void 0!==v?f=this.createNavButton(v):void 0!==r?f=this.createBackButton(y,r):void 0!==m?f=this.createNavButton(m):void 0!==b&&(f=this.createNavButton(b));var k,x="tablet"===o.sizeClass;void 0!==h&&y&&!x?g=Object(ju.createPortal)(jt.createElement(Xl,null,jt.createElement(su.b,{isEnabled:!1!==h.isEnabled,onClick:function(){return!1!==h.isEnabled&&h.onClick&&h.onClick(!1)}},jt.createElement(Nn.a,{icon:h.icon,size:24,color:this.props.theme.baseColor}))),Object(A.cb)(document.getElementById(pa.a))):void 0!==h&&(j||x)&&s.push(h),p&&s.push(p),void 0!==t&&s.splice(0,0,{title:"Search",icon:"00-01-glide-search",onClick:function(){e.setState({showSearch:!0})}}),s.length>0&&(k=dr()(s,[function(e){return e.purpose}]).reverse().map((function(t,n){return e.createNavButton(t,n)})));var C=1;return!1===this.props.showTitle&&(C=0),void 0===f&&(f=jt.createElement(rs,null)),jt.createElement(Ql,{className:"nav-bar-root","data-test":"nav-bar"},jt.createElement(as,null,j&&jt.createElement(us,{"aria-hidden":!0,tabIndex:-1},jt.createElement(is,null,k)),f,g),jt.createElement(Yl,{opacity:C,onClick:this.onTitleClick},i),jt.createElement(ns,null,j&&jt.createElement(us,{"aria-hidden":!0,tabIndex:-1},f),jt.createElement(is,null,k)))}}]),n}(jt.PureComponent),ws=Object(Ut.withTheme)(Cs),Ss=function(e){Object(c.a)(n,e);var t=js(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.searchValue,r=e.onSearchChanged,i=e.onSearchCleared,a="Android"===t.navBar.style,o=void 0!==n&&void 0!==r&&void 0!==i,c=o&&a,u=o&&!a;return jt.createElement(os,null,jt.createElement(cs,{"data-test":"modal-nav-bar"},jt.createElement(ws,Object.assign({},this.props,{searchValue:c?n:void 0,onSearchChanged:c?r:void 0,onSearchCleared:c?i:void 0}))),u&&jt.createElement(ys,{placeholder:Object(O.e)("search"),value:n,onChange:Object(A.n)(r),onClear:i}))}}]),n}(jt.PureComponent),Es=Object(Ut.withTheme)(Ss),Ms=ws,Rs=n(716);var Ds,Ts=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={text:Object(Sr.withDefault)(e.props.text,"")},e.inputRef=jt.createRef(),e.onInput=function(t){var n=t.currentTarget.value;e.setState({text:n}),void 0!==e.props.updated&&e.props.updated(n)},e.onCloseClicked=function(){void 0!==e.props.closed&&e.props.closed()},e.onSaveClicked=function(){var t=e.props,n=t.saved,r=t.allowEmpty;void 0!==n&&(r||0!==e.state.text.length)&&n(e.state.text)},e.onClickRegionClicked=function(t){null!==e.inputRef.current&&t.currentTarget===t.target&&e.inputRef.current.focus()},e}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return t.text!==this.state.text||e.title!==this.props.title||e.placeholder!==this.props.placeholder||e.theme!==this.props.theme}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.title,r=e.saved,i=e.saveIcon,a=e.saveText,o=e.closedText,c=e.allowEmpty,u=e.renderEnvironment,l=[],s={title:Object(Sr.withDefault)(o,Object(O.e)("close")),icon:"00-01-glide-close",onClick:this.onCloseClicked,style:"platform-cancel"};if(l.push(s),void 0!==r&&void 0!==i&&void 0!==a){var d={title:a,icon:i,onClick:this.onSaveClicked,style:"platform-submit",isEnabled:c||this.state.text.length>0};l.push(d)}var f={marginBottom:"Android"===this.props.theme.navBar.style?75:0},p="tablet"===u.sizeClass?"modal-anim-tag-tablet":"modal-anim-tag";return jt.createElement(jt.Fragment,null,jt.createElement(Tl,{"data-test":"app-overlay-editor",className:p,onClick:this.onClickRegionClicked},jt.createElement(Pl,{style:f},jt.createElement(Rs.a,{inputRef:this.inputRef,onChange:this.onInput,value:this.state.text,placeholder:t}))),jt.createElement(Es,{renderEnvironment:u,title:n,barButtonItems:l}))}}]),n}(jt.Component),Ps=Object(Ut.withTheme)(Ts),Is=n(134);!function(e){e[e.EmailOnly=0]="EmailOnly",e[e.Username=1]="Username"}(Ds||(Ds={}));var _s=n(271),Ns=n(277),As=n(213);function Fs(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}function Ls(){var e=Object(Kt.a)(["\n    position: relative;\n    height: 100%;\n    width: 100%;\n"]);return Ls=function(){return e},e}var Bs=jt.createContext({openAuthModal:function(){var e=Object(x.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Vs=qt.i.div(Ls()),Us=function(e){Object(c.a)(n,e);var t=Fs(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={modal:void 0},e.onClose=function(t){e.hideOverlay(),void 0!==e.state.onClose&&e.state.onClose(t)},e.openAuthModal=function(){var t=Object(x.a)(k.a.mark((function t(n,r,i){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Promise((function(t){e.setState({onClose:t})})),e.setState({modal:"auth",authModalInfo:{title:n,mode:r,forceEdit:i}}),e.showOverlay(),t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.value={openAuthModal:e.openAuthModal},e}return Object(a.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.env,i=n.renderEnvironment;if(this.shouldRenderPortal())if("share"===this.state.modal)e=this.getPortal(jt.createElement("div",null));else if("auth"===this.state.modal&&void 0!==this.state.authModalInfo){var a="tablet"===i.sizeClass?"modal-anim-tag-tablet":"modal-anim-tag",o=Object(As.b)();e=this.getPortal(jt.createElement(Ut.ThemeConsumer,null,(function(e){var n;return jt.createElement(Vs,{className:a},jt.createElement(Ns.a,{previewMode:!1,getUsername:!0,onLoggedIn:Object(x.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.onClose(!0));case 1:case"end":return e.stop()}}),e)}))),onClose:function(){return t.onClose(!1)},withBranding:!1,appID:r.appID,appFeatures:r.appFeatures,accentColor:null!==(n=null===o||void 0===o?void 0:o.theme.primaryAccentColor)&&void 0!==n?n:e.primaryAccentColor,authKind:L.a.EmailPin}))})))}return jt.createElement(Bs.Provider,{value:this.value},this.props.children,e)}}]),n}(Ml),zs=function(e){return function(t){Object(c.a)(r,t);var n=Fs(r);function r(){return Object(i.a)(this,r),n.apply(this,arguments)}return Object(a.a)(r,[{key:"render",value:function(){var t=this;return jt.createElement(Bs.Consumer,null,(function(n){return jt.createElement(e,Object.assign({},t.props,{modals:n}))}))}}]),r}(jt.Component)},Ws=n(1205),Hs=n(1201),Ks=n(764);function qs(){var e=Object(Kt.a)(["\n    ",";\n    color: ",';\n    display: "flex";\n    white-space: "nowrap";\n']);return qs=function(){return e},e}var Gs=qt.i.button(qs(),(function(e){return e.theme.fontStyles.Subheader5}),(function(e){return e.theme.primaryAccentColor})),Js=function(e){e.children,e.ref,e.key;var t=Object($a.a)(e,["children","ref","key"]);return jt.createElement(Gs,Object.assign({},t,{"data-test":"see-all"}),e.children)};function Zs(e){return!0===e.isGroupHeader}var Xs=function(){function e(t,n){Object(i.a)(this,e),this.items=t,this.groups=n,Object(A.d)(void 0!==this.groups||void 0!==this.items)}return Object(a.a)(e,[{key:"get",value:function(e){if(void 0!==this.items)return this.items[e];Object(A.d)(void 0!==this.groups);var t=!0,n=!1,r=void 0;try{for(var i,a=this.groups[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(0===e)return{isGroupHeader:!0,groupHeaderName:o.title,onSeeAll:o.onSeeAll};if(--e<o.items.length)return o.items[e];e-=o.items.length}}catch(c){n=!0,r=c}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}Object(A.hb)("Groups or Items must be valid.")}},{key:"length",get:function(){return void 0!==this.items?this.items.length:(Object(A.d)(void 0!==this.groups),this.groups.map((function(e){return e.items.length+1})).reduce((function(e,t){return e+t}),0))}}]),e}();function Ys(){var e=Object(Kt.a)(["\n    padding: ","px ","px\n        ","px ","px;\n\n    ",";\n    color: ",";\n\n    display: flex;\n    justify-content: space-between;\n\n    > * {\n        flex-shrink: 0;\n    }\n\n    > *:first-child {\n        flex-shrink: 1;\n    }\n"]);return Ys=function(){return e},e}var Qs=qt.i.div(Ys(),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.fontStyles.Subheader4}),(function(e){return e.theme.fgColorDark})),$s=n(299);function ed(e){var t="undefined"!==typeof document&&document.attachEvent;if(!t){var n=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return function(t){return e(t)}}(),r=function(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}(),i=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},a=function(e){if(!(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;i(this),this.__resizeRAF__&&r(this.__resizeRAF__),this.__resizeRAF__=n((function(){(function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},o=!1,c="",u="animationstart",l="Webkit Moz O ms".split(" "),s="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d=document.createElement("fakeelement");if(void 0!==d.style.animationName&&(o=!0),!1===o)for(var f=0;f<l.length;f++)if(void 0!==d.style[l[f]+"AnimationName"]){c="-"+l[f].toLowerCase()+"-",u=s[f],o=!0;break}var p="resizeanim",v="@"+c+"keyframes "+p+" { from { opacity: 0; } to { opacity: 0; } } ",h=c+"animation: 1ms "+p+"; "}return{addResizeListener:function(n,r){if(t)n.attachEvent("onresize",r);else{if(!n.__resizeTriggers__){var o=n.ownerDocument,c=window.getComputedStyle(n);c&&"static"===c.position&&(n.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var n=(v||"")+".resize-triggers { "+(h||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],i=t.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(t.createTextNode(n)),r.appendChild(i)}}(o),n.__resizeLast__={},n.__resizeListeners__=[],(n.__resizeTriggers__=o.createElement("div")).className="resize-triggers",n.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',n.appendChild(n.__resizeTriggers__),i(n),n.addEventListener("scroll",a,!0),u&&(n.__resizeTriggers__.__animationListener__=function(e){e.animationName===p&&i(n)},n.__resizeTriggers__.addEventListener(u,n.__resizeTriggers__.__animationListener__))}n.__resizeListeners__.push(r)}},removeResizeListener:function(e,n){if(t)e.detachEvent("onresize",n);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(n),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",a,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(u,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(r){}}}}}var td=function(e){return cancelAnimationFrame(e.id)},nd=[],rd=null,id=null;function ad(){null!==rd&&(rd=null,null!=id&&(document.body.style.pointerEvents=id),id=null)}function od(){ad(),nd.forEach((function(e){return e.__resetIsScrolling()}))}function cd(e){!function(){null!==rd&&td(rd);var e=0;nd.forEach((function(t){e=Math.max(e,t.props.scrollingResetTimeInterval)})),rd=function(e,t){var n=0;Promise.resolve().then((function(){n=Object(A.x)()})).catch((function(){}));var r={id:requestAnimationFrame((function i(){Object(A.x)()-n>=t?e():r.id=requestAnimationFrame(i)}))};return r}(od,e)}(),nd.forEach((function(t){t.props.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent()}))}function ud(e,t){nd.some((function(e){return e.props.scrollElement===t}))||t.addEventListener("scroll",cd),nd.push(e)}function ld(e,t){0===(nd=nd.filter((function(t){return t!==e}))).length&&(t.removeEventListener("scroll",cd),null!==rd&&(td(rd),ad()))}function sd(e,t){if(e instanceof Element){var n=e.getBoundingClientRect();return{height:n.height/t,width:n.width/t}}return{height:e.innerHeight/t,width:e.innerWidth/t}}function dd(e){return e instanceof Window?document.documentElement:e}function fd(e,t){var n=dd(e).getBoundingClientRect();return{top:n.top/t,left:n.left/t}}function pd(e,t,n){var r=function(e){var t=dd(e);return{top:t.scrollTop,left:t.scrollLeft}}(t),i=fd(e,n),a=fd(t,n);return{top:i.top+r.top-a.top,left:i.left+r.left-a.left}}var vd=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(e){var r,a;return Object(i.a)(this,n),(a=t.call(this,e))._isMounted=!1,a._positionFromTop=0,a._positionFromLeft=0,a._detectElementResize=ed(),a._child=void 0,a._registerChild=function(e){a._child=e,a.updatePosition()},a._onChildScroll=function(e){var t=e.scrollTop;if(a.state.scrollTop!==t){var n=a.props.scrollElement;n instanceof Window?n.scrollTo(0,t+a._positionFromTop):n.scrollTop=t+a._positionFromTop}},a._registerResizeListener=function(e){a._detectElementResize.addResizeListener(e,a._onResize)},a._unregisterResizeListener=function(e){a._detectElementResize.removeResizeListener(e,a._onResize)},a._onResize=function(){a.updatePosition()},a.__handleWindowScrollEvent=function(){if(a._isMounted){var e=a.props.onScroll,t=dd(a.props.scrollElement),n=Math.max(0,t.scrollLeft-a._positionFromLeft),r=Math.max(0,t.scrollTop-a._positionFromTop);a.setState({isScrolling:!0,scrollLeft:n,scrollTop:r}),e({scrollLeft:n,scrollTop:r})}},a.__resetIsScrolling=function(){a.setState({isScrolling:!1})},a.state=Object(s.a)(Object(s.a)({},sd(e.scrollElement,null!==(r=e.scale)&&void 0!==r?r:1)),{},{isScrolling:!1,scrollLeft:0,scrollTop:0}),a}return Object(a.a)(n,[{key:"updatePosition",value:function(){var e,t=this.props,n=t.scrollElement,r=t.onResize,i=t.scale,a=this.state,o=a.height,c=a.width,u=null!==(e=this._child)&&void 0!==e?e:ju.findDOMNode(this);if(u instanceof Element){var l=pd(u,n,null!==i&&void 0!==i?i:1);this._positionFromTop=l.top,this._positionFromLeft=l.left}var s=sd(n,null!==i&&void 0!==i?i:1);o===s.height&&c===s.width||(this.setState({height:s.height,width:s.width}),r({height:s.height,width:s.width}))}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this.updatePosition(),ud(this,e),this._registerResizeListener(e),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e){var t=this.props.scrollElement,n=e.scrollElement;n!==t&&(this.updatePosition(),ld(this,n),ud(this,t),this._unregisterResizeListener(n),this._registerResizeListener(t))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;ld(this,e),this._unregisterResizeListener(e),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.isScrolling,r=t.scrollTop,i=t.scrollLeft,a=t.height,o=t.width;return e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:a,isScrolling:n,scrollLeft:i,scrollTop:r,width:o})}}]),n}(jt.PureComponent);function hd(){var e=Object(Kt.a)(["\n            padding-top: ","px;\n            *:not(.highlight-view) &:not(:first-child),\n            .highlight-view:not(:first-child) & {\n                padding-top: ","px;\n            }\n        "]);return hd=function(){return e},e}function bd(){var e=Object(Kt.a)(["\n                padding-top: ","px;\n\n                *:not(.highlight-view) &:first-child,\n                .highlight-view:first-child & {\n                    padding-top: ","px;\n                }\n            "]);return bd=function(){return e},e}function md(){var e=Object(Kt.a)(["\n    ","\n\n    padding-bottom: ","px;\n"]);return md=function(){return e},e}function gd(e){if(null!==e)return e.id.startsWith("screenScrollView")?e:gd(e.parentElement)}vd.defaultProps={onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:window,serverHeight:0,serverWidth:0};var Od=qt.i.div(md(),(function(e){return e.topAlign?Object(qt.f)(hd(),e.hasTitle?e.theme.componentSmallInnerVerticalPadding:1,e.theme.componentSmallInnerVerticalPadding):Object(qt.f)(bd(),e.theme.componentSmallInnerVerticalPadding,Math.max(e.theme.list.topMargin,e.hasTitle?e.theme.componentSmallInnerVerticalPadding:1))}),(function(e){return e.theme.componentSmallInnerVerticalPadding})),yd=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={},r.privateRef=jt.createRef(),r.windowScroller=jt.createRef(),r.vlist=jt.createRef(),r.renderWidth=0,r.updateInterval=void 0,r.cache=void 0,r.rowHeight=function(e){return r.cache.rowHeight(e)},r.renderRow=function(e){var t=e.index,n=e.key,i=e.parent,a=e.style,o=r.listItems.get(t);if(Zs(o)){var c=o.onSeeAll;return jt.createElement(Ws.a,{key:n,cache:r.cache,parent:i,columnIndex:0,rowIndex:t},jt.createElement("div",{style:a,role:"row"},jt.createElement("div",{role:"cell"},jt.createElement(Qs,null,jt.createElement(gn,null,o.groupHeaderName),void 0!==c&&jt.createElement(Js,{onClick:c},Object(O.e)("seeAll"))))))}return jt.createElement(Ws.a,{key:n,cache:r.cache,parent:i,columnIndex:0,rowIndex:t},jt.createElement("div",{style:a,role:"row"},jt.createElement("div",{role:"cell"},r.props.children(o,n,r.renderWidth))))},r.onSeeAllClick=function(){void 0!==r.props.onSeeAllClick&&r.props.onSeeAllClick(!1)},r.cache=r.createCache(),r}return Object(a.a)(n,[{key:"createCache",value:function(){var e=this;return new Ws.b({defaultHeight:62,fixedWidth:!0,keyMapper:function(t){return e.props.hasUnevenRows?t:void 0!==e.props.groups&&Zs(e.listItems.get(t))?2:1}})}},{key:"componentDidMount",value:function(){var e=this;null!==this.ref.current&&(this.setState({scrollElement:gd(this.ref.current)}),void 0!==this.updateInterval&&clearInterval(this.updateInterval),this.updateInterval=setInterval((function(){e.windowScroller.current&&e.windowScroller.current.updatePosition()}),1e3))}},{key:"componentDidUpdate",value:function(e){!0===this.props.forceUpdate&&null!==this.vlist.current&&(this.cache.clearAll(),this.vlist.current.forceUpdateGrid()),this.props.hasUnevenRows!==e.hasUnevenRows&&this.cache.clearAll()}},{key:"componentWillUnmount",value:function(){void 0!==this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=void 0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.style,i=t.emptyMessage,a=t.onSeeAllClick;if(void 0===this.state.scrollElement)return jt.createElement("div",{ref:this.ref});if(0===this.listItems.length)return void 0===i?null:jt.createElement(Ga,{targetRef:this.ref},i);var o=Object(za.b)(n,[Ks.a]),c=""!==this.props.title||void 0!==a;return jt.createElement(Ut.ThemeProvider,{theme:o},jt.createElement(Vt.a.Consumer,null,(function(t){return jt.createElement(Od,Object.assign({"data-test":"app-vertical-list",hasTitle:c,topAlign:e.props.topAlign},e.props.highlightProps,{ref:e.ref,style:r}),c&&jt.createElement(On,null,jt.createElement(gn,null,e.props.title),void 0!==a&&jt.createElement(Js,{onClick:e.onSeeAllClick},Object(O.e)("seeAll"))),jt.createElement(vd,{ref:e.windowScroller,scrollElement:e.state.scrollElement,scale:t},(function(t){var n=t.width,r=t.height;return n&&r?("tablet"===Object(io.b)(e.props.appFeatures)&&(n=Math.min($s.a,n)),e.renderWidth!==n&&e.cache.clearAll(),e.renderWidth=n,jt.createElement("div",{ref:t.registerChild},jt.createElement(Hs.a,{key:e.listItems.length,ref:e.vlist,autoHeight:!0,width:n,height:r,isScrolling:t.isScrolling,scrollTop:t.scrollTop,estimatedRowSize:e.props.hasUnevenRows?500:300,deferredMeasurementCache:e.cache,rowHeight:e.rowHeight,rowCount:e.listItems.length,rowRenderer:e.renderRow,overscanRowCount:1}))):jt.createElement("div",null)})))})))}},{key:"listItems",get:function(){return new Xs(this.props.items,this.props.groups)}},{key:"ref",get:function(){return Object(Sr.withDefault)(this.props.highlightProps.ref,this.privateRef)}}]),n}(jt.Component),jd=Object(Ut.withTheme)(Object(pn.d)(yd));var kd=function(e){var t=jd;return jt.createElement(t,e)};var xd=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={selection:void 0,showDeleteConfirm:!1},e.bottomRef=jt.createRef(),e.onEditClick=Object(x.a)(k.a.mark((function t(){var n,r,i,a,o,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.credentials,i=n.onTapNew,a=r.isAuthenticated,o=r.username,c=r.email,a&&o.length>0&&c.length>0){t.next=11;break}return t.next=6,e.props.modals.openAuthModal(Object(O.e)("chat"),Ds.Username);case 6:if(t.sent){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,Object(Tt.requestPushNotificationPermissionIfNecessary)();case 11:void 0!==i?i():e.showOverlay();case 12:case"end":return t.stop()}}),t)}))),e.onEditorClosed=function(){e.hideOverlay()},e.onDeleteClick=function(){e.setState({showDeleteConfirm:!0})},e.onEditorSaved=function(t){e.hideOverlay(),e.props.postComment(e.props.credentials.username,e.props.credentials.email,t)},e.isFromSameAuthor=function(e,t){return e.email===t.email&&e.username===t.username},e.commentHasSameAuthorAsNext=function(t){var n=e.props.comments;return t+1!==n.length&&e.isFromSameAuthor(n[t],n[t+1])},e.scrollToEnd=function(){var t=gd(e.bottomRef.current);void 0!==t&&(t.scrollTop=1e7)},e.token=void 0,e.onLongPress=function(t){void 0!==e.props.deleteComments&&void 0===e.state.selection&&e.setState({selection:new Set})},e.onCancel=function(){e.setState({selection:void 0}),e.props.appUtilities.removeAppBarOverlay(e.token)},e.onSelected=function(t){var n=e.state.selection;void 0!==n&&((n=new Set(n)).has(t)?n.delete(t):n.add(t),e.setState({selection:n}))},e.onConfirmFinish=function(t){if(t&&void 0!==e.props.deleteComments&&void 0!==e.state.selection){var n=Array.from(e.state.selection);e.props.deleteComments(n),e.setState({selection:void 0,showDeleteConfirm:!1}),e.props.appUtilities.removeAppBarOverlay(e.token)}else e.setState({showDeleteConfirm:!1})},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=Object(x.a)(k.a.mark((function e(){var t,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,n=t.topic,r=t.appEnvironment,void 0!==n&&r.suppressNotificationTopic(n),this.scrollToEnd();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){this.props.comments.length!==e.comments.length&&this.scrollToEnd(),this.state.selection!==t.selection&&this.updateAppBarOverlay()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.topic,n=e.appEnvironment;void 0!==t&&n.unsuppressNotificationTopic(t)}},{key:"getMessagesString",value:function(){if(void 0!==this.state.selection)return 1===this.state.selection.size?"1 message":"".concat(this.state.selection.size," messages")}},{key:"updateAppBarOverlay",value:function(){if(void 0!==this.state.selection){var e="".concat(this.getMessagesString()," selected");this.token=this.props.appUtilities.overlayAppBar({title:e,barButtonItems:[{title:"Cancel",style:"text",icon:"00-01-glide-close",onClick:this.onCancel}]},this.token)}}},{key:"render",value:function(){var e,t,n,r=this;if(this.shouldRenderPortal()){var i,a=this.props.credentials;if(a.isAuthenticated&&a.email.length>0&&a.username.length>0){var o=this.props.renderEnvironment;i=jt.createElement(Ps,{renderEnvironment:o,title:Object(O.e)("newMessage"),placeholder:Object(O.e)("writeMessage"),saveText:Object(O.e)("send"),saveIcon:"send",saved:this.onEditorSaved,closed:this.onEditorClosed,allowEmpty:!1}),e=this.getPortal(i)}}else{var c=void 0!==this.state.selection?Nt.u:Nt.o,u=void 0===this.state.selection||this.state.selection.size>0,l=void 0===this.state.selection?void 0:this.props.theme.destroyColor,s=void 0===this.state.selection?this.onEditClick:this.onDeleteClick;t=jt.createElement(zu,{"data-test":"app-new-chat-wrap"},jt.createElement(su.b,{color:l,isEnabled:u,onClick:s},jt.createElement(c,{size:24,color:this.props.theme.accentForegroundColor})))}this.state.showDeleteConfirm&&(n=Object(ju.createPortal)(jt.createElement(Is.a,{title:"Are you sure you want to delete ".concat(this.getMessagesString(),"?"),description:"This action cannot be undone",accept:"Delete",cancel:"Cancel",modalStyle:h.a.Delete,onFinish:this.onConfirmFinish}),Object(A.cb)(document.getElementById(pa.a))));var d=this.props.comments;return 0===d.length?jt.createElement(jt.Fragment,null,jt.createElement(Ga,{forceDisplay:!0},e,n,Object(O.e)("noMessages"),jt.createElement("div",{ref:this.bottomRef})),t):jt.createElement(jt.Fragment,null,jt.createElement(Uu,null,e,n,d.map((function(e,t){var n="normal",i=r.commentHasSameAuthorAsNext(t);void 0!==r.state.selection&&(n=r.state.selection.has(e.documentID)?"selected":"unselected");var a,o=e.username,c=r.props.userProfiles;if(void 0!==c){var u,l=c.find((function(t){return t.email===e.email}));if(void 0!==l)o=null!==(u=l.name)&&void 0!==u?u:o,a=l.image}return jt.createElement(dl,{token:e.documentID,onLongPress:r.onLongPress,onSelected:r.onSelected,bubbleStyle:n,key:t,orientation:e.email===r.props.credentials.email?"right":"left",text:e.comment,userEmail:Object(Sr.withDefault)(e.email,""),image:a,userName:o,useAccent:!0,isFromSameAuthor:i})})),jt.createElement("div",{ref:this.bottomRef})),t)}}]),n}(Ml),Cd=zs(Object(_s.a)(Object(Ut.withTheme)(xd)));function wd(e){return jt.createElement(Rt,null,(function(t){return jt.createElement(Cd,Object.assign({},e,{appUtilities:t}))}))}function Sd(){var e=Object(Kt.a)(["\n    ","\n    margin-bottom: 8px;\n    margin-left: 16px;\n    color: ",";\n"]);return Sd=function(){return e},e}function Ed(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n\n    padding: 12px 0;\n"]);return Ed=function(){return e},e}function Md(){var e=Object(Kt.a)(["\n    flex-shrink: 0;\n    border-radius: 4px;\n    margin-top: 6px;\n    height: 16px;\n    width: 30%;\n    background-color: ",";\n"]);return Md=function(){return e},e}function Rd(){var e=Object(Kt.a)(["\n    display: inline-block;\n    margin-left: 3px;\n    color: ",";\n    ",";\n    font-size: 12px; // fixme\n"]);return Rd=function(){return e},e}function Dd(){var e=Object(Kt.a)(["\n    height: 20px;\n    border-radius: 4px;\n    width: 80%;\n    background-color: ",";\n"]);return Dd=function(){return e},e}function Td(){var e=Object(Kt.a)(["\n    color: ",";\n    background-color: ",";\n    border-radius: 5px;\n    border-top-left-radius: 0;\n    padding: 4px 8px 0 8px;\n    flex-grow: 1;\n    word-break: break-word;\n\n    p {\n        margin-bottom: 0.5em;\n    }\n"]);return Td=function(){return e},e}function Pd(){var e=Object(Kt.a)(["\n    color: ",";\n    display: inline-block;\n    word-break: break-word;\n    margin-bottom: 0.2em;\n    ",";\n"]);return Pd=function(){return e},e}function Id(){var e=Object(Kt.a)(["\n    color: ",";\n"]);return Id=function(){return e},e}function _d(){var e=Object(Kt.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    margin-left: 8px;\n"]);return _d=function(){return e},e}function Nd(){var e=Object(Kt.a)(["\n    display: flex;\n\n    padding: 0 16px;\n    margin-bottom: 12px;\n\n    ","\n"]);return Nd=function(){return e},e}var Ad=qt.i.div(Nd(),(function(e){return e.theme.fontStyles.Body5})),Fd=qt.i.div(_d()),Ld=qt.i.div(Id(),(function(e){return e.theme.destroyColor})),Bd=qt.i.div(Pd(),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fontStyles.Header5})),Vd=qt.i.div(Td(),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.offBaseColor})),Ud=qt.i.div(Dd(),(function(e){return e.theme.skeletonColor})),zd=qt.i.div(Rd(),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.fontStyles.Header5})),Wd=qt.i.div(Md(),(function(e){return e.theme.skeletonColor})),Hd=qt.i.div(Ed()),Kd=qt.i.div(Sd(),(function(e){return e.theme.fontStyles.Header4}),(function(e){return e.theme.fgColorDark}));function qd(){var e=Object(Kt.a)(["\n    ","\n    margin-left: 10px;\n\n    color: ",";\n"]);return qd=function(){return e},e}function Gd(){var e=Object(Kt.a)(["\n    display: flex;\n    padding: 0px ","px;\n\n    align-items: center;\n"]);return Gd=function(){return e},e}var Jd=qt.i.div(Gd(),(function(e){return e.theme.pageMarginMedium})),Zd=qt.i.div(qd(),(function(e){return e.theme.fontStyles.Subheader5}),(function(e){return e.theme.primaryAccentColor}));var Xd=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={comment:""},e.onClick=function(){var t=Object(x.a)(k.a.mark((function t(n){var r,i,a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.credentials,i=r.username,a=r.email,r.isAuthenticated&&a.length>0&&i.length>0){t.next=9;break}return t.next=6,e.props.modals.openAuthModal(Object(O.e)("comment"),Ds.Username);case 6:if(t.sent){t.next=9;break}return t.abrupt("return");case 9:return void 0!==e.props.onTapNew?e.props.onTapNew():e.showOverlay(),t.next=12,Object(Tt.requestPushNotificationPermissionIfNecessary)();case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onUserImageClick=function(){var t=Object(x.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),t.next=3,e.props.modals.openAuthModal(Object(O.e)("comment"),Ds.Username,!0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSaved=function(t){e.onClosed();var n=e.props.credentials,r=n.username,i=n.email;r.length>0&&e.props.postComment(r,i,t)},e.onClosed=function(){e.hideOverlay()},e}return Object(a.a)(n,[{key:"render",value:function(){var e,t=this.props.credentials,n=t.username,r=t.email,i=this.props.renderEnvironment;if(this.shouldRenderPortal()){var a=jt.createElement(Ps,{renderEnvironment:i,title:Object(O.e)("comment"),placeholder:Object(O.e)("writeAComment"),saved:this.onSaved,saveIcon:"send",saveText:Object(O.e)("post"),closed:this.onClosed,allowEmpty:!1});e=this.getPortal(a)}return jt.createElement(jt.Fragment,null,jt.createElement(Jd,{onClick:this.onClick},jt.createElement(ll,{onClick:this.onUserImageClick,size:38,username:n,email:r}),jt.createElement(Zd,null,Object(O.e)("addComment"))),e)}}]),n}(Ml),Yd=zs(Object(_s.a)(Xd)),Qd=n(185),$d=n(66),ef=n(56);function tf(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var nf=function(e){Object(c.a)(n,e);var t=tf(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showDelete:!1,isDeleting:!1},e.onRightClick=function(t){void 0!==e.props.onDelete&&(t.preventDefault(),e.setState({showDelete:!e.state.showDelete}))},e.onDeleteClicked=function(){void 0!==e.props.onDelete&&(e.props.onDelete(),e.setState({isDeleting:!0,showDelete:!1}))},e}return Object(a.a)(n,[{key:"getDateString",value:function(e,t,n){var r=e.getTime()-n.getTime();if((r=Math.floor(r/6e4))<3)return Object(O.e)("justNow");if(r<60)return Object(O.a)("nMinutes",[r.toString()]);var i=t.getTime(),a=n.getTime()>i,o=!a&&n.getTime()>i-864e5;return 1===(r=Math.floor(r/60))?Object(O.e)("oneHour"):r<12?Object(O.a)("nHours",[r.toString()]):a?Object(O.e)("today"):o?Object(O.e)("yesterday"):r<168?Object(ef.c)(n,ef.a.WeekdayOnly,void 0):Object(O.b)(n,!1)}},{key:"render",value:function(){var e,t=this.props,n=t.username,r=t.email,i=t.comment,a=t.dateTime,o=t.image,c=i.split("\n");e=0===c.length?i:c.map((function(e,t){return[jt.createElement("p",{key:t},e)]}));var u=Object(A.B)(),l=Object(A.U)(u);return jt.createElement(Ad,{"data-test":"app-comment",onContextMenu:this.onRightClick},jt.createElement(ll,{size:38,username:n,email:r,image:o}),jt.createElement(Fd,null,jt.createElement(Vd,null,jt.createElement(Bd,null,n),jt.createElement(zd,null,this.getDateString(u,l,a)),e),jt.createElement(Qd.a,{isHidden:!this.state.showDelete,anchor:$d.a.BottomRight,minWidth:135},jt.createElement(Qd.b,{onClick:this.onDeleteClicked},jt.createElement(Ld,null,"Delete comment")))))}}]),n}(jt.Component),rf=function(e){Object(c.a)(n,e);var t=tf(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return jt.createElement(Ad,null,jt.createElement(ll,{color:this.props.theme.skeletonColor,size:38,username:""}),jt.createElement(Fd,null,jt.createElement(Ud,null),jt.createElement(Wd,null)))}}]),n}(jt.Component),af=Object(Ut.withTheme)(rf);function of(){return jt.createElement(Hd,null,jt.createElement(Kd,{hasComments:!0},Object(O.e)("loadingComments")),jt.createElement(af,null))}var cf=function(e){Object(c.a)(n,e);var t=tf(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={deletedComments:[]},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.topic,n=e.appEnvironment;void 0!==t&&n.suppressNotificationTopic(t)}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=e.topic,n=e.appEnvironment;void 0!==t&&n.unsuppressNotificationTopic(t);var r=this.props,i=r.topic,a=r.appEnvironment;return void 0!==i&&a.suppressNotificationTopic(i),null}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.topic,n=e.appEnvironment;void 0!==t&&n.unsuppressNotificationTopic(t)}},{key:"render",value:function(){var e,t=this,n=this.props.comments.filter((function(e){return-1===t.state.deletedComments.indexOf(e.documentID)})).map((function(e,n){var r;void 0!==t.props.deleteComments&&(r=function(){void 0!==t.props.deleteComments&&t.props.deleteComments([e.documentID]),t.setState({deletedComments:[].concat(Object(_t.a)(t.state.deletedComments),[e.documentID])})});var i,a=e.username,o=t.props.userProfiles;if(void 0!==o){var c,u=o.find((function(t){return t.email===e.email}));if(void 0!==u)a=null!==(c=u.name)&&void 0!==c?c:a,i=u.image}return jt.createElement(nf,Object.assign({key:e.dateTime.toString()},e,{image:i,username:a,onDelete:r}))}));return e=0===n.length?Object(O.e)("noComments"):1===n.length?Object(O.e)("oneComment"):Object(O.a)("moreComments",[n.length.toString()]),jt.createElement(Hd,Object.assign({"data-test":"app-comments-preview"},this.props.highlightProps),jt.createElement(Kd,{hasComments:n.length>0},e),n,jt.createElement(Yd,{appEnvironment:this.props.appEnvironment,onTapNew:this.props.onTapNew,postComment:this.props.postComment,renderEnvironment:this.props.renderEnvironment}))}}]),n}(jt.Component),uf=Object(pn.d)(cf);function lf(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=Object(p.v)(e)[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var u=o.value.getObjectInspector(t);if(Object(p.K)(u)){var l=Object(p.M)(Object(d.definedMap)(u.getProperty("username"),t),p.F),s=Object(p.M)(Object(d.definedMap)(u.getProperty("email"),t),p.F),f=Object(p.M)(Object(d.definedMap)(u.getProperty("dateTime"),t),p.z),v=Object(p.M)(Object(d.definedMap)(u.getProperty("comment"),t),p.F),h=Object(p.M)(Object(d.definedMap)(u.getProperty(D.j),t),p.F);void 0!==l&&void 0!==f&&void 0!==v&&void 0!==h&&n.push({username:l,email:s,dateTime:f,comment:v,documentID:h})}}}catch(b){i=!0,a=b}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}function sf(e,t){var n;if(void 0!==e)return Object(A.V)(null!==(n=Object(p.M)(e,p.v))&&void 0!==n?n:[],(function(e){var n=e.getObjectInspector(t);if(Object(p.K)(n)){var r=Object(p.M)(Object(d.definedMap)(n.getProperty("email"),t),p.F);if(void 0!==r)return{email:r,name:Object(p.M)(Object(d.definedMap)(n.getProperty("name"),t),p.F),image:Object(p.M)(Object(d.definedMap)(n.getProperty("image"),t),p.F)}}}))}var df=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,6),c=o[0],u=o[1],l=o[2],s=o[3],d=o[4],f=o[5];if(c===B.i)return jt.createElement(of,null);if(void 0===c)return null;var v,h,m=lf(c,a),g=sf(f,a);return Object(p.K)(s)&&n.appEnvironment.isBuilder&&(v=function(e){Object(B.o)(s).run(b.c.fromJSON(e),n,B.d.DeleteComments)}),Object(p.K)(l)&&(h=function(){Object(p.K)(l)&&Object(B.o)(l).run(t,n,B.d.Note)}),jt.createElement(uf,{appEnvironment:n.appEnvironment,renderEnvironment:n,comments:m,postComment:function(e,t,r){Object(p.K)(u)&&Object(B.o)(u).run(b.c.fromJSON({username:e,email:t,comment:r}),n,B.d.PostComment)},onTapNew:h,deleteComments:v,topic:Object(p.M)(d,p.F),userProfiles:g})}}]),e}(),ff=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,6),c=o[0],u=o[1],l=o[2],s=o[3],d=o[4],f=o[5];if(c===B.i)return null;if(void 0===c)return null;var v,h,m=lf(c,a),g=sf(f,a);return Object(p.K)(s)&&n.appEnvironment.isBuilder&&(v=function(e){Object(B.o)(s).run(b.c.fromJSON(e),n,B.d.DeleteComments)}),Object(p.K)(l)&&(h=function(){Object(p.K)(l)&&Object(B.o)(l).run(t,n,B.d.Note)}),jt.createElement(wd,{appEnvironment:n.appEnvironment,renderEnvironment:n,comments:m,onTapNew:h,postComment:function(e,t,r){Object(p.K)(u)&&Object(B.o)(u).run(b.c.fromJSON({username:e,email:t,comment:r}),n,B.d.PostComment)},deleteComments:v,topic:Object(p.M)(d,p.F),userProfiles:g})}}]),e}(),pf=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,3),o=a[0],c=a[1],u=a[2],l=Object(r.a)(i,1)[0];if(o===B.i)return null;var s=!Object(p.K)(c)||!1!==u;return jt.createElement(Pi.a,{checked:Object(p.x)(o),onChanged:function(e){void 0!==l&&(l.set(e),Object(p.K)(c)&&void 0!==t&&void 0!==n&&Object(B.o)(c).run(t,n,B.d.Switch))},isEnabled:s})}}]),e}();function vf(){var e=Object(Kt.a)(["\n    position: relative;\n\n    ",";\n\n    & > input {\n        position: absolute;\n        width: 0;\n        height: 0;\n    }\n\n    display: flex;\n    align-items: ",";\n\n    & > svg {\n        min-width: 24px;\n        color: ",";\n    }\n\n    padding: ","px ","px;\n\n    .text-wrapper {\n        margin-left: 12px;\n    }\n\n    .title {\n        color: ",";\n\n        ","\n    }\n\n    .description {\n        color: ",";\n\n        ",";\n        margin-top: ","px;\n    }\n"]);return vf=function(){return e},e}var hf=qt.i.label(vf(),(function(e){return!e.isEnabled&&qt.g}),(function(e){return e.singleItem?"center":"flex-start"}),(function(e){return e.checked?e.theme.primaryAccentColor:e.theme.fgColorMedium}),(function(e){return e.theme.componentInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fontStyles.Header4}),(function(e){return e.theme.fgColorMedium}),(function(e){return e.theme.fontStyles.Body5}),(function(e){return e.singleItem?0:4})),bf=function(e){return jt.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",fill:"currentColor"}),jt.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 17L5 12.1923L6.4 10.8462L10 14.3077L17.6 7L19 8.34615L10 17Z",fill:e.theme.accentForegroundColor}))},mf=function(e){return jt.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 5V19H5V5H19ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3Z",fill:"currentColor"}))};var gf=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=e.checked,r=e.title,i=e.description,a=e.className,o=e.onChanged,c=e.theme,u=e.highlightProps,l=n?bf:mf,s=!Object(A.F)(r)&&Object(A.F)(i),d=Object(A.F)(r)&&!Object(A.F)(i),f=s||d;return jt.createElement(hf,Object.assign({className:a,"data-test":"app-checkbox-list-item",isEnabled:t,checked:n,singleItem:f},u,{ref:u.ref}),jt.createElement("input",{type:"checkbox",checked:n,onChange:function(){return o(!n)}}),jt.createElement(l,{theme:c}),jt.createElement("div",{className:"text-wrapper"},jt.createElement("div",{className:"title"},r),jt.createElement("div",{className:"description"},i)))}}]),n}(jt.PureComponent),Of=Object(pn.d)(Object(Ut.withTheme)(gf)),yf=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,5),o=a[0],c=a[1],u=a[2],l=a[3],s=a[4],f=Object(r.a)(i,1)[0];if(o===B.i||c===B.i||u===B.i)return n.renderProgress();var v=!Object(p.K)(l)||!1!==s;return jt.createElement(Of,{title:Object(d.definedMap)(c,p.F),description:Object(d.definedMap)(u,p.F),checked:Object(p.x)(o),onChanged:function(e){void 0!==f&&(f.set(e),Object(p.K)(l)&&void 0!==t&&void 0!==n&&Object(B.o)(l).run(t,n,B.d.Switch))},isEnabled:v})}}]),e}();function jf(){var e=Object(Kt.a)(["\n    margin-left: 16px;\n\n    flex-shrink: 0;\n\n    height: 48px;\n    border-bottom: 1px solid ",";\n\n    color: ",";\n\n    :active {\n        background-color: ",";\n    }\n\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n"]);return jf=function(){return e},e}function kf(){var e=Object(Kt.a)(["\n    display: flex;\n    position: relative;\n    flex-direction: column;\n    align-items: stretch;\n    min-height: 100%;\n    height: 100%;\n\n    ::-webkit-scrollbar {\n        display: none;\n    }\n\n    overflow-y: auto;\n\n    padding-top: ","px;\n\n    font-family: ",";\n"]);return kf=function(){return e},e}var xf=qt.i.div(kf(),(function(e){return"Android"!==e.theme.navBar.style&&e.showSearch?e.theme.navBar.heightWithSearch:e.theme.navBar.height}),rl.e),Cf=qt.i.div(jf(),(function(e){return e.theme.separatorColor}),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.offBaseColor}));var wf=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={searchValue:"",itemsWithIndex:[],filteredItems:[]},e.onSearchChanged=function(t){var n=t.target.value.toString().toLowerCase(),r=e.state.itemsWithIndex.filter((function(e){return e.item.toString().toLowerCase().includes(n)}));e.setState({searchValue:n,filteredItems:r})},e.onSearchCleared=function(){e.setState({searchValue:""})},e}return Object(a.a)(n,[{key:"componentWillMount",value:function(){var e=this.props.items.map((function(e,t){return{item:e,index:t}}));this.setState({itemsWithIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.onFinish,r=e.renderEnvironment,i=this.state,a=i.searchValue,o=i.itemsWithIndex,c=i.filteredItems,u={title:Object(O.e)("close"),icon:"00-glide-close",onClick:function(){return n(void 0)},style:"platform-cancel"},l=o.length>=10,s=(""!==a&&l?c:o).map((function(e){return jt.createElement(Cf,{key:e.index,onClick:function(){return n(e.index)}},e.item)})),d="tablet"===r.sizeClass?"modal-anim-tag-tablet":"modal-anim-tag";return jt.createElement(jt.Fragment,null,jt.createElement(xf,{className:d,showSearch:l},s),jt.createElement(Es,{renderEnvironment:r,title:t,barButtonItems:[u],searchValue:l?a:void 0,onSearchChanged:l?this.onSearchChanged:void 0,onSearchCleared:l?this.onSearchCleared:void 0}))}}]),n}(jt.PureComponent);var Sf=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={},e.onBoxClick=function(){void 0!==e.props.onPushScreen?e.props.onPushScreen():e.showOverlay()},e.onPickerClosed=function(t){e.hideOverlay(),void 0!==t&&void 0!==e.props.onSelect&&e.props.onSelect(t)},e}return Object(a.a)(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.items,i=n.current,a=n.header,o=n.isEnabled,c=n.isRequired,u=n.highlightProps,l=n.renderEnvironment;return this.shouldRenderPortal()&&(e=this.getPortal(jt.createElement(wf,{renderEnvironment:l,items:r,title:a,onFinish:this.onPickerClosed}))),i>=0&&i<r.length&&(t=r[i]),jt.createElement($n,u,jt.createElement(er,null,a),jt.createElement(tr,{"data-test":"app-picker-button",enabled:o,onClick:this.onBoxClick},jt.createElement(nr,null,t),jt.createElement(rr,null,jt.createElement(Nt.a,{size:24}))),c&&jt.createElement("div",{className:"sp-footer"},Object(O.e)("required")),e)}}]),n}(Ml),Ef=Object(pn.d)(Sf),Mf=n(775);var Rf=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,8),c=o[0],u=o[1],l=o[2],s=o[3],f=o[4],v=o[5],h=o[6],b=o[7],m=Object(r.a)(i,1)[0];if(c===B.i||l===B.i||u===B.i)return null;if(void 0===u)return n.renderProgress();var g=Object(p.N)(h,Mf.a.Dropdown,p.F),O=function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=(null!==(u=Object(p.M)(e,p.v))&&void 0!==u?u:[])[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var u,l=o.value,s=l.getObjectInspector(t);if(s!==B.i)if(void 0!==s){var f=Object(d.definedMap)(s.getProperty("name"),t),v=Object(d.definedMap)(s.getProperty("value"),t);if(!Object(p.K)(f)||!Object(p.K)(v))continue;n.push({name:Object(p.F)(f),value:v})}else{var h=t(l);if(!Object(p.K)(h))continue;n.push({name:Object(p.F)(h),value:h})}}}catch(b){i=!0,a=b}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(u,a),j=!0===v;j||O.unshift({name:"\u2014",value:void 0});var k=function(e){var r;if(void 0!==m){var i=null!==(r=O[e].value)&&void 0!==r?r:"";m.set(i),Object(p.K)(s)&&void 0!==t&&void 0!==n&&Object(B.o)(s).run(t,n,B.d.Switch)}},x=Object(p.M)(b,B.o),C=Object(d.definedMap)(x,(function(e){return function(){return e.run(t,n,B.d.Switch)}})),w=!Object(p.K)(s)||!1!==f,S=O.findIndex((function(e){return Object(y.g)(c,e.value)||""===c&&void 0===e.value})),E=O.map((function(e){return e.name}));return g===Mf.a.Dropdown?jt.createElement(Ef,{renderEnvironment:n,isEnabled:w,isRequired:j,items:E,onSelect:k,current:S,header:Object(p.F)(l),onPushScreen:w?C:void 0}):jt.createElement(Sn,{header:Object(p.F)(l),items:E,current:S,onClick:k})}}]),e}();function Df(){var e=Object(Kt.a)(["\n    width: ","px;\n    height: 48px;\n\n    padding: ","px ","px;\n\n    .cbs-inner {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        background-color: ",";\n        border-radius: 1000px;\n        color: white;\n\n        width: 24px;\n        height: 24px;\n    }\n"]);return Df=function(){return e},e}var Tf,Pf=qt.i.div(Df(),(function(e){return 2*e.theme.pageMarginMedium+24}),(function(e){return e.theme.componentInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.destroyColor})),If=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,2),o=a[0],c=a[1];Object(r.a)(i,1)[0];if(o===B.i)return n.renderProgress();var u=Object(p.F)(o);return jt.createElement(Pf,{onClick:function(){Object(p.K)(c)&&void 0!==t&&void 0!==n&&Object(B.o)(c).run(t,n,v.a.None)}},jt.createElement("div",{className:"cbs-inner"},jt.createElement(Nn.a,{icon:u,size:12})))}}]),e}(),_f=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,2),a=i[0],o=i[1];if(a===B.i)return n.renderProgress();var c=Object(B.q)(a).render(t,n);if(o===B.i)return c;return jt.createElement(Xa,{onClick:function(){return Object(B.o)(o).run(t,n,B.d.Clickable)}},c)}}]),e}(),Nf=n(174),Af=function(e){var t=e.items,n=e.children;return jt.createElement(jt.Fragment,null,t.map(n))};!function(e){e.None="none",e.Bottom="bottom"}(Tf||(Tf={}));var Ff=n(276);n(755);function Lf(){var e=Object(Kt.a)(["\n    position: sticky;\n    bottom: calc(var(--bottom-bar-padding) + var(--safe-area-inset-bottom));\n\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n\n    & > .content-region {\n        background-color: ",";\n\n        ","\n\n        border-top: solid 1px ",";\n\n        padding-top: 8px;\n    }\n"]);return Lf=function(){return e},e}var Bf=qt.i.div(Lf(),(function(e){return e.theme.primaryOverlayColor}),(function(e){return Object(qt.d)({backgroundColor:e.theme.transparentOverlayColor})}),(function(e){return e.theme.separatorColor})),Vf=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var r=Object(Nf.a)(e),i=(r[0],r[1]),a=r.slice(2);return jt.createElement(Ff.a,null,(function(e){var r;return r=jt.createElement(Af,{items:a},(function(e,r){return e===B.i?jt.createElement(jt.Fragment,{key:r},n.renderProgress()):void 0!==e?jt.createElement(jt.Fragment,{key:r},Object(B.q)(e).render(t,n)):void 0})),i===Tf.Bottom&&(r=jt.createElement(Bf,null,jt.createElement("div",{className:"content-region"},r))),r}))}}]),e}();var Uf=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"variant",value:function(){return"date"}}]),n}(Hn);function zf(){var e=Object(Kt.a)(["\n    border-radius: 6px;\n\n    background-color: ",";\n    color: ",";\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    line-height: 36px;\n    font-size: 34px;\n    text-align: center;\n    font-weight: bold;\n\n    padding: 20px;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n"]);return zf=function(){return e},e}function Wf(){var e=Object(Kt.a)(["\n    background-color: ",";\n    object-fit: cover;\n    border-radius: 6px;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n\n    // For emoji:\n    font-size: 70px;\n"]);return Wf=function(){return e},e}function Hf(){var e=Object(Kt.a)(["\n    position: relative;\n    height: ","px;\n    width: ","px;\n"]);return Hf=function(){return e},e}function Kf(){var e=Object(Kt.a)(["\n    padding: 0 ","px ","px;\n    &:hover {\n        cursor: pointer;\n    }\n    flex: 50%;\n    flex-shrink: 1;\n\n    min-width: 1px;\n\n    position: relative;\n"]);return Kf=function(){return e},e}function qf(){var e=Object(Kt.a)(["\n    color: ",";\n    ",";\n\n    width: 100%;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n"]);return qf=function(){return e},e}function Gf(){var e=Object(Kt.a)(["\n    color: ",";\n    ",";\n    margin: 4px 0 0 0;\n\n    width: 100%;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n"]);return Gf=function(){return e},e}var Jf=qt.i.div(Gf(),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.gridItem.title.fontStyle})),Zf=qt.i.div(qf(),(function(e){return e.theme.fgColorMedium}),(function(e){return e.theme.gridItem.subtitle.fontStyle})),Xf=qt.i.div(Kf(),(function(e){return e.theme.pageMarginMedium/2}),(function(e){return e.theme.pageMarginMedium})),Yf=qt.i.div(Hf(),(function(e){return e.height}),(function(e){return e.width})),Qf=Object(qt.i)(Ti.a)(Wf(),(function(e){return e.theme.skeletonColor})),$f=qt.i.div(zf(),(function(e){return Object(rl.b)(e.theme)}),(function(e){return Object(rl.c)(e.theme)}));var ep=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={url:""},e.ImageWithFallback=function(t){var n=t.columnWidth,r=t.imageSource,i=t.fallback,a=t.onDropImage,o=e.state.url;if(void 0===n)return jt.createElement(Fo.AutoSizer,{disableHeight:!0},(function(t){var n=t.width,c=n;Object(We.c)(r)&&e.updateUrl(Object(A.n)(r),n,c,15);var u=jt.createElement(Qf,{onDropImage:a,src:o,alternate:i});return jt.createElement(Yf,{height:c,width:n},u)}));var c=n-rl.f,u=c;Object(We.c)(r)&&e.updateUrl(Object(A.n)(r),c,u,15);var l=jt.createElement(Qf,{onDropImage:a,src:o,alternate:i});return jt.createElement(Yf,{height:u,width:c},l)},e.onClick=function(){return Object(A.n)(e.props.onClick)(!1)},e}return Object(a.a)(n,[{key:"updateUrl",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n,r,i){var a,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="light"===this.props.theme.mapTheme?We.b.Light:We.b.Dark,e.next=3,Object(We.f)(this.props.appEnvironment,t,n,r,i,a);case 3:void 0!==(o=e.sent)&&o!==this.state.url&&this.setState({url:o});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.title,n=e.subtitle,r=e.imageSource,i=e.fallbackInitials,a=e.columnWidth,o=e.onClick,c=Object(d.definedMap)(i,(function(e){return jt.createElement($f,null,e)}));return jt.createElement(Xf,{onClick:void 0===o?void 0:this.onClick},jt.createElement(this.ImageWithFallback,{onDropImage:this.props.onDropImage,fallback:c,imageSource:r,columnWidth:a}),jt.createElement(Jf,null,t),jt.createElement(Zf,null,n))}}]),n}(jt.Component),tp=Object(Ut.withTheme)(ep),np=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,6),c=o[0],u=o[1],l=(o[2],o[3]),s=o[4],f=o[5],v=Object(r.a)(i,3)[2];if(c===B.i)return n.renderProgress();var h,b=Object(We.d)(c,u,v,a),m=b.title,g=b.subtitle,O=b.imageSource;h=l===B.i?"":Object(d.definedMap)(l,p.F);var y=Qa(s,B.d.ColumnItem,t,n).onClick;return jt.createElement(tp,{appEnvironment:n.appEnvironment,title:m,subtitle:g,imageSource:O,fallbackInitials:h,onClick:y,onDropImage:Object(We.h)(n,f,B.d.ColumnItem),columnWidth:n.columnWidth})}}]),e}();function rp(){var e=Object(Kt.a)(["\n    flex: 50%;\n    flex-shrink: 1;\n\n    min-width: 1px;\n"]);return rp=function(){return e},e}function ip(){var e=Object(Kt.a)(["\n    display: flex;\n\n    padding: 0 ","px;\n"]);return ip=function(){return e},e}var ap=qt.i.div(ip(),(function(e){return e.outerPadding/2})),op=qt.i.div(rp());var cp=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,2),a=i[0],o=i[1];if(a===B.i||o===B.i)return n.renderProgress();var c=Object(p.v)(a),u=function(e,t){for(var n=[],r=0,i=0;r<e.length;r++)r>=t&&r%t===0&&i++,n[i]=n[i]||[],n[i].push(e[r]);return n}(c,2);return jt.createElement(kd,{title:"",topAlign:!1,key:"ColumnList"+c.length.toString(),hasUnevenRows:!1,appFeatures:n.appEnvironment.appFeatures,items:u},(function(e,t,r){var i=rl.f,a=Object(A.o)(r,void 0,(function(e){return Math.floor((e-i)/2)})),c=n.with({columnWidth:a});return jt.createElement(ap,{key:t,outerPadding:i},jt.createElement(jt.Fragment,null,Object(B.q)(o).render(e[0],c)),e.length>1&&jt.createElement(jt.Fragment,null,Object(B.q)(o).render(e[1],c)),1===e.length&&jt.createElement(op,null))}))}}]),e}();function up(){var e=Object(Kt.a)(["\n    background-color: ",";\n    color: ",";\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    line-height: 36px;\n    font-size: 34px;\n    text-align: center;\n    font-weight: bold;\n\n    padding: 20px;\n\n    width: 100%;\n    height: 100%;\n"]);return up=function(){return e},e}function lp(){var e=Object(Kt.a)(["\n    background-color: ",";\n\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n\n    // Emoji\n    font-size: 50px;\n"]);return lp=function(){return e},e}var sp=Object(qt.i)(Ti.a)(lp(),(function(e){return e.theme.skeletonColor})),dp=qt.i.div(up(),(function(e){return Object(rl.b)(e.theme)}),(function(e){return Object(rl.c)(e.theme)}));var fp=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(a.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.src,r=t.onDropImage,i=t.onClick;return void 0!==this.props.fallback&&(e=jt.createElement(dp,null,this.props.fallback)),jt.createElement(sp,{onDropImage:r,src:n,onClick:i,alternate:e})}}]),n}(jt.PureComponent),pp=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,6),c=o[0],u=o[1],l=(o[2],o[3]),s=o[4],f=o[5],v=Object(r.a)(i,3)[2];if(c===B.i)return n.renderProgress();var h,b=Object(We.d)(c,u,v,a).imageSource;h=l===B.i?"":Object(d.definedMap)(l,p.F);var m,g=Object(p.M)(s,(function(e){return function(){return Object(B.o)(e).run(t,n,B.d.GridItem)}}));return void 0!==b&&(m=Object(We.e)(b,{thumbnail:!1},n.appEnvironment.appID)),jt.createElement(fp,{src:m,onClick:g,onDropImage:Object(We.h)(n,f,B.d.GalleryItem),fallback:h})}}]),e}();function vp(){var e=Object(Kt.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    grid-template-rows: ","px;\n    grid-column-gap: 1px;\n\n    margin-bottom: 1px;\n"]);return vp=function(){return e},e}var hp=qt.i.div(vp(),(function(e){return" minmax(10px, 1fr)".repeat(e.columns)}),(function(e){return e.rowHeight})),bp=n(825);var mp=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,3),a=i[0],o=i[1],c=i[2];if(a===B.i||o===B.i)return n.renderProgress();var u,l=Object(p.N)(c,bp.a.Three,p.F);try{u=Number.parseInt(l,10)}catch(f){u=3}var s=Object(p.v)(a),d=function(e,t){for(var n=[],r=0,i=0;r<e.length;r++)r>=t&&r%t===0&&i++,n[i]=n[i]||[],n[i].push(e[r]);return n}(s,u);return jt.createElement(kd,{title:"",topAlign:!0,appFeatures:n.appEnvironment.appFeatures,key:"GalleryList"+s.length.toString(),hasUnevenRows:!1,items:d},(function(e,t,r){var i=(Object(A.n)(r)-3)/u;return jt.createElement(hp,{columns:u,rowHeight:i},e.map((function(e,t){return jt.createElement(jt.Fragment,{key:t},Object(B.q)(o).render(e,n))})))}))}}]),e}();function gp(){var e=Object(Kt.a)(["\n    font-size: 34px;\n    text-align: center;\n    font-weight: bold;\n\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    width: 100%;\n    overflow: hidden;\n"]);return gp=function(){return e},e}function Op(){var e=Object(Kt.a)(["\n    border-radius: 6px;\n\n    background-color: ",";\n    color: ",";\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    padding: 20px;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n"]);return Op=function(){return e},e}function yp(){var e=Object(Kt.a)(["\n    background-color: ",";\n    object-fit: cover;\n    border-radius: 6px;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n\n    // Emoji\n    font-size: 50px;\n"]);return yp=function(){return e},e}function jp(){var e=Object(Kt.a)(["\n    position: relative;\n    height: ","px;\n    width: ","px;\n"]);return jp=function(){return e},e}function kp(){var e=Object(Kt.a)(["\n    margin: 0 ","px ","px;\n    &:hover {\n        cursor: pointer;\n    }\n"]);return kp=function(){return e},e}function xp(){var e=Object(Kt.a)(["\n    color: ",";\n    ",";\n"]);return xp=function(){return e},e}function Cp(){var e=Object(Kt.a)(["\n    color: ",";\n    ",";\n    margin: 4px 0 0 0;\n"]);return Cp=function(){return e},e}var wp=qt.i.div(Cp(),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.gridItem.title.fontStyle})),Sp=qt.i.div(xp(),(function(e){return e.theme.fgColorMedium}),(function(e){return e.theme.gridItem.subtitle.fontStyle})),Ep=qt.i.div(kp(),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.pageMarginMedium})),Mp=qt.i.div(jp(),(function(e){return e.height}),(function(e){return e.width})),Rp=Object(qt.i)(Ti.a)(yp(),(function(e){return e.theme.skeletonColor})),Dp=qt.i.div(Op(),(function(e){return Object(rl.b)(e.theme)}),(function(e){return Object(rl.c)(e.theme)})),Tp=qt.i.div(gp());var Pp=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={url:""},e.ImageWithFallback=function(t){var n=t.columnWidth,r=t.size,i=t.imageSource,a=t.fallback,o=e.state.url;if(void 0===n)return jt.createElement(Fo.AutoSizer,{disableHeight:!0},(function(t){var n=t.width,c=Pu(n,r);Object(We.c)(i)&&e.updateUrl(Object(A.n)(i),n,c,15);var u=jt.createElement(Rp,{onDropImage:e.props.onDropImage,src:o,alternate:a});return jt.createElement(Mp,{height:c,width:n},u)}));var c=n-2*rl.f,u=Pu(c,r);Object(We.c)(i)&&e.updateUrl(Object(A.n)(i),c,u,15);var l=jt.createElement(Rp,{onDropImage:e.props.onDropImage,src:o,alternate:a});return jt.createElement(Mp,{height:u,width:c},l)},e.onClick=function(){return Object(A.n)(e.props.onClick)(!1)},e}return Object(a.a)(n,[{key:"updateUrl",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n,r,i){var a,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="light"===this.props.theme.mapTheme?We.b.Light:We.b.Dark,e.next=3,Object(We.f)(this.props.appEnvironment,t,n,r,i,a);case 3:void 0!==(o=e.sent)&&o!==this.state.url&&this.setState({url:o});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.title,n=e.subtitle,r=e.imageSource,i=e.size,a=e.fallbackInitials,o=e.onClick,c=e.columnWidth,u=Object(d.definedMap)(a,(function(e){return jt.createElement(Dp,null,jt.createElement(Tp,null,e))}));return jt.createElement(Ep,{onClick:void 0===o?void 0:this.onClick},jt.createElement(this.ImageWithFallback,{fallback:u,imageSource:r,columnWidth:c,size:i}),jt.createElement(wp,null,t),jt.createElement(Sp,null,n))}}]),n}(jt.Component),Ip=Object(Ut.withTheme)(Pp),_p=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,7),c=o[0],u=o[1],l=(o[2],o[3]),s=o[4],f=o[5],v=o[6],h=Object(r.a)(i,3)[2];if(c===B.i)return n.renderProgress();var b,m=Object(We.d)(c,u,h,a),g=m.title,O=m.subtitle,y=m.imageSource;b=s===B.i?"":Object(d.definedMap)(s,p.F);var j=Object(p.N)(l,pc.b.ThreeByOne,p.F),k=Qa(f,B.d.GridItem,t,n).onClick,x=Object(We.h)(n,v,B.d.GridItem);return jt.createElement(Ip,{appEnvironment:n.appEnvironment,title:g,subtitle:O,imageSource:y,size:j,fallbackInitials:b,onClick:k,columnWidth:n.columnWidth,onDropImage:x})}}]),e}(),Np=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,2),a=i[0],o=i[1];if(a===B.i||o===B.i)return n.renderProgress();var c=Object(p.v)(a);return jt.createElement(kd,{appFeatures:n.appEnvironment.appFeatures,title:"",hasUnevenRows:!0,items:c,topAlign:!1},(function(e,t,r){return Object(B.q)(o).render(e,n.with({columnWidth:r}),t)}))}}]),e}();function Ap(){var e=Object(Kt.a)([""]);return Ap=function(){return e},e}function Fp(){var e=Object(Kt.a)(["\n    height: ","px;\n    width: ","px;\n\n    flex-shrink: 0;\n\n    // This prevents ListItemTextContentStyle from stealing width\n    min-width: ","px;\n\n    background-color: ",";\n    object-fit: cover;\n    border-radius: ",";\n    margin-right: ","px;\n"]);return Fp=function(){return e},e}function Lp(){var e=Object(Kt.a)(["\n    width: ","px;\n    height: ","px;\n    border-radius: ",";\n    color: #fff;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    min-width: ","px;\n\n    margin-left: ","px;\n    ","\n\n    flex-shrink: 0;\n"]);return Lp=function(){return e},e}function Bp(){var e=Object(Kt.a)(["\n    display: flex;\n    -webkit-touch-callout: default;\n\n    z-index: 2;\n\n    color: inherit;\n    :hover {\n        color: inherit;\n        text-decoration: none;\n    }\n"]);return Bp=function(){return e},e}function Vp(){var e=Object(Kt.a)(["\n    position: relative;\n    padding: 0 ","px;\n    transition: background-color 250ms ease-out;\n    display: flex;\n    align-items: center;\n\n    min-height: ","px;\n\n    ",";\n\n    ","\n\n    & .topItem {\n        margin-bottom: 4px;\n    }\n\n    & .textContainer {\n        text-decoration: none;\n        flex-grow: 1;\n        flex-shrink: 1;\n        width: 1px;\n        padding: 12px 0;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n    }\n\n    & .textStyle {\n        ",";\n        color: ",";\n\n        ","\n    }\n\n    & .textDetailStyle {\n        ",";\n        color: ",";\n\n        ",";\n    }\n\n    & .imageBaseStyle {\n        height: ","px;\n        width: ","px;\n\n        flex-shrink: 0;\n\n        // This prevents ListItemTextContentStyle from stealing width\n        min-width: ","px;\n\n        background-color: ",";\n        background-repeat: no-repeat;\n        background-position: center center;\n        background-size: cover;\n        border-radius: ",";\n        margin-right: ","px;\n    }\n\n    & .initialsStyle {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 24px;\n        // TODO move these colors into the theme\n        color: ",";\n        background-color: ",";\n        font-weight: 500;\n    }\n\n    & .navigationIcon {\n        color: ",";\n        width: 24px;\n        height: 24px;\n        min-width: 24px;\n\n        transform: translateX(8px);\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    & .emojiImageStyle {\n        height: ","px;\n        width: ","px;\n\n        margin-right: ","px;\n\n        flex-shrink: 0;\n    }\n"]);return Vp=function(){return e},e}function Up(){var e=Object(Kt.a)(["\n    text-overflow: inherit;\n    word-break: break-word;\n"]);return Up=function(){return e},e}function zp(){var e=Object(Kt.a)(["\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n"]);return zp=function(){return e},e}function Wp(){var e=Object(Kt.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n"]);return Wp=function(){return e},e}function Hp(){var e=Object(Kt.a)(["\n    background-color: ",";\n    border-radius: 4px;\n\n    width: ",";\n    height: ",";\n    margin-bottom: ","px;\n"]);return Hp=function(){return e},e}var Kp=function(e){var t=e.str;return kt.a.createElement("svg",{viewBox:"0 0 20 20"},kt.a.createElement("text",{x:"0.25",y:"15"},t))},qp=qt.i.div(Hp(),(function(e){return e.theme.skeletonColor}),(function(e){return void 0!==e.width?e.width:"100%"}),(function(e){return void 0!==e.height?e.height:"100%"}),(function(e){return void 0!==e.marginBottom?e.marginBottom:"0"})),Gp=qt.i.a(Wp()),Jp=Object(Ut.css)(zp()),Zp=Object(Ut.css)(Up()),Xp=qt.i.div(Vp(),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.listItem.defaultRowHeight}),(function(e){return!0!==e.interactive?"":".builder &:hover {\n        background-color: ".concat(e.theme.listItem.selectedColor,";\n        cursor: pointer;\n    }")}),(function(e){return e.touched&&"background-color: ".concat(e.theme.listItem.selectedColor,";")}),(function(e){return e.theme.listItem.titleFontStyle}),(function(e){return e.theme.fgColorDark}),(function(e){return!0===e.allowWrapping?Zp:Jp}),(function(e){return e.theme.listItem.detailFontStyle}),(function(e){return e.theme.fgColorMedium}),(function(e){return!0===e.allowWrapping?Zp:Jp}),(function(e){return e.theme.listItem.mainImage.height}),(function(e){return e.theme.listItem.mainImage.width}),(function(e){return e.theme.listItem.mainImage.width}),(function(e){return e.theme.skeletonColor}),(function(e){return e.theme.listItem.mainImage.borderRadius}),(function(e){return e.theme.listItem.mainImage.marginRight}),(function(e){return Object(rl.c)(e.theme)}),(function(e){return Object(rl.b)(e.theme)}),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.listItem.mainImage.height}),(function(e){return e.theme.listItem.mainImage.width}),(function(e){return e.theme.listItem.mainImage.marginRight})),Yp=qt.i.a(Bp()),Qp=qt.i.div(Lp(),(function(e){return e.theme.listItem.actionImage.width}),(function(e){return e.theme.listItem.actionImage.height}),(function(e){return e.theme.listItem.actionImage.borderRadius}),(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.listItem.actionImage.width}),(function(e){return e.theme.listItem.actionImage.margin}),(function(e){return!e.isLast&&"margin-right: "+e.theme.listItem.actionImage.margin+"px;"})),$p=Object(qt.i)(Ti.a)(Fp(),(function(e){return e.theme.listItem.mainImage.height}),(function(e){return e.theme.listItem.mainImage.width}),(function(e){return e.theme.listItem.mainImage.width}),(function(e){return e.theme.skeletonColor}),(function(e){return e.theme.listItem.mainImage.borderRadius}),(function(e){return e.theme.listItem.mainImage.marginRight})),ev=Object(qt.i)($p)(Ap()),tv=n(62),nv=n(152);var rv=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={touched:!1},e.onTouchStart=function(t){e.setState({touched:!0})},e.onTouchEnd=function(t){e.setState({touched:!1})},e.onClick=function(t){void 0!==e.props.onClick&&e.props.onClick(!1)},e.onLinkClick=function(t){void 0!==e.props.onClick&&e.props.onClick(t)},e}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){if(e.text!==this.props.text||e.detail!==this.props.detail||e.imageSource!==this.props.imageSource||e.fallbackInitials!==this.props.fallbackInitials||e.targetUrl!==this.props.targetUrl||e.theme!==this.props.theme||t.touched!==this.state.touched)return!0;if(e.menuItems!==this.props.menuItems&&Object(A.o)(e.menuItems,0,(function(e){return e.length}))!==Object(A.o)(this.props.menuItems,0,(function(e){return e.length})))return!0;return!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.text,r=t.detail,i=t.imageSource,a=t.fallbackInitials,o=t.interactive,c=Object(Sr.withDefault)(this.props.style,"normal"),u=this.props.menuItems,l=!0===o,s=!1;l&&void 0===u&&(u=[{title:"chevron",icon:"chevron-right"}],s=!0);var d,f="normal"===c?"textStyle topItem":"textStyle",p="normal"===c?"textDetailStyle":"textDetailStyle topItem";d=n===B.i?kt.a.createElement(qp,{height:"16px",width:"80%",marginBottom:"4"}):kt.a.createElement("div",{className:f},n);var v,h,b,m=void 0!==this.props.targetUrl;void 0!==i&&(v=Object(We.e)(i,{thumbnail:!0},this.props.appID)),void 0!==u&&(h=u.map((function(t){return kt.a.createElement(iv,{key:t.title,theme:e.props.theme,icon:t.icon,navigation:s,href:t.href,callback:t.onClick})})));var g=Object(A.sb)(this.props.targetUrl);if(void 0!==g){var O=Object(tv.b)(g,!1),y=O===tv.a.UseATag||O===tv.a.UseATagWithBlank,j=O===tv.a.UseATagWithBlank?"_blank":void 0;b=kt.a.createElement(Gp,{onClick:function(){Object(nv.a)(g),e.onLinkClick(y)},href:y?g:void 0,target:j})}return kt.a.createElement(Xp,{touched:this.state.touched,interactive:l,onClick:m?void 0:this.onClick,allowWrapping:this.props.allowWrapping,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchEnd},b,kt.a.createElement(av,{onDropImage:this.props.onDropImage,src:v,initials:a}),kt.a.createElement("div",{className:"textContainer"},"normal"===c&&d,r===B.i&&kt.a.createElement(qp,{height:"16px"}),r!==B.i&&kt.a.createElement("div",{className:p},r),"inverted"===c&&d),h)}}]),n}(kt.a.Component);function iv(e){var t=e.icon,n=e.navigation,r=e.theme,i=e.href,a=e.callback;if(n)return kt.a.createElement("div",{className:"navigationIcon"},kt.a.createElement(Nn.a,{icon:t,size:24}));var o=kt.a.createElement(Qp,{isLast:!0},kt.a.createElement(Nn.a,{icon:t,size:r.listItem.actionImage.iconSize}));if(void 0===(i=Object(A.sb)(i))||void 0===a)return o;var c=Object(tv.b)(i,!1),u=c===tv.a.UseATag||c===tv.a.UseATagWithBlank,l=c===tv.a.UseATagWithBlank?"_blank":void 0;return kt.a.createElement(Yp,{onClick:function(e){Object(nv.a)(Object(A.n)(i)),a(!!u),e.stopPropagation()},href:u?i:void 0,target:l},o)}var av=function(e){var t=e.src,n=e.initials,r=e.onDropImage,i=kt.a.createElement("div",{className:"imageBaseStyle initialsStyle"},n);if(void 0!==t){var a=Object(A.y)(t);return void 0!==a?kt.a.createElement("div",{className:"emojiImageStyle"},kt.a.createElement(Kp,{str:a})):kt.a.createElement(ev,{onDropImage:r,src:t,alternate:i,altBehavior:"both"})}return void 0!==n?kt.a.createElement(ev,{onDropImage:r,alternate:i,altBehavior:"both"}):null},ov=Object(Ut.withTheme)(rv),cv=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o,c=Object(r.a)(e,10),u=c[0],l=c[1],s=(c[2],c[3]),f=c[4],v=c[5],h=c[6],b=c[7],m=c[8],g=c[9],O=Object(r.a)(i,3)[2],y=Object(We.d)(u,l,O,a),j=y.title,k=y.subtitle,x=y.imageSource,C=Qa(h,Object(p.N)(m,B.d.ListItem,(function(e){return Object(A.i)(e)})),t,n),w=C.onClick,S=C.targetURL;o=f===B.i?"":Object(d.definedMap)(f,p.F);var E=Object(p.M)(s,p.F),M=Object(p.M)(g,p.F);return jt.createElement(ov,{text:u===B.i?B.i:j,detail:l===B.i?B.i:k,imageSource:x,style:M,fallbackInitials:o,interactive:void 0!==w,onClick:w,targetUrl:S,appID:n.appEnvironment.appID,onDropImage:Object(We.h)(n,b,B.d.ListItem),allowWrapping:Object(p.N)(v,!1,p.x),menuItems:Object(d.definedMap)(E,(function(e){return[{title:e,icon:e}]}))})}}]),e}(),uv=Object(yt.a)("youtube-player",(function(){return Promise.all([n.e(26),n.e(76)]).then(n.bind(null,1596))})),lv=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,1)[0];return void 0===i?null:i===B.i?n.renderProgress():jt.createElement(jt.Suspense,{fallback:function(){return n.renderProgress()}},jt.createElement(uv,{id:Object(p.F)(i)}))}}]),e}();var sv=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.env,r=t.theme,i=t.onSuccess,a=Object(As.b)();return jt.createElement(Ns.a,{appID:n.appEnvironment.appID,authKind:L.a.EmailPin,withBranding:!1,accentColor:null!==(e=null===a||void 0===a?void 0:a.theme.primaryAccentColor)&&void 0!==e?e:r.primaryAccentColor,appFeatures:n.appEnvironment.appFeatures,onLoggedIn:Object(x.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i());case 1:case"end":return e.stop()}}),e)}))),previewMode:!1})}}]),n}(jt.PureComponent),dv=Object(Ut.withTheme)(sv),fv=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,2),a=i[0],o=i[1];if(!Object(p.K)(a)||!Object(p.K)(o))return null;return jt.createElement(dv,{env:n,onSuccess:function(){return Object(B.o)(a).run(t,n,B.d.EmailAuthentication)},onAbort:function(){return Object(B.o)(o).run(t,n,B.d.EmailAuthentication)}})}}]),e}(),pv=n(836),vv=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"convertOut",value:function(e){return Object(Sr.withDefault)(Object(A.kb)(e),e)}},{key:"getErrorMessage",value:function(e,t,n){}},{key:"renderContent",value:function(e,t,n,i){var a=this,o=Object(r.a)(i,7),c=o[1],u=o[6],l=Object(r.a)(e,9),s=l[0],d=l[1],f=l[2],v=l[3],h=l[4],b=l[5],m=l[8];if(d===B.i)return n.renderProgress();var g=function(){var e=Object(x.a)(k.a.mark((function e(r){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==c){e.next=2;break}return e.abrupt("return");case 2:c.set(a.convertOut(r)),Object(p.K)(v)&&void 0!==t&&void 0!==n&&Object(B.o)(v).run(t,n,B.d.DateTimeField);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=!Object(p.K)(v)||!1!==h,y=!0===b,j=this.convertIn(d),C=Object(p.M)(m,p.D);if(void 0!==u){var w=this.getErrorMessage(j,y,e),S=void 0!==C&&j.length>C;u.set(!S&&void 0===w)}return jt.createElement(pv.a,{placeholder:s===B.i?"Loading\u2026":Object(p.F)(s),title:f===B.i?"Loading\u2026":Object(p.F)(f),value:j,dataType:this.dataType(),onChange:g,isEnabled:O,isRequired:y,maximumChars:C,validate:function(t){return a.getErrorMessage(t,y,e)}})}}]),e}();var hv=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"dataType",value:function(){return"email"}},{key:"convertIn",value:function(e){var t;return null!==(t=Object(d.definedMap)(e,p.F))&&void 0!==t?t:""}},{key:"getErrorMessage",value:function(e,t){var n=Object(A.db)(e);if(""!==n||t)return Object(A.L)(n)?void 0:Object(O.e)("pleaseEnterValidEmail")}}]),n}(vv);function bv(){var e=Object(Kt.a)(["\n    & input {\n        opacity: 0;\n        z-index: -1;\n        position: absolute;\n    }\n\n    & label {\n        display: flex;\n        flex-direction: column;\n    }\n\n    & .fp-uploading {\n        ","\n    }\n\n    & .fp-failed {\n        color: "," !important;\n    }\n\n    & .fp-footer {\n        margin-top: 4px;\n        margin-bottom: 4px;\n\n        ",";\n        min-height: 17px;\n        color: ",";\n    }\n\n    & .fp-footer-uploading {\n        color: "," !important;\n    }\n\n    ","\n    padding-bottom: 0px;\n\n    .progress-bar {\n        bottom: 0;\n        left: 0;\n        width: ","%;\n\n        z-index: 50;\n        height: 3px;\n\n        background-color: ",";\n        position: absolute;\n    }\n\n    .preview-wrapper {\n        color: ",";\n        width: 24px;\n        height: 24px;\n        margin-left: 7px;\n        margin-right: 12px;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .image {\n        border-radius: 4px;\n        width: 32px;\n        height: 32px;\n        margin-right: -4px;\n        margin-left: 8px;\n\n        object-fit: cover;\n    }\n"]);return bv=function(){return e},e}function mv(){var e=Object(Kt.a)(["\n    color: ",";\n    margin-left: 2px;\n    width: 44px;\n    height: 44px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    cursor: pointer;\n\n    :hover {\n        color: rgba(0, 0, 0, 0.5);\n    }\n"]);return mv=function(){return e},e}var gv=qt.i.div(mv(),(function(e){return e.theme.fgColorLight})),Ov=Object(qt.i)($n)(bv(),qt.g,(function(e){return e.theme.destroyColor}),(function(e){return e.theme.fontStyles.Body6Fixed}),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.primaryAccentColor}),(function(e){return!0===e.ignoreInput&&"pointer-events: none;"}),(function(e){return e.progress}),(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.fgColorLight}));var yv=1,jv=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).inputRef=jt.createRef(),e.ct=yv++,e.onCancelClicked=function(){var t=Object(x.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),n.stopPropagation(),r=e.props.onCancel,t.t0=r,t.next=6,yc();case 6:t.t1=t.sent,(0,t.t0)(t.t1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(a.a)(n,[{key:"typeIcon",value:function(){var e=this.props.iconSource;return jt.createElement("div",{className:"preview-wrapper"},jt.createElement(Nn.a,{icon:e,size:22}))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.mode,n=e.onCancel;"uploading"===t&&n(!0)}},{key:"componentDidUpdate",value:function(e){var t=this.inputRef.current;null!==t&&"uploading"===e.mode&&"uploading"!==this.props.mode&&(t.value="")}},{key:"render",value:function(){var e,t=this.props,n=t.highlightProps,r=t.value,i=t.header,a=t.mode,o=t.valueLabel,c=t.idOverride,u=t.mimePattern,l=t.showPreview,s=t.deleteModalTitle,d=t.deleteModalDescription,f=t.className,p=t.isEnabled,v=t.capture,b=t.progressPercentage,m=t.isRequired,g=t.onDelete,y=t.onClearClicked,j=t.onInputChange,k="normal"!==a||Object(A.F)(r),x="item-upload-"+(null!==c&&void 0!==c?c:this.ct);"deleting"===a&&(e=Object(ju.createPortal)(jt.createElement(Is.a,{title:s,description:d,accept:Object(O.e)("delete"),cancel:Object(O.e)("cancel"),onFinish:g,modalStyle:h.a.Delete}),Object(A.cb)(document.getElementById(pa.a))));var C,w="uploading"===a;C=w?jt.createElement(gv,{onClick:this.onCancelClicked},jt.createElement(An,null)):Object(A.F)(r)?this.typeIcon():jt.createElement(gv,{onClick:y},jt.createElement(An,null));var S=null,E=["fp-footer"];return w?(S=Object(O.a)("uploadProgress",[Math.floor(b).toString(10)]),E.push("fp-footer-uploading")):"upload-failed"===a?(S=Object(O.e)("uploadFailedInline"),E.push("fp-failed")):m&&(S=Object(O.e)("required")),jt.createElement(Ov,Object.assign({},n,{className:f,"data-test":"app-file-picker",ref:n.ref,progress:b,ignoreInput:!p}),!Object(A.F)(i)&&jt.createElement(er,{className:"upload-failed"===a?"fp-failed":void 0},i),e,jt.createElement("input",{ref:this.inputRef,capture:v,type:"file",id:x,accept:u,onChange:j,disabled:!p||"uploading"===a}),jt.createElement("label",{htmlFor:x},jt.createElement(tr,{as:"div",enabled:p},!Object(A.F)(r)&&(l?jt.createElement(Ti.a,{className:(w?"fp-uploading":{undefined:void 0})+" image",src:r}):this.typeIcon()),jt.createElement(nr,{isPlaceholder:k},o),C,w?jt.createElement("div",{className:"progressBar"}):null)),jt.createElement("p",{className:Gn.a.apply(void 0,E)},S))}}]),n}(jt.PureComponent),kv=Object(pn.d)(jv),xv=function(e){var t=jt.useState("normal"),n=Object(r.a)(t,2),i=n[0],a=n[1],o=jt.useState(0),c=Object(r.a)(o,2),u=c[0],l=c[1],s=jt.useState(),d=Object(r.a)(s,2),f=d[0],p=d[1],v=jt.useState(),h=Object(r.a)(v,2),b=h[0],m=h[1],g=e.value,y=e.onDropFile,j=e.onChange,C=e.onCancel;jt.useEffect((function(){p(void 0),a("normal")}),[g]);var w=jt.useCallback((function(e){e&&j(""),a("normal")}),[j]),S=jt.useCallback((function(e){e.stopPropagation(),e.preventDefault(),a("deleting")}),[]),E=jt.useCallback((function(e){e&&p(void 0),C(e),a(e?"normal":"uploading")}),[C]),M=jt.useCallback((function(e){function t(){return(t=Object(x.a)(k.a.mark((function t(){var n,r,i,o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(n=sc(e))){t.next=3;break}return t.abrupt("return");case 3:if(m(n.name),r=!0,Object(A.s)(dc(n).then((function(e){r&&p(e)}))),i=function(){r=!1,p(void 0)},void 0===(o=y)){t.next=22;break}return a("uploading"),l(0),t.prev=11,t.next=14,o(n,(function(e,t){return l(100*t/e)}));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(11),Object(P.a)("Uploading file failed: ".concat(t.t0));case 19:return t.prev=19,a("normal"),t.finish(19);case 22:i(),m(void 0);case 24:case"end":return t.stop()}}),t,null,[[11,16,19,22]])})))).apply(this,arguments)}Object(A.s)(function(){return t.apply(this,arguments)}())}),[y]),R=Object(O.e)("browseForFile");if("uploading"===i)R=null!==b&&void 0!==b?b:Object(O.e)("uploading");else if(!Object(A.F)(g)){var D=Object(A.lb)(g);void 0!==D&&(R=D.pathname.split("/").reduce((function(e,t){return t})))}return jt.createElement(kv,Object.assign({},e,{onCancel:E,value:null!==f&&void 0!==f?f:g,onClearClicked:S,onInputChange:M,onDelete:w,mode:i,valueLabel:R,progressPercentage:u}))};var Cv=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).lastValue=void 0,e.isCancelled=!1,e.uploadSession=void 0,e.onChange=function(t){var n=e.props,r=n.valueProducer,i=n.onChangeValue,a=n.ctx,o=n.env,c=n.onChangeActionSource;void 0!==r&&(r.set(t),Object(p.K)(i)&&void 0!==a&&void 0!==o&&Object(B.o)(i).run(a,o,c))},e.onDropFile=function(){var t=Object(x.a)(k.a.mark((function t(n,r){var i,a,o,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=e.props.env,e.setValid(!1),e.lastValue=e.value,e.isCancelled=!1,void 0!==e.uploadSession&&e.uploadSession.cancel(),a=i.appEnvironment.uploadAppFile(n,"file-picker",r),e.uploadSession=a,o=function(){e.uploadSession===a&&(e.uploadSession=void 0)};case 8:return t.next=11,a.attempt();case 11:if(c=t.sent,!e.isCancelled){t.next=14;break}return t.abrupt("return",!1);case 14:if(Object(B.r)(c)){t.next=17;break}return o(),t.abrupt("return",e.onNewURL(c.path));case 17:return t.next=19,kc(c);case 19:if(t.sent){t.next=22;break}return o(),t.abrupt("return",!1);case 22:t.next=8;break;case 24:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.onCancel=function(t){t&&!e.isCancelled&&(e.isCancelled=!0,void 0!==e.uploadSession&&(e.uploadSession.cancel(),e.uploadSession=void 0),e.onNewURL(e.lastValue))},e}return Object(a.a)(n,[{key:"setValid",value:function(e){var t=this.props.validFlag;void 0!==t&&t.set(e)}},{key:"onNewURL",value:function(e){var t=this.props,n=t.valueProducer,r=t.isRequired;void 0!==e&&this.onChange(e);var i=!0;return void 0!==n&&r&&(i=!0===Object(p.L)(n.current)),this.setValid(i),void 0!==e}},{key:"render",value:function(){var e=this.props,t=e.isRequired,n=e.isEnabled,r=e.caption,i=e.capture,a=e.mimePattern,o=e.iconSource,c=e.deleteModalTitle,u=e.showPreview;return jt.createElement(xv,{value:this.value,isEnabled:n,onChange:this.onChange,onDropFile:this.onDropFile,header:r,isRequired:t,capture:i,mimePattern:a,iconSource:o,showPreview:u,deleteModalTitle:c,deleteModalDescription:Object(O.e)("actionCannotBeUndone"),onCancel:this.onCancel})}},{key:"value",get:function(){var e,t=this.props.valuePV;return null!==(e=Object(d.definedMap)(t,p.F))&&void 0!==e?e:""}}]),n}(jt.PureComponent),wv=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,6),o=a[0],c=a[1],u=a[2],l=(a[3],a[4]),s=a[5],d=Object(r.a)(i,4),f=d[0],v=d[3];if(o===B.i||l===B.i)return n.renderProgress();var h=!Object(p.K)(c)||!1!==u,b=!0===s,m="";void 0!==o&&(m=Object(p.F)(o)),b&&!0!==Object(p.L)(m)&&void 0!==v&&v.set(!1);var g="";return void 0!==l&&(g=Object(p.F)(l)),jt.createElement(Cv,{ctx:t,env:n,valuePV:o,onChangeValue:c,valueProducer:f,validFlag:v,isRequired:b,isEnabled:h,showPreview:!1,deleteModalTitle:Object(O.e)("areYouSureYouWantToDeleteThisFile"),caption:g,iconSource:"16-01-common-file-text-alternate",onChangeActionSource:B.d.FilePicker})}}]),e}(),Sv=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,1)[0];return i===B.i?n.renderProgress():Object(B.q)(i).render(t,n)}}]),e}();function Ev(){var e=Object(Kt.a)(["\n    position: relative;\n    min-width: 0;\n    perspective: 600px;\n    transform-style: preserve-3d;\n\n    padding: ","px;\n    border-radius: ","px;\n\n    &:hover {\n        cursor: pointer;\n        background: ",";\n    }\n\n    & .tile-title {\n        color: ",";\n        margin: ","px 0 0 0;\n        ","\n        ","\n        ","\n        text-align: ",";\n    }\n\n    & .tile-subtitle {\n        color: ",";\n        ","\n        ","\n        text-align: ",";\n    }\n\n    & .tile-text-container {\n        ","\n        margin-bottom: ","px;\n    }\n\n    & .tile-image-area {\n        position: relative;\n    }\n\n    & .tile-overlay {\n        border-radius: ","px;\n        ","\n    }\n\n    & .tile-inner {\n        box-shadow: 0 0 1px rgba(255, 255, 255, 0);\n        transition: transform 0.2s;\n\n        color: white;\n    }\n"]);return Ev=function(){return e},e}function Mv(){var e=Object(Kt.a)(["\n                background: linear-gradient(0deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0) 60%);\n            "]);return Mv=function(){return e},e}function Rv(){var e=Object(Kt.a)(["\n                background: linear-gradient(180deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0) 60%);\n            "]);return Rv=function(){return e},e}function Dv(){var e=Object(Kt.a)(["\n                background: rgba(0, 0, 0, 0.4);\n            "]);return Dv=function(){return e},e}function Tv(){var e=Object(Kt.a)([""]);return Tv=function(){return e},e}function Pv(){var e=Object(Kt.a)(["\n                text-align: end;\n            "]);return Pv=function(){return e},e}function Iv(){var e=Object(Kt.a)(["\n                text-align: start;\n            "]);return Iv=function(){return e},e}function _v(){var e=Object(Kt.a)(["\n                text-align: end;\n            "]);return _v=function(){return e},e}function Nv(){var e=Object(Kt.a)(["\n                text-align: start;\n            "]);return Nv=function(){return e},e}function Av(){var e=Object(Kt.a)(["\n                text-align: center;\n            "]);return Av=function(){return e},e}function Fv(){var e=Object(Kt.a)([""]);return Fv=function(){return e},e}function Lv(){var e=Object(Kt.a)(["\n    ","\n    text-align: center;\n\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    width: 100%;\n    overflow: hidden;\n"]);return Lv=function(){return e},e}function Bv(){var e=Object(Kt.a)(["\n    border-radius: ","px;\n\n    background-color: ",";\n    color: ",";\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    padding: 0 20px;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n"]);return Bv=function(){return e},e}function Vv(){var e=Object(Kt.a)(["\n    background-color: ",";\n    object-fit: cover;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n\n    // This ensures that emoji scale up to the minimum dimension\n    font-size: ","px;\n"]);return Vv=function(){return e},e}function Uv(){var e=Object(Kt.a)(["\n    position: relative;\n    height: ","px;\n\n    /* Use a large number instead of 50% */\n    border-radius: ","px;\n\n    overflow: hidden;\n\n    & > canvas {\n        /* Use a large number instead of 50% */\n        border-radius: ","px;\n    }\n"]);return Uv=function(){return e},e}function zv(){var e=Object(Kt.a)(["\n    font-variant: all-small-caps;\n    text-transform: lowercase;\n"]);return zv=function(){return e},e}function Wv(){var e=Object(Kt.a)(["\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"]);return Wv=function(){return e},e}var Hv=Object(Ut.css)(Wv()),Kv=Object(Ut.css)(zv()),qv=qt.i.div(Uv(),(function(e){return e.height}),(function(e){return e.isCircle?1e6:e.hasCorners?6:0}),(function(e){return e.isCircle?1e6:e.hasCorners?6:0})),Gv=Object(qt.i)(Ti.a)(Vv(),(function(e){return e.theme.skeletonColor}),(function(e){return Math.round(.6*e.minDimension)})),Jv=qt.i.div(Bv(),(function(e){return e.hasCorners?6:0}),(function(e){return Object(rl.b)(e.theme)}),(function(e){return Object(rl.c)(e.theme)})),Zv=qt.i.div(Lv(),(function(e){return e.theme.fontStyles.AccentCallout1}));var Xv=qt.i.div(Ev(),(function(e){return e.theme.tileItem.padding}),(function(e){return e.hasCorners?e.theme.tileItem.borderRadius:0}),(function(e){return e.theme.tileItem.selectedColor}),(function(e){return e.textPosition===pc.g.Below?e.theme.fgColorDark:"white"}),(function(e){return e.textPosition===pc.g.Overlay?0:4}),(function(e){return function(e,t){switch(e){case vo.a.Small:return t.gridItem.title.smallFontStyle;case vo.a.Large:return t.gridItem.title.largeFontStyle}return t.gridItem.title.fontStyle}(e.textSize,e.theme)}),(function(e){return!e.wrapping&&Hv}),(function(e){return e.textStyle===vo.b.AllCaps&&Kv}),(function(e){return e.isCircle?"center":"unset"}),(function(e){return e.textPosition===pc.g.Below?e.theme.fgColorMedium:"white"}),(function(e){return function(e,t){switch(e){case vo.a.Small:return t.gridItem.subtitle.smallFontStyle;case vo.a.Large:return t.gridItem.subtitle.largeFontStyle}return t.gridItem.subtitle.fontStyle}(e.textSize,e.theme)}),(function(e){return!e.wrapping&&Hv}),(function(e){return e.isCircle?"center":"unset"}),(function(e){return function(e,t){if(e===pc.g.Below)return Object(Ut.css)(Fv());switch(t){case pc.e.Center:return Object(Ut.css)(Av());case pc.e.TopLeft:return Object(Ut.css)(Nv());case pc.e.TopRight:return Object(Ut.css)(_v());case pc.e.BottomLeft:return Object(Ut.css)(Iv());case pc.e.BottomRight:return Object(Ut.css)(Pv())}}(e.textPosition,e.alignment)}),(function(e){return e.padBottom?4:0}),(function(e){return e.hasCorners?6:0}),(function(e){return function(e){switch(e){case"none":return Object(Ut.css)(Tv());case"full":return Object(Ut.css)(Dv());case"top":return Object(Ut.css)(Rv());case"bottom":return Object(Ut.css)(Mv())}}(e.shadow)}));var Yv=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).ImageWithFallback=function(t){var n=t.columnWidth,r=t.size,i=t.fallback,a=t.hasCorners,o=t.url,c=n,u=Pu(c,r),l=Math.min(c,u),s=jt.createElement(Gv,{onDropImage:e.props.onDropImage,src:o,alternate:i,draggable:!1,minDimension:l});return jt.createElement(qv,{hasCorners:a,height:u,width:c,isCircle:r===pc.b.Circle},s)},e.onClick=function(){return Object(A.n)(e.props.onClick)(!1)},e}return Object(a.a)(n,[{key:"render",value:function(){var e,t=Object(Sr.withDefault)(this.props.textSize,vo.a.Medium),n=Object(Sr.withDefault)(this.props.textPosition,pc.g.Below),r=Object(Sr.withDefault)(this.props.overlayTextAlignment,pc.e.Center),i=Object(Sr.withDefault)(this.props.textStyle,vo.b.Normal),a=Object(Sr.withDefault)(this.props.allowWrapping,!0)&&n===pc.g.Below,o=Object(Sr.withDefault)(this.props.padding,pc.h.Loose),c=this.props,u=c.itemID,l=c.title,s=c.subtitle,d=c.url,f=c.size,p=c.fallbackInitials,v=c.onClick,h=c.columnWidth,b=c.cornersStyle,m=c.topLeftOverlay,g=c.topRightOverlay,O=c.bottomLeftOverlay,y=c.bottomRightOverlay,j=c.className,k=b!==pc.a.Square,x=Object(Sr.definedMap)(p,(function(e){return jt.createElement(Jv,{hasCorners:k},jt.createElement(Zv,null,e))})),C=void 0!==l,w=void 0!==s,S=C||w?jt.createElement("div",{className:"tile-text-container"},C&&jt.createElement("div",{className:"tile-title","data-test":"tile-item-title"},l),w&&jt.createElement("div",{className:"tile-subtitle","data-test":"tile-item-title"},s)):void 0;function E(t,i){if(void 0!==S&&r===t&&n===pc.g.Overlay||void 0!==i){var a=r===t&&n===pc.g.Overlay;return a&&(e=t),jt.createElement(jt.Fragment,null,a&&S,i)}}var M=E(pc.e.TopLeft,m),R=E(pc.e.TopRight,g),D=E(pc.e.BottomLeft,O),T=E(pc.e.BottomRight,y),P=E(pc.e.Center,void 0),I=void 0!==P||void 0!==D||void 0!==T,_=void 0!==P||n===pc.g.Overlay&&(r===pc.e.TopLeft||r===pc.e.TopRight),N="none";I&&_?N="full":_?N="top":I&&(N="bottom");var A=void 0!==u?"selected-item-list-item-".concat(u):void 0;return jt.createElement(Xv,{"data-test":"tile-item",className:j?"".concat(j," "):void 0+"".concat(A),textSize:t,textPosition:n,textStyle:i,alignment:r,hasCorners:k,shadow:N,onClick:void 0===v?void 0:this.onClick,padBottom:o===pc.h.Tight,wrapping:a,isCircle:f===pc.b.Circle},jt.createElement("div",{className:"tile-inner"},jt.createElement("div",{className:"tile-image-area"},jt.createElement(this.ImageWithFallback,{url:d,fallback:x,columnWidth:h,size:f,hasCorners:k}),jt.createElement(Nu,{className:"tile-overlay",mainCorner:e,center:P,topLeft:M,topRight:R,bottomLeft:D,bottomRight:T})),n===pc.g.Below&&S))}}]),n}(jt.PureComponent),Qv=Object(Ut.withTheme)((function(e){var t=e.onClick,n=e.theme,i=Object($a.a)(e,["onClick","theme"]),a=jt.useState(""),o=Object(r.a)(a,2),c=o[0],u=o[1],l=i.appEnvironment,s=i.imageSource,d=i.columnWidth,f=i.size,p=i.gravity;jt.useEffect((function(){var e=function(){var e=Object(x.a)(k.a.mark((function e(){var t,r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Pu(d,f),r="light"===n.mapTheme?We.b.Light:We.b.Dark,!Object(We.c)(s)){e.next=7;break}return e.next=5,Object(We.f)(l,Object(A.n)(s),d,t,15,r,p);case 5:(i=e.sent)!==c&&u(null!==i&&void 0!==i?i:"");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(A.s)(e())}),[l,s,d,f,n,p,c]);var v=jt.useCallback((function(e){if(void 0!==t)return t(e)}),[t]);return jt.createElement(Yv,Object.assign({},i,{url:c,onClick:v}))})),$v=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o,c=Object(r.a)(e,18),u=c[0],l=c[1],s=(c[2],c[3]),f=c[4],v=c[5],h=c[6],b=c[7],m=c[8],g=c[9],O=c[10],y=c[11],j=c[12],k=c[13],x=c[14],C=c[15],w=c[16],S=c[17],E=Object(r.a)(i,3)[2],M=Object(We.d)(u,l,E,a),R=M.title,D=M.subtitle,T=M.imageSource;o=f===B.i?"":Object(d.definedMap)(f,p.F);var P=Object(p.N)(s,pc.b.ThreeByOne,p.F),I=Qa(v,B.d.GridItem,t,n).onClick,_=Object(We.h)(n,h,B.d.GridItem),N=Object(p.N)(b,pc.a.Rounded,p.F),F=Object(p.N)(j,pc.d.Center,p.F),L=Object(p.N)(m,pc.g.Below,p.F),V=Object(p.N)(g,pc.e.Center,p.F),U=Object(p.N)(O,vo.a.Medium,p.F),z=Object(p.N)(y,vo.b.Normal,p.F);P===pc.b.Circle&&(L=void 0,V=void 0);var W=Object(p.M)(k,p.F);return jt.createElement(Qv,{appEnvironment:n.appEnvironment,title:R,subtitle:D,imageSource:T,size:P,fallbackInitials:o,onClick:I,columnWidth:Object(A.n)(n.columnWidth),onDropImage:_,allowWrapping:!1,cornersStyle:N,textPosition:L,overlayTextAlignment:V,textSize:U,textStyle:z,padding:pc.h.Loose,gravity:F,itemID:W,topLeftOverlay:Object(p.M)(x,(function(e){return Object(B.q)(e).render(t,n)})),bottomLeftOverlay:Object(p.M)(w,(function(e){return Object(B.q)(e).render(t,n)})),bottomRightOverlay:Object(p.M)(S,(function(e){return Object(B.q)(e).render(t,n)})),topRightOverlay:Object(p.M)(C,(function(e){return Object(B.q)(e).render(t,n)}))})}}]),e}();function eh(e){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var n=document.createElement("div");n.id="testScrollbar",void 0!==e&&(n.innerHTML="<style>#testScrollbar::-webkit-scrollbar {\n            width: ".concat(e,"px;\n            height: ").concat(e,"px;\n        }</style>")),n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var r=t.offsetWidth;n.style.overflow="scroll";var i=t.offsetWidth;return r===i&&(i=n.clientWidth),document.body.removeChild(n),r-i}function th(){var e=Object(Kt.a)(["\n                scroll-snap-type: x mandatory;\n                scroll-padding-inline: 16px;\n                scroll-padding-left: 16px;\n            "]);return th=function(){return e},e}function nh(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n    width: ","px;\n\n    padding: 8px 0;\n\n    .outer {\n        position: relative;\n        overflow: hidden;\n        padding-bottom: 4px;\n    }\n\n    .scroller {\n        overflow-x: scroll;\n        -webkit-overflow-scrolling: touch;\n        display: flex;\n\n        ","\n        margin-bottom: -","px;\n\n        ::-webkit-scrollbar {\n            display: none;\n        }\n    }\n\n    .inner {\n        display: grid;\n        grid-template-columns: repeat(",", ","px);\n        grid-column-gap: ","px;\n        padding: 0 ","px;\n        height: 100%;\n\n        & > * {\n            scroll-snap-align: start;\n        }\n    }\n"]);return nh=function(){return e},e}var rh=qt.i.div(nh(),(function(e){return e.screenWidth}),(function(e){return e.colWidth>20&&Object(qt.f)(th())}),(function(e){return e.scrollBarWidth}),(function(e){return e.cols}),(function(e){return e.colWidth}),(function(e){return e.theme.pageMarginMedium/2}),(function(e){return e.theme.pageMarginMedium})),ih=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isPressed:!1},e.startX=0,e.scrollLeft=0,e.moved=!1,e.scrollerRef=jt.createRef(),e.scrollBarWidth=eh(0),e.onMouseDown=function(t){null!==e.scrollerRef.current&&(e.setState({isPressed:!0}),e.startX=t.pageX-e.scrollerRef.current.offsetLeft,e.scrollLeft=e.scrollerRef.current.scrollLeft,e.moved=!1)},e.onMouseLeaveUp=function(t){e.setState({isPressed:!1})},e.onMouseMove=function(t){if(e.state.isPressed&&null!==e.scrollerRef.current){var n=t.pageX-e.scrollerRef.current.offsetLeft-e.startX;e.scrollerRef.current.scrollLeft=e.scrollLeft-n,Math.abs(n)>20&&(e.moved=!0)}},e.onClickCapture=function(t){e.moved&&(t.stopPropagation(),e.moved=!1)},e.onSeeAllClickHandler=function(){void 0!==e.props.onSeeAllClick&&e.props.onSeeAllClick(!1)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.items,r=t.groups,i=t.colWidth,a=t.onSeeAllClick,o=t.screenWidth,c=t.title,u=this.state.isPressed;void 0!==n&&(r=[{title:c,items:n,onSeeAll:void 0!==a?this.onSeeAllClickHandler:void 0}]),Object(A.d)(void 0!==r);var l=r.map((function(t,n){var r=""!==t.title||void 0!==a;return jt.createElement(rh,{key:n,"data-test":"app-horizontal-list",screenWidth:o,colWidth:i,cols:t.items.length,scrollBarWidth:e.scrollBarWidth},r&&jt.createElement(On,null,jt.createElement(gn,null,t.title),void 0!==t.onSeeAll&&jt.createElement(Js,{onClick:t.onSeeAll},Object(O.e)("seeAll"))),jt.createElement("div",{className:"outer"},jt.createElement("div",{ref:e.scrollerRef,className:"scroller",onMouseMove:u?e.onMouseMove:void 0,onMouseUp:u?e.onMouseLeaveUp:void 0,onMouseDown:e.onMouseDown,onMouseLeave:u?e.onMouseLeaveUp:void 0,onClickCapture:e.onClickCapture},jt.createElement("div",{className:"inner"},t.items.map((function(t,n){return e.props.children(t,n)}))))))}));return void 0===n&&void 0!==c&&(l=jt.createElement(jt.Fragment,null,jt.createElement(On,null,jt.createElement(gn,null,c)),l)),l}}]),n}(jt.PureComponent);function ah(e,t,n,r,i){var a,o,c,u,l,s=null!==(a=Object(p.M)(t,p.x))&&void 0!==a&&a,f=null!==(o=Object(p.M)(e,p.v))&&void 0!==o?o:[];return l=s?0===(u=Object(A.V)(f,(function(e){var t,a=e.getObjectInspector(n);if(Object(p.K)(a)){var o=Object(p.M)(Object(d.definedMap)(null!==(t=a.getProperty("name"))&&void 0!==t?t:a.getProperty("key"),n),p.F),c=Object(p.M)(Object(d.definedMap)(a.getProperty("items"),n),p.v),u=a.getProperty("onSeeAll"),l=Qa(Object(d.definedMap)(u,n),B.d.None,r,i);if(void 0!==c&&0!==c.length)return{title:null!==o&&void 0!==o?o:"",items:c,onSeeAll:Object(d.definedMap)(l.onClick,(function(e){return function(){return e(!1)}}))}}}))).length:0===(c=f).length,{items:c,groups:u,isEmpty:l}}var oh=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a,o,c){var u=Object(r.a)(e,7),l=u[0],s=u[1],d=u[2],f=u[3],v=u[4],h=u[5],b=u[6];if(l===B.i||s===B.i)return null;var m=Object(p.N)(d,"",p.F),g=Object(p.M)(f,p.F),O=Qa(v,B.d.None,t,n),y=ah(l,h,a,t,n);if(void 0===y)return null;var j=Object(p.N)(b,!1,p.x);return jt.createElement(kd,{title:m,topAlign:!1,appFeatures:n.appEnvironment.appFeatures,hasUnevenRows:j,items:y.items,groups:y.groups,forceUpdate:c,emptyMessage:g,onSeeAllClick:O.onClick},(function(e,t){return Object(B.q)(s).render(e,n.with({needsPush:"0-0"===t&&n.needsPush}),t)}))}}]),e}(),ch=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,7),c=o[0],u=o[1],l=o[2],s=o[3],d=o[4],f=o[5],v=o[6];if(c===B.i||u===B.i||l===B.i)return n.renderProgress();var h=Object(p.D)(l),b=Qa(d,B.d.GridItem,t,n),m=ah(c,f,a,t,n);if(void 0===m)return null;if(m.isEmpty){var g=Object(p.M)(v,p.F);return void 0===g?null:jt.createElement(Ga,null,g)}return jt.createElement(pn.b,null,(function(e){return jt.createElement("div",e,jt.createElement(Fo.AutoSizer,{disableHeight:!0},(function(e){var t=e.width,r=(t-2*rl.f-(h-1)*(rl.f/2))/h;return jt.createElement(ih,{onSeeAllClick:b.onClick,title:Object(p.N)(s,"",p.F),items:m.items,groups:m.groups,colWidth:r,screenWidth:t},(function(e,t){return Object(B.q)(u).render(e,n.with({columnWidth:r}),t)}))})))}))}}]),e}();function uh(){var e=Object(Kt.a)(["\n    .cbs-inner {\n        color: ",";\n        line-height: 0;\n    }\n"]);return uh=function(){return e},e}var lh=qt.i.div(uh(),(function(e){return e.theme.primaryAccentColor})),sh=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,2),o=a[0],c=a[1];Object(r.a)(i,1)[0];if(o===B.i)return n.renderProgress();var u=Object(p.F)(o);return jt.createElement(lh,{"data-test":"app-image-accessory",onClick:function(){Object(p.K)(c)&&void 0!==t&&void 0!==n&&Object(B.o)(c).run(t,n,v.a.None)}},jt.createElement("div",{className:"cbs-inner"},jt.createElement(Nn.a,{icon:u,size:20})))}}]),e}();function dh(){var e=Object(Kt.a)(["\n    position: relative;\n    padding-bottom: ",";\n    overflow: hidden;\n\n    > .scroller {\n        display: flex;\n        align-items: center;\n        position: ",";\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: ",";\n\n        > * {\n            width: 100%;\n            height: ",";\n            flex-shrink: 0;\n        }\n    }\n\n    @keyframes cvs-tag-fade-out {\n        0% {\n            opacity: 0.6;\n        }\n        50% {\n            opacity: 0.6;\n        }\n        100% {\n            opacity: 0;\n        }\n    }\n\n    > .tag {\n        position: absolute;\n        left: 50%;\n        bottom: 20px;\n        border-radius: 100px;\n        padding: 6px 12px;\n        ","\n\n        color: white;\n        background: black;\n        opacity: 0;\n\n        pointer-events: none;\n        transform: translateX(-50%);\n\n        animation: cvs-tag-fade-out 1300ms 1 ease-in;\n    }\n"]);return dh=function(){return e},e}var fh=qt.i.div(dh(),(function(e){return function(e){switch(e){case pc.b.FourByThree:return"133%";case pc.b.Square:return"100%";case pc.b.ThreeByTwo:return"66.7%";case pc.b.ThreeByOne:return"33.3%";default:return"0"}}(e.size)}),(function(e){return e.size===pc.b.Fit?"block":"absolute"}),(function(e){return e.size===pc.b.Fit?"unset":"100%"}),(function(e){return e.size===pc.b.Fit?"unset":"100%"}),(function(e){return e.theme.fontStyles.AccentHeader4})),ph=function(e){var t=e.size,n=e.children,r=e.index,i=e.fitStyle,a=e.className,o=e.onClick,c=e.onStartMove,u=e.onMove,l=e.onEndMove,s=jt.useRef(),d=jt.Children.count(n),f=jt.useCallback((function(e){var t=s.current;Object(A.J)(t)||null===u||void 0===u||u.call(void 0,t,e.touches[0].clientX,e)}),[u]);jt.useEffect((function(){var e=s.current;if(!(Object(A.J)(e)||d<=1))return e.addEventListener("touchmove",f,{capture:!0,passive:!1}),function(){null===e||void 0===e||e.removeEventListener("touchmove",f,{capture:!0})}}),[f,d]);var p=jt.useCallback((function(e){var t=s.current;Object(A.J)(t)||null===c||void 0===c||c.call(void 0,t,e.clientX)}),[c]),v=jt.useCallback((function(e){var t=s.current;Object(A.J)(t)||null===c||void 0===c||c.call(void 0,t,e.touches[0].clientX)}),[c]),h=jt.useCallback((function(e){var t=s.current;1!==e.buttons||Object(A.J)(t)||null===u||void 0===u||u.call(void 0,t,e.clientX,e.nativeEvent)}),[u]),b=jt.useCallback((function(){var e=s.current;Object(A.J)(e)||null===l||void 0===l||l.call(void 0,e)}),[l]);return jt.createElement(fh,{className:a,size:t,fitStyle:i},jt.createElement("div",{ref:s,className:"scroller",onClick:o,onTouchStart:d>1?v:void 0,onMouseDown:d>1?p:void 0,onTouchEnd:d>1?b:void 0,onTouchCancel:d>1?b:void 0,onMouseMove:d>1?h:void 0,onMouseUp:d>1?b:void 0,onMouseLeave:d>1?b:void 0},n),d>1&&jt.createElement("div",{className:"tag",key:r},r+1,"/",d))},vh=jt.memo(ph),hh=function(e){var t=e.index,n=e.children,i=e.onIndexChange,a=jt.Children.count(n),o=jt.useRef(0),c=jt.useState(0),u=Object(r.a)(c,2),l=u[0],s=u[1],d=jt.useState(0),f=Object(r.a)(d,2),p=f[0],v=f[1],h=jt.useState(!1),b=Object(r.a)(h,2),m=b[0],g=b[1],O=jt.useState(),y=Object(r.a)(O,2),j=y[0],k=y[1],x=jt.useCallback((function(e,n){var r=t*e.clientWidth;s(n),v(r),o.current=r,g(!1),k(e),e.style.transition=""}),[t]);function C(e,t,n){t=Math.max(0,Math.min((n-1)*e.clientWidth,t)),e.style.transform="translateX(".concat(-t,"px)")}jt.useEffect((function(){void 0!==j&&C(j,j.clientWidth*t,a)}),[t,j,a]);var w=jt.useCallback((function(e,n,r){var i=p+(l-n);o.current=i,C(e,i,a),m||g(!0);var c=l-n>0;Math.abs(l-n)>30&&(a>1&&r.cancelable&&(t>0&&t<a-1||0===t&&c||t===a-1&&!c)&&(r.stopPropagation(),r.preventDefault()))}),[l,m,a,p,t]),S=jt.useRef(t);S.current=t;var E=jt.useCallback((function(e){var n=e.clientWidth;e.style.transition="transform 0.4s cubic-bezier(.17,1,.12,1)";var r=o.current,c=n/3,u=t;u=r>p?(r+c)/n:(r-c)/n,(u=Math.max(0,Math.min(a-1,Math.round(u))))!==t?i(u):setTimeout((function(){S.current===t&&C(e,n*t,a)}),0)}),[t,p,i,a,o]),M=jt.useCallback((function(e){m&&(e.preventDefault(),e.stopPropagation())}),[m]);return jt.createElement(vh,Object.assign({},e,{onStartMove:x,onMove:w,onEndMove:E,onClick:M}))},bh=Object(yt.a)("auto-sizer",(function(){return Promise.resolve().then(n.bind(null,266)).then((function(e){return{default:e.AutoSizer}}))})),mh=function(e){return jt.createElement(jt.Suspense,{fallback:jt.createElement("div",null)},jt.createElement(bh,e))};function gh(){var e=Object(Kt.a)(["\n    display: block;\n\n    &.cover {\n        object-fit: cover;\n    }\n\n    &.contain {\n        object-fit: contain;\n    }\n\n    &.disabled {\n        ","\n    }\n"]);return gh=function(){return e},e}var Oh=Object(qt.i)(Ti.a)(gh(),qt.g),yh=function(e){e.ref;var t,n,r=e.appID,i=e.size,a=e.sizing,o=e.gravity,c=e.whenLoading,u=e.fontSize,l=e.className,s=Object($a.a)(e,["ref","appID","size","sizing","gravity","whenLoading","fontSize","className"]),d=null!==(t=(null!==a&&void 0!==a?a:"")+" "+l)&&void 0!==t?t:"",f=null!==(n=e.disabled)&&void 0!==n&&n;return jt.createElement("div",null,jt.createElement(mh,{disableHeight:!0},(function(e){var t=e.width,n=e.height;void 0!==t&&void 0!==i&&i!==pc.b.Fit&&(n=Pu(t,i));var l=n;a===pc.f.Contain&&(l=void 0);var p=Object(We.l)(s.src,{width:t,height:l,gravity:o,thumbnail:!1},r),v={width:t,height:n,fontSize:u};return jt.createElement(Oh,Object.assign({},s,{className:Gn()(d,f?"disabled":void 0),style:v,src:p,alternate:c,altBehavior:"both"}))})))},jh=function(e){var t=e.onDropImage,n=e.onDragStart,i=e.onDragEnd,a=e.allowDrop,o=e.onDragOver,c=e.onDragLeave,u=e.onDrop,l=Object($a.a)(e,["onDropImage","onDragStart","onDragEnd","allowDrop","onDragOver","onDragLeave","onDrop"]),d=jt.useState(!1),f=Object(r.a)(d,2),p=f[0],v=f[1],h=jt.useMemo((function(){var e={transition:"transform 0.2s"};return a&&p&&(e=Object(s.a)(Object(s.a)({},e),{},{transform:"scale(1.1)",filter:"brightness(60%)"})),e}),[a,p]),b=jt.useCallback((function(e){a&&(e.preventDefault(),e.stopPropagation(),null===n||void 0===n||n.call(void 0),null===o||void 0===o||o.call(void 0,e),v(!0))}),[a,n,o]),m=jt.useCallback((function(e){a&&(e.preventDefault(),null===i||void 0===i||i.call(void 0),null===c||void 0===c||c.call(void 0,e),v(!1))}),[a,i,c]),g=jt.useCallback((function(e){if(a){if(e.preventDefault(),e.stopPropagation(),null===u||void 0===u||u.call(void 0,e),null===i||void 0===i||i.call(void 0),e.dataTransfer.items)for(var n=0;n<e.dataTransfer.items.length;n++){var r=e.dataTransfer.items[n];if("file"===r.kind){var o=r.getAsFile();if(null!==o){l(o);break}}else if("string"===r.kind&&"text/uri-list"===r.type){r.getAsString((function(e){return s(e)}));break}}else for(var c=0;c<e.dataTransfer.files.length;c++){l(e.dataTransfer.files[c]);break}v(!1)}function l(e){var n={kind:"file",file:e};null===t||void 0===t||t.call(void 0,Object(I.b)(n),n)}function s(e){var n={kind:"uri",uri:Object(We.j)(e)};null===t||void 0===t||t.call(void 0,Object(I.b)(n),n)}}),[u,a,i,t]);return h=Object(s.a)(Object(s.a)({},h),e.style),jt.createElement("div",Object.assign({},l,{style:h,onDragOver:b,onDragLeave:m,onDrop:g}),e.children)};var kh=Object(yt.a)("image-overlay-view",(function(){return Promise.all([n.e(39),n.e(84)]).then(n.bind(null,1643))})),xh=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={index:0,overlayShowing:!1,sourceOverrides:{},uploadProgresses:{}},e.uploadSessions={},e.inputRef=jt.createRef(),e.onClick=function(){var t=e.props,n=t.onClickItem,r=t.tapToEnlarge;null===n||void 0===n||n.call(void 0,!1),r&&e.setState({overlayShowing:!0})},e.onUploadCancelClick=function(){var t=Object(x.a)(k.a.mark((function t(n){var r,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),n.preventDefault(),t.next=4,yc();case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:if(r=e.state.index,void 0!==(i=e.uploadSessions[r])){t.next=11;break}return t.abrupt("return");case 11:i.cancel(),delete e.uploadSessions[r];case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onDropImageHandler=function(t,n){var r=e.props,i=r.onUploadStart,a=r.onUploadEnd,o=e.state.index;Object(I.a)(t);var c=!1,u=Promise.resolve(""),l=function(t){return e.setSourceOverride(t,o),t},s=function(){c||(c=!0,Object(A.s)(u.then((function(t){e.clearSourceOverride(t,o),e.clearUploadProgress(o)}))))};null===i||void 0===i||i.call(void 0,o),e.setUploadProgress(0,o);try{switch(n.kind){case"uri":u=Promise.resolve(n.uri),l(n.uri),null===a||void 0===a||a.call(void 0,o,n.uri),s();break;case"file":u=dc(n.file).then(l),Object(A.s)(e.handleFileUpload(n.file,o).finally(s))}}catch(d){Object(P.a)(d)}},e.onOverlayClose=function(){return e.setState({overlayShowing:!1})},e.onInputChange=function(t){var n=e.props,r=n.appEnvironment,i=n.onUploadStart,a=n.onUploadEnd,o=e.state.index,c=sc(t);if(void 0!==c&&void 0!==r&&void 0!==a){var u=e.inputRef.current;null!==u&&(u.value="");var l=!1,s=Promise.resolve("");e.setUploadProgress(0,o),null===i||void 0===i||i.call(void 0,o),s=dc(c).then((function(t){return e.setSourceOverride(t,o),t})),Object(A.s)(e.handleFileUpload(c,o).finally((function(){l||(l=!0,Object(A.s)(s.then((function(t){e.clearSourceOverride(t,o),e.clearUploadProgress(o)}))))})))}},e.setIndex=function(t){e.setState({index:t})},e}return Object(a.a)(n,[{key:"setSourceOverride",value:function(e,t){var n=this.state.sourceOverrides;this.setState({sourceOverrides:Object(s.a)(Object(s.a)({},n),{},{[t]:e})})}},{key:"clearSourceOverride",value:function(e,t){var n=this.state.sourceOverrides;if(n[t]===e){var r=Object(s.a)({},n);delete r[t],this.setState({sourceOverrides:r})}}},{key:"setUploadProgress",value:function(e,t){var n=this.state.uploadProgresses;this.setState({uploadProgresses:Object(s.a)(Object(s.a)({},n),{},{[t]:e})})}},{key:"clearUploadProgress",value:function(e){var t=this.state.uploadProgresses,n=Object(s.a)({},t);delete n[e],this.setState({uploadProgresses:n})}},{key:"reportProgress",value:function(e){var t=this;return function(n,r){t.setUploadProgress(100*r/n,e)}}},{key:"handleFileUpload",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n){var r,i,a,o,c,u,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,i=r.onUploadEnd,a=r.appEnvironment,void 0!==i&&void 0!==a){e.next=3;break}return e.abrupt("return");case 3:this.setUploadProgress(0,n),void 0!==(o=this.uploadSessions[n])&&o.cancel(),c=a.uploadAppFile(t,"image",this.reportProgress(n)),this.uploadSessions[n]=c;case 8:return e.next=11,c.attempt();case 11:if(l=e.sent,Object(B.r)(l)){e.next=15;break}return u=l.path,e.abrupt("break",21);case 15:return e.next=17,kc(l);case 17:if(e.sent){e.next=19;break}return e.abrupt("break",21);case 19:e.next=8;break;case 21:i(n,u),void 0!==u&&this.setSourceOverride(u,n),this.uploadSessions[n]===c&&delete this.uploadSessions[n];case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this.props.images,t=!0,n=!1,i=void 0;try{for(var a,o=e.entries()[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var c=Object(r.a)(a.value,2),u=c[0],l=c[1];this.clearSourceOverride(l,u)}}catch(s){n=!0,i=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"componentWillUnmount",value:function(){for(var e=Object(s.a)({},this.uploadSessions),t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];e[r].cancel(),delete this.uploadSessions[r]}}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.size,i=n.images,a=n.appEnvironment,o=n.sizing,c=n.gravity,u=n.fitStyle,l=n.bottomLeftOverlay,s=n.bottomRightOverlay,d=n.topLeftOverlay,f=n.topRightOverlay,p=n.onUploadEnd,v=n.uploadDisabled,h=n.showUploadButton,b=this.state,m=b.index,g=b.sourceOverrides,O=b.overlayShowing,y=b.uploadProgresses,j=jt.createElement(Xt,{fitToContent:r===pc.b.Fit},jt.createElement(qt.b,null)),k=1===i.length&&Object(A.E)(i[0]),x=i.map((function(e,t){var n;return jt.createElement(yh,{fontSize:120,size:r,sizing:o,gravity:c,appID:null===a||void 0===a?void 0:a.appID,draggable:!1,whenLoading:j,key:t,src:null!==(n=g[t])&&void 0!==n?n:e,disabled:void 0!==y[t]})}));O&&(e=jt.createElement(jt.Suspense,{fallback:jt.createElement("div",null)},jt.createElement(kh,{hideOverlay:this.onOverlayClose,resizedImgSrc:"",imgSrc:Object(We.j)(i[m],!1)})));var C=void 0!==p&&!0===h,w=void 0!==y[m],S=C?jt.createElement("label",{className:"carousel-upload-button"},jt.createElement("input",{type:"file",accept:"image/*",disabled:v||w,onChange:this.onInputChange,ref:this.inputRef}),w?jt.createElement("div",{className:"upload-container",onClick:this.onUploadCancelClick},Object(bc.b)()):jt.createElement($t,null)):void 0,E=u===pc.c.Content?"inset":"";k&&(E+=" single-emoji");var M=y[m];return jt.createElement(pn.c.Consumer,null,(function(n){return jt.createElement(Yt,Object.assign({"data-test":"app-image-carousel",className:E},n),jt.createElement(jh,{allowDrop:void 0!==p,onDropImage:t.onDropImageHandler,onClick:t.onClick},jt.createElement(hh,{fitStyle:u,index:m,onIndexChange:t.setIndex,size:r},x)),jt.createElement(Nu,{className:"carousel-overlay",bottomLeft:l,bottomRight:null!==S&&void 0!==S?S:s,topLeft:d,topRight:f}),e,void 0!==M?jt.createElement(Qt,{progress:M}):null)}))}}]),n}(jt.PureComponent),Ch=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,15),o=a[0],c=(a[1],a[2]),u=a[3],l=a[4],s=a[5],d=a[6],f=a[7],v=a[8],h=a[9],b=a[10],m=a[11],g=a[12],O=a[13],y=a[14],j=Object(r.a)(i,2),k=j[0],x=j[1];if(o===B.i||s===B.i)return n.renderProgress();var C=Object(p.N)(u,pc.f.Cover,p.F),w=Object(p.N)(c,pc.b.Square,p.F),S=Object(p.N)(d,pc.c.FullWidth,p.F),E=Object(p.N)(f,!1,p.x),M=Object(p.N)(b,pc.d.Center,p.F),R=Object(p.N)(h,!1,p.x),D=Qa(v,B.d.Image,t,n).onClick,T=!Object(Sr.definedMapWithDefault)(s,!0,p.x)||l===B.i;if(void 0===o&&!R)return null;var P=Array.isArray(o)?Object(A.V)(Object(p.v)(o),(function(e){return Object(p.M)(e.current,p.F)})):[Object(p.F)(o)];return jt.createElement(xh,{appEnvironment:n.appEnvironment,fitStyle:S,gravity:M,images:P,size:w,sizing:C,tapToEnlarge:E,uploadDisabled:T,showUploadButton:R,onClickItem:D,onUploadStart:T?void 0:function(){return null===x||void 0===x?void 0:x.set(!1)},onUploadEnd:T?void 0:function(e,r){var i;null===x||void 0===x||x.set(!0),void 0!==r&&(i=r,null===k||void 0===k||k.set(i),Object(p.K)(l)&&Object(B.o)(l).run(t,n,B.d.Image))},topLeftOverlay:Object(p.M)(m,(function(e){return Object(B.q)(e).render(t,n)})),bottomLeftOverlay:Object(p.M)(O,(function(e){return Object(B.q)(e).render(t,n)})),bottomRightOverlay:Object(p.M)(y,(function(e){return Object(B.q)(e).render(t,n)})),topRightOverlay:Object(p.M)(g,(function(e){return Object(B.q)(e).render(t,n)}))})}}]),e}(),wh=n(774),Sh=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,7),o=a[0],c=a[1],u=a[2],l=(a[3],a[4]),s=a[5],d=a[6],f=Object(r.a)(i,4),h=f[0],b=f[3];if(o===B.i||l===B.i)return n.renderProgress();var m=!Object(p.K)(c)||!1!==u,g=!0===s,y=Object(p.N)(d,wh.a.Any,(function(e){return Object(p.F)(e)})),j="";void 0!==o&&(j=Object(p.F)(o));var k="";return void 0!==l&&(k=Object(p.F)(l)),g&&!0!==Object(p.L)(j)&&void 0!==b&&b.set(!1),jt.createElement(Cv,{ctx:t,env:n,valuePV:o,onChangeValue:c,valueProducer:h,validFlag:b,isRequired:g,isEnabled:m,showPreview:!0,caption:k,iconSource:"13-01-taking-pictures-circle-alternate",deleteModalTitle:Object(O.e)("areYouSureYouWantToDeleteThisImage"),mimePattern:"image/*",capture:y===wh.a.CameraOnly?"environment":void 0,onChangeActionSource:v.a.ImagePicker})}}]),e}(),Eh=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,2),a=i[0],o=i[1];if(a===B.i||o===B.i)return null;var c=Object(p.v)(a);return jt.createElement("div",null,c.map((function(e,t){return jt.createElement(jt.Fragment,{key:t},Object(B.q)(o).render(e,n.with({})))})))}}]),e}(),Mh=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,1)[0];return i===B.i?jt.createElement(Ya,null):jt.createElement(Ya,{"data-test":"app-label"},Object(p.F)(i))}}]),e}(),Rh=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"convertIn",value:function(e){return Object(p.D)(e)}},{key:"convertOut",value:function(e){return Object(Sr.withDefault)(e,e)}},{key:"renderContent",value:function(e,t,n,i){var a=this,o=Object(r.a)(e,3),c=o[0],u=o[1],l=o[2],s=Object(r.a)(i,1)[0];if(l===B.i||c===B.i||u===B.i)return n.renderProgress();var d=Object(Sr.definedMapWithDefault)(c,0,p.D),f=Object(Sr.definedMapWithDefault)(l,"",p.F),v=function(){var e=Object(x.a)(k.a.mark((function e(r){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==s){e.next=2;break}return e.abrupt("return");case 2:s.set(a.convertOut(r)),Object(p.K)(u)&&void 0!==t&&void 0!==n&&Object(B.o)(u).run(t,n,B.d.DateTimeField);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=[{value:-1,label:Object(O.e)("disliked"),icon:"22-04-dislike-1-alternate"},{value:1,label:Object(O.e)("liked"),icon:"22-04-like-1-alternate"}];return jt.createElement(Zr,{value:this.convertIn(d),caption:f,onChange:v,isSvg:!0,defaultIcon:"22-04-like-1-alternate",options:h})}}]),e}();function Dh(){var e=Object(Kt.a)(["\n    width: 36px;\n    height: 36px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Dh=function(){return e},e}function Th(){var e=Object(Kt.a)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 21px;\n    height: 21px;\n\n    border-radius: 50%;\n\n    background: ",";\n    box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.32);\n\n    ","\n\n    transition: background-color 0.2s, transform 0.2s;\n\n    > * {\n        ","\n    }\n"]);return Th=function(){return e},e}function Ph(){var e=Object(Kt.a)(["\n    width: 28px;\n    height: 15px;\n    background: ",";\n    opacity: 0.4;\n    border-radius: 7.5px;\n\n    transition: background-color 0.2s;\n"]);return Ph=function(){return e},e}function Ih(){var e=Object(Kt.a)(["\n    position: relative;\n    margin-left: 8px;\n\n    flex-shrink: 0;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    width: 42px;\n    height: 21px;\n"]);return Ih=function(){return e},e}function _h(){var e=Object(Kt.a)(["\n    position: absolute;\n    left: 2px;\n    top: 2px;\n    width: 28px;\n    height: 28px;\n\n    border-radius: 50%;\n\n    background: ",";\n    box-shadow: 0px 3px 4px rgba(0, 0, 0, 0.16);\n    border: 0.5px solid rgba(0, 0, 0, 0.08);\n    box-sizing: border-box;\n\n    ","\n\n    transition: transform 0.2s;\n\n    > * {\n        ","\n    }\n"]);return _h=function(){return e},e}function Nh(){var e=Object(Kt.a)(["\n    position: absolute;\n    left: 4px;\n    top: 4px;\n    width: calc(100% - 8px);\n    height: calc(100% - 8px);\n\n    color: ",";\n\n    @keyframes switch-spinner-forever {\n        from {\n            transform: rotate(0deg);\n        }\n        to {\n            transform: rotate(360deg);\n        }\n    }\n\n    animation: switch-spinner-forever 1s linear infinite;\n"]);return Nh=function(){return e},e}function Ah(){var e=Object(Kt.a)(["\n    width: 51px;\n    height: 32px;\n    background: ",";\n    border-radius: 18px;\n\n    box-sizing: border-box;\n    ","\n\n    transition: border 0.2s, background-color 0.2s;\n"]);return Ah=function(){return e},e}function Fh(){var e=Object(Kt.a)(["\n    ",";\n    color: ",";\n    margin-top: 4px;\n\n    .no-wrap & {\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n    }\n"]);return Fh=function(){return e},e}function Lh(){var e=Object(Kt.a)(["\n    ",";\n\n    color: ",";\n\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n"]);return Lh=function(){return e},e}function Bh(){var e=Object(Kt.a)(["\n    position: relative;\n    margin-left: 8px;\n\n    flex-shrink: 0;\n"]);return Bh=function(){return e},e}function Vh(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n\n    min-width: 1px;\n    flex-grow: 1;\n"]);return Vh=function(){return e},e}function Uh(){var e=Object(Kt.a)(["\n    padding: ","px ","px;\n\n    ","\n\n    display: flex;\n    align-items: center;\n"]);return Uh=function(){return e},e}var zh=function(){return jt.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.7778 10C17.7778 5.70445 14.2955 2.22222 10 2.22222V0C15.5228 0 20 4.47715 20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10H2.22222C2.22222 14.2955 5.70445 17.7778 10 17.7778C14.2955 17.7778 17.7778 14.2955 17.7778 10Z",fill:"currentColor"}))},Wh=qt.i.div(Uh(),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return!e.isEnabled&&qt.g})),Hh=qt.i.div(Vh()),Kh=qt.i.div(Bh()),qh=qt.i.div(Lh(),(function(e){return e.theme.listItem.titleFontStyle}),(function(e){return e.theme.fgColorDark})),Gh=qt.i.div(Fh(),(function(e){return e.theme.listItem.detailFontStyle}),(function(e){return e.theme.fgColorMedium})),Jh=qt.i.div(Ah(),(function(e){return e.checked?e.theme.switch.big.selectedBackgroundColor:e.theme.switch.big.backgroundColor}),(function(e){return!e.checked&&"border: 2px solid ".concat(e.theme.switch.big.borderColor,";")})),Zh=Object(qt.f)(Nh(),(function(e){return e.theme.primaryAccentColor})),Xh=qt.i.div(_h(),(function(e){return e.theme.switch.big.thumbColor}),(function(e){return e.checked&&"transform: translateX(19px);"}),Zh),Yh=qt.i.div(Ih()),Qh=qt.i.div(Ph(),(function(e){return e.checked?e.theme.primaryAccentColor:e.theme.switch.compact.backgroundColor})),$h=qt.i.div(Th(),(function(e){return e.checked?e.theme.primaryAccentColor:e.theme.switch.compact.thumbColor}),(function(e){return e.checked&&"transform: translateX(21px);"}),Zh),eb=qt.i.div(Dh()),tb=function(){return jt.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("path",{d:"M20.84 4.60999C20.3292 4.099 19.7228 3.69364 19.0554 3.41708C18.3879 3.14052 17.6725 2.99817 16.95 2.99817C16.2275 2.99817 15.5121 3.14052 14.8446 3.41708C14.1772 3.69364 13.5708 4.099 13.06 4.60999L12 5.66999L10.94 4.60999C9.9083 3.5783 8.50903 2.9987 7.05 2.9987C5.59096 2.9987 4.19169 3.5783 3.16 4.60999C2.1283 5.64169 1.54871 7.04096 1.54871 8.49999C1.54871 9.95903 2.1283 11.3583 3.16 12.39L4.22 13.45L12 21.23L19.78 13.45L20.84 12.39C21.351 11.8792 21.7563 11.2728 22.0329 10.6053C22.3095 9.93789 22.4518 9.22248 22.4518 8.49999C22.4518 7.77751 22.3095 7.0621 22.0329 6.39464C21.7563 5.72718 21.351 5.12075 20.84 4.60999V4.60999Z",stroke:"#E9453A",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},nb=function(){return jt.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("path",{d:"M20.8401 4.60999C20.3294 4.099 19.7229 3.69364 19.0555 3.41708C18.388 3.14052 17.6726 2.99817 16.9501 2.99817C16.2276 2.99817 15.5122 3.14052 14.8448 3.41708C14.1773 3.69364 13.5709 4.099 13.0601 4.60999L12.0001 5.66999L10.9401 4.60999C9.90843 3.5783 8.50915 2.9987 7.05012 2.9987C5.59109 2.9987 4.19181 3.5783 3.16012 4.60999C2.12843 5.64169 1.54883 7.04096 1.54883 8.49999C1.54883 9.95903 2.12843 11.3583 3.16012 12.39L4.22012 13.45L12.0001 21.23L19.7801 13.45L20.8401 12.39C21.3511 11.8792 21.7565 11.2728 22.033 10.6053C22.3096 9.93789 22.4519 9.22248 22.4519 8.49999C22.4519 7.77751 22.3096 7.0621 22.033 6.39464C21.7565 5.72718 21.3511 5.12075 20.8401 4.60999Z",fill:"#E9453A",stroke:"#E9453A",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))};var rb=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onClick=function(){e.props.onChanged(!e.props.checked)},e}return Object(a.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.checked,r=t.visual,i=t.title,a=t.description,o=t.isEnabled,c=t.showSpinner,u=t.allowWrapping,l=c?jt.createElement(zh,null):null;return"switch"===r?e="Android"===this.props.theme.navBar.style?jt.createElement(Yh,null,jt.createElement(Qh,{checked:n}),jt.createElement($h,{checked:n},l)):jt.createElement(Kh,null,jt.createElement(Jh,{checked:n}),jt.createElement(Xh,{checked:n},l)):"favorite"===r?e=n?jt.createElement(eb,null,jt.createElement(nb,null)):jt.createElement(eb,null,jt.createElement(tb,null)):Object(A.e)(r),jt.createElement(Wh,Object.assign({className:u?"wrap":"no-wrap","data-test":"app-switch-view",isEnabled:o,onClick:this.onClick},this.props.highlightProps,{ref:this.props.highlightProps.ref}),jt.createElement(Hh,null,jt.createElement(qh,null,i),!Object(A.F)(a)&&jt.createElement(Gh,null,a)),e)}}]),n}(jt.PureComponent),ib=Object(pn.d)(Object(Ut.withTheme)(rb)),ab=function(e){var t=jt.useRef(!1),n=jt.useState(void 0),i=Object(r.a)(n,2),a=i[0],o=i[1],c=e.setValue,u=e.validFlag,l=e.disabled,s=e.appID,d=jt.useCallback((function(){var e={updateLocation:function(n,r){if(t.current){var i="".concat(n,",").concat(r);c(i),o(i),t.current=!1,null===u||void 0===u||u.set(!0)}Object(g.g)(e),Object(Oi.i)("location acquired",{app_id:s,lat:n,long:r})},locationError:function(){t.current&&(t.current=!1,null===u||void 0===u||u.set(!0)),Object(g.g)(e),Object(Oi.i)("location failed",{app_id:s})}};t.current=!0,null===u||void 0===u||u.set(!1),Object(g.e)(e)}),[c,u,t,s]),f=jt.useCallback((function(){c(""),o(void 0),t.current=!1,null===u||void 0===u||u.set(!0)}),[c,u]);return void 0!==a?jt.createElement(ib,{title:Object(O.e)("useMyCurrentLocation"),allowWrapping:!0,visual:"switch",onChanged:f,isEnabled:!l,checked:!0}):t.current?jt.createElement(ib,{title:Object(O.e)("retrievingLocation"),allowWrapping:!0,visual:"switch",onChanged:f,isEnabled:!l,showSpinner:!0,checked:!0}):jt.createElement(ib,{title:Object(O.e)("useMyCurrentLocation"),allowWrapping:!0,visual:"switch",onChanged:d,isEnabled:!l,checked:!1})},ob=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,3),o=a[0],c=a[1],u=a[2],l=Object(r.a)(i,4),s=l[0],d=l[3];if(o===B.i)return n.renderProgress();var f=!Object(p.K)(c)||!1!==u;return jt.createElement(ab,{setValue:function(e){void 0!==s&&(s.set(e),Object(p.K)(c)&&void 0!==t&&void 0!==n&&Object(B.o)(c).run(t,n,B.d.ImagePicker))},validFlag:d,disabled:!f,appID:n.appEnvironment.appID})}}]),e}();function cb(){var e=Object(Kt.a)(["\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 2;\n    background-color: ",";\n\n    @keyframes bottom-list-item-intro {\n        0% {\n            transform: translateY(100%);\n        }\n        50% {\n            transform: translateY(100%);\n        }\n        100% {\n            transform: translateY(0);\n        }\n    }\n\n    @keyframes bottom-list-item-outro {\n        0% {\n            transform: translateY(0);\n        }\n        50% {\n            transform: translateY(100%);\n        }\n        100% {\n            transform: translateY(100%);\n        }\n    }\n\n    ",";\n\n    animation: "," 0.3s;\n    animation-timing-function: ease-out;\n"]);return cb=function(){return e},e}function ub(){var e=Object(Kt.a)(["\n    color: ",";\n\n    & > * {\n        ",";\n\n        transition-property: transform;\n        transition-duration: 0.3s;\n    }\n"]);return ub=function(){return e},e}function lb(){var e=Object(Kt.a)(["\n    padding-bottom: ","px;\n"]);return lb=function(){return e},e}function sb(){var e=Object(Kt.a)(["\n    transform: translateY(0);\n    transition-timing-function: ease-in-out;\n"]);return sb=function(){return e},e}function db(){var e=Object(Kt.a)(["\n    transform: translateY(-86px);\n    transition-timing-function: cubic-bezier(0.17, 0.62, 0.37, 1.36);\n"]);return db=function(){return e},e}function fb(){var e=Object(Kt.a)(["\n    position: relative;\n    width: 100%;\n    flex-grow: 1;\n    ","\n"]);return fb=function(){return e},e}function pb(){var e=Object(Kt.a)(["\n    padding-bottom: 100%;\n    overflow: hidden;\n"]);return pb=function(){return e},e}var vb=Object(Ut.css)(pb()),hb=qt.i.div(fb(),(function(e){return e.isInline&&e.isMapMode&&vb})),bb=Object(Ut.css)(db()),mb=Object(Ut.css)(sb()),gb=qt.i.div(lb(),(function(e){return e.isInline?0:86})),Ob=qt.i.div(ub(),(function(e){return e.theme.baseColor}),(function(e){return e.bottomOpen?bb:mb})),yb=qt.i.div(cb(),(function(e){return e.theme.baseColor}),(function(e){return!e.show&&"transform: translateY(100%);"}),(function(e){return e.show?"bottom-list-item-intro":"bottom-list-item-outro"})),jb=n(738);var kb=Object(yt.a)("mapbox-map-list-map",(function(){return Promise.all([n.e(23),n.e(82)]).then(n.bind(null,1644))})),xb=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={mode:jb.a.Map,selectedMarker:void 0,lastMarker:void 0,canShowBottomContainer:!0},r.mapRefPriv=jt.createRef(),r.onSwitch=function(){r.state.mode===jb.a.List?r.setState({mode:jb.a.Map,selectedMarker:void 0,lastMarker:void 0}):r.setState({mode:jb.a.List,selectedMarker:void 0})},r.onLocate=function(){r.locateCb()},r.onMarkerSelected=function(e){var t=r.props.markers.indexOf(e);-1!==t?r.props.onMarkerTapped(e)?r.setState({selectedMarker:t,lastMarker:e,canShowBottomContainer:!1}):r.setState({selectedMarker:t,lastMarker:e,canShowBottomContainer:!0}):r.setState({selectedMarker:void 0})},r.locateCb=function(){},void 0===e.savedState&&(r.state.mode=e.defaultMode),r}return Object(a.a)(n,[{key:"mapRef",get:function(){return Object(Sr.withDefault)(this.props.highlightProps.ref,this.mapRefPriv)}}]),Object(a.a)(n,[{key:"componentDidMount",value:function(){if(void 0!==this.props.savedState){var e,t=this.props.savedState.selectedMarker;void 0!==t&&t>=this.props.markers.length&&(t=void 0),void 0!==t&&(e=this.props.markers[t]),this.setState({mode:this.props.savedState.mode,selectedMarker:t,lastMarker:e})}}},{key:"componentDidUpdate",value:function(e){this.props.defaultMode!==e.defaultMode&&this.setState({mode:this.props.defaultMode})}},{key:"componentWillReceiveProps",value:function(e){if(e.markers!==this.props.markers&&void 0!==this.state.selectedMarker)if(e.markers.length<=this.state.selectedMarker)this.setState({selectedMarker:void 0});else{var t=e.markers[this.state.selectedMarker],n=this.props.markers[this.state.selectedMarker];t.title===n.title&&t.lat===n.lat&&t.lng===n.lng||this.setState({selectedMarker:void 0})}}},{key:"componentWillUnmount",value:function(){this.props.saveState({mode:this.state.mode,selectedMarker:this.state.selectedMarker})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.itemFactory,i=n.listContent,a=n.isSearchActive,o=n.insideInlineList,c=n.showUserLocation,u=n.markers,l=n.markersLoading,s=n.theme,d=n.scrollOverlayID,f=n.listCount,p=n.renderEnvironment,v=this.state.mode;a&&(v=jb.a.List);var h=void 0!==this.state.lastMarker&&void 0!==this.state.selectedMarker&&this.state.canShowBottomContainer,b=kb;if(l&&0===u.length)e=null;else if(v===jb.a.List||0===u.length&&f>0)v!==jb.a.List&&this.setState({mode:jb.a.List}),e=jt.createElement(gb,{isInline:o},i);else{var m;void 0!==this.state.lastMarker&&this.state.canShowBottomContainer&&(m=jt.createElement(yb,{show:void 0!==this.state.selectedMarker},r(this.state.lastMarker))),e=jt.createElement(jt.Suspense,{fallback:jt.createElement("div",null)},jt.createElement(Rt,null,(function(e){return jt.createElement(b,{markers:u,selectedMarker:t.state.selectedMarker,onMarkerSelected:t.onMarkerSelected,onMapClick:function(){return t.setState({selectedMarker:void 0})},appUtilities:e,showUserLocation:c,setLocateCallback:function(e){return t.locateCb=e}})})),m),"tablet"===p.sizeClass&&"master"===p.displayContext&&void 0===this.state.selectedMarker&&void 0===this.state.lastMarker&&u.length>0&&this.onMarkerSelected(u[0])}var g,O=jt.createElement(Ob,{bottomOpen:h},!o&&jt.createElement(su.b,{dataTest:"app-map-list-toggle",distance:20,onClick:this.onSwitch},v===jb.a.List?jt.createElement(Nt.k,{size:22}):jt.createElement(Nt.j,{size:22})),c&&v===jb.a.Map&&jt.createElement(su.b,{dataTest:"app-map-locate-button",color:"white",distance:20,yOffset:o?0:-68,onClick:this.onLocate},jt.createElement(Nt.n,{color:s.map.locationButtonForegroundColor,size:24}))),y=document.getElementById(d);return o&&this.mapRef&&this.mapRef.current&&(y=ku.a.findDOMNode(this.mapRef.current)),null!==y&&(g=ku.a.createPortal(O,y)),jt.createElement(hb,Object.assign({ref:this.mapRef,className:"fullBleed",isInline:this.props.insideInlineList,isMapMode:v===jb.a.Map},this.props.highlightProps),e,!a&&u.length>0&&g)}}]),n}(jt.PureComponent);var Cb=Object(pn.d)(Object(Ut.withTheme)((function(e){return jt.createElement(Ta.a,null,(function(t){return jt.createElement(xb,Object.assign({},e,{scrollOverlayID:t}))}))}))),wb=function(){function e(){Object(i.a)(this,e),this.needsGrow=!0}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a,o){var c=Object(r.a)(e,9),u=c[0],l=c[1],s=c[2],f=c[3],h=c[4],b=c[5],m=c[6],g=c[7],O=c[8];if(u===B.i||l===B.i||s===B.i||b===B.i)return null;for(var y=Object(p.N)(f,!1,p.x),j=Object(p.x)(b),k=[],x=Object(p.v)(l),C=Object(p.v)(u),w=0,S=0;S<x.length;S++){var E,M=x[S],R=C[S],D=M.getObjectInspector(a);if(Object(p.K)(D)){var T=D.getProperty("location");if(void 0!==T){var P=Object(p.G)(T,a);if(P!==B.i&&(w++,void 0!==P)){var I=null!==(E=Object(p.M)(Object(d.definedMap)(D.getProperty("title"),a),p.F))&&void 0!==E?E:"";k.push({title:I,lat:P.latitude,lng:P.longitude,handle:R})}}}}var _=Object(p.N)(h,jb.a.Map,p.F),N=Object(p.N)(m,!1,p.x),A=Object(p.M)(g,p.F);if(0===C.length&&0===k.length)return void 0===g?null:jt.createElement(Ga,null,g);var F=jt.createElement(kd,{appFeatures:n.appEnvironment.appFeatures,title:"",hasUnevenRows:!0,items:C,topAlign:!1,emptyMessage:A},(function(e,t,r){return Object(B.q)(s).render(e,n.with({columnWidth:r}),t)}));return jt.createElement(Cb,{renderEnvironment:n,isSearchActive:y,listCount:C.length,listContent:F,markers:k,markersLoading:w!==C.length,itemFactory:function(e){return Object(B.q)(s).render(e.handle,n,void 0)},saveState:function(e){o.state=e},savedState:o.state,defaultMode:_,insideInlineList:j,showUserLocation:N,onMarkerTapped:function(e){return!!Object(p.K)(O)&&("tablet"===n.sizeClass&&(Object(B.o)(O).run(e.handle,n,v.a.MapScreen),!0))}})}}]),e}();function Sb(){var e=Object(Kt.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n"]);return Sb=function(){return e},e}function Eb(){var e=Object(Kt.a)(["\n    height: ","px;\n    width: 100%;\n\n    position: relative;\n"]);return Eb=function(){return e},e}var Mb=qt.i.div(Eb(),(function(e){return e.theme.map.defaultHeight})),Rb=qt.i.img(Sb());var Db=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={url:""},e}return Object(a.a)(n,[{key:"updateUrl",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n){var r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="light"===this.props.theme.mapTheme?We.b.Light:We.b.Dark,e.next=3,Object(We.i)(this.props.appEnvironment,{kind:We.a.GeoCoordinates,location:this.props.location},t,n,Object(Sr.withDefault)(this.props.zoom,15),r);case 3:void 0!==(i=e.sent)&&i!==this.state.url&&this.setState({url:i});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.onClick,r=t.highlightProps,i=jt.createElement(Fo.AutoSizer,null,(function(t){return Object(A.s)(e.updateUrl(t.width,t.height)),jt.createElement(Rb,{src:e.state.url})}));return jt.createElement(Mb,Object.assign({"data-test":"app-static-map",className:"fullBleed"},r,{onClick:n}),i)}}]),n}(jt.PureComponent),Tb=Object(pn.d)(Object(Ut.withTheme)(Db)),Pb=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i,a,o=Object(r.a)(e,5),c=o[0],u=o[1],l=o[2],s=o[3],d=o[4];if(Object(p.K)(d)){var f=Object(p.F)(d);i={kind:B.j.Address,address:f},a=f}else{var v=Object(p.M)(c,p.D),h=Object(p.M)(u,p.D);if(void 0===v||void 0===h)return null;i={kind:B.j.LatLong,latitude:v,longitude:h},a={latitude:v,longitude:h}}var m=Object(p.M)(l,p.D),g=Object(p.M)(s,(function(e){return function(){return Object(B.o)(e).run(b.c.fromJSON(a),n,B.d.OpenMap)}}));return jt.createElement(Tb,{appEnvironment:n.appEnvironment,location:i,zoom:m,onClick:g})}}]),e}(),Ib=Object(yt.a)("markdown-view",(function(){return Promise.all([n.e(10),n.e(85)]).then(n.bind(null,1292))})),_b=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,2),a=i[0],o=i[1];if(a===B.i)return n.renderProgress();if(void 0===a)return null;var c=Object(p.N)(o,"",p.F);return jt.createElement(jt.Suspense,{fallback:jt.createElement("div",null)},jt.createElement(Ib,{markdown:Object(p.F)(a),caption:Object(A.wb)(c)}))}}]),e}();function Nb(){var e=Object(Kt.a)(["\n    padding: ","px ","px;\n    ","\n\n    .note-body-area {\n        padding: 12px;\n        border-radius: 6px;\n        background-color: ",";\n\n        :hover,\n        :focus {\n            background-color: ",";\n        }\n\n        cursor: pointer;\n    }\n\n    .add-label {\n        color: ",";\n        ",";\n\n        display: flex;\n        align-items: center;\n\n        & > span {\n            margin-left: 8px;\n        }\n    }\n\n    .header {\n        color: ",";\n        ",";\n\n        margin-bottom: 8px;\n    }\n\n    .body-wrapper {\n        color: ",";\n        ",";\n        -webkit-line-clamp: 3;\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n\n        margin-bottom: 10px;\n    }\n"]);return Nb=function(){return e},e}function Ab(){var e=Object(Kt.a)(["\n    opacity: 0.4;\n    pointer-events: none;\n"]);return Ab=function(){return e},e}var Fb=Object(Ut.css)(Ab()),Lb=qt.i.div(Nb(),(function(e){return e.theme.componentInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return!e.isEnabled&&Fb}),(function(e){return e.theme.picker.backgroundColor}),(function(e){return e.theme.picker.hoverColor}),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.fontStyles.Body4}),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.fontStyles.Header5}),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fontStyles.Body4}));var Bb=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={},e.onPreviewClicked=function(){void 0!==e.props.onTap?e.props.onTap():e.showOverlay()},e.onEditorClosed=function(){e.hideOverlay()},e.onTextSaved=function(t){e.props.onSave(t),e.hideOverlay()},e}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){var r=this.props,i=r.title,a=r.placeholder,o=r.note,c=r.isEnabled;return e.note!==o||e.placeholder!==a||t.overlayState!==this.state.overlayState||e.title!==i||e.isEnabled!==c}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.placeholder,i=t.renderEnvironment,a=t.highlightProps,o=t.note,c=t.isEnabled,u=t.isRequired;if(void 0===o||0===o.length){var l=u?Object(O.e)("required"):Object(O.e)("addANewNote");e=jt.createElement("div",{className:"add-label"},jt.createElement(Nt.g,{size:24}),jt.createElement("span",null,l))}else e=jt.createElement(jt.Fragment,null,jt.createElement("div",{className:"body-wrapper"},o),jt.createElement("div",{className:"add-label"},Object(O.e)("editNote")));var s=r;void 0!==s&&0!==s.length||(s=Object(O.e)("writeANote"));var d,f=this.props.title;return Object(A.F)(f)&&(f=Object(O.e)("notes")),this.shouldRenderPortal()&&(d=this.getPortal(jt.createElement(Ps,{renderEnvironment:i,title:f,placeholder:s,text:o,saved:this.onTextSaved,saveText:Object(O.e)("done"),saveIcon:"check",closed:this.onEditorClosed,closedText:Object(O.e)("cancel"),allowEmpty:!0}))),jt.createElement(jt.Fragment,null,jt.createElement(Lb,Object.assign({className:n,"data-test":"app-note-preview",isEnabled:c,onClick:this.onPreviewClicked},a,{ref:a.ref}),void 0!==f&&f.length>0&&jt.createElement("div",{className:"header"},f),jt.createElement("div",{className:"note-body-area"},e)),d)}}]),n}(Ml),Vb=Object(pn.d)(Bb),Ub=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,7),o=a[0],c=a[1],u=a[2],l=a[3],s=a[4],f=a[5],v=a[6],h=Object(r.a)(i,2)[1];if(c===B.i||o===B.i||f===B.i)return n.renderProgress();var b;Object(p.K)(l)&&(b=function(){Object(p.K)(l)&&Object(B.o)(l).run(t,n,B.d.Note)});var m=!Object(p.K)(u)||!1!==s;return jt.createElement(Vb,{renderEnvironment:n,onSave:function(e){Object(A.n)(h).set(e),Object(p.K)(u)&&Object(B.o)(u).run(t,n,B.d.Note)},onTap:b,note:Object(d.definedMap)(c,p.F),placeholder:Object(d.definedMap)(o,p.F),title:Object(d.definedMap)(f,p.F),isEnabled:m,isRequired:!0===v})}}]),e}(),zb=n(739),Wb=n(101),Hb=n.n(Wb);function Kb(){var e=Object(Kt.a)(["\n    --fg: ",";\n    --bg: ",";\n    --border-color: ",";\n\n    padding: 12px;\n    border-radius: 6px;\n    border: 1px solid var(--border-color);\n    margin: ","px ","px;\n\n    color: var(--fg);\n    background-color: var(--bg);\n\n    .hint-header {\n        ",";\n        margin-bottom: 4px;\n    }\n    .hint-body {\n        ",";\n    }\n"]);return Kb=function(){return e},e}var qb={[zb.b.Default]:"#4F5DFF",[zb.b.Neutral]:"#797989",[zb.b.Warning]:"#EC9D00",[zb.b.Error]:"#FF574C",[zb.b.Success]:"#00CB69"};function Gb(e){return Hb()(e.theme.baseColor).isDark()}function Jb(e){var t=e.mood,n=e.theme,r=t===zb.b.Default?n.primaryAccentColor:qb[t];return Hb()(r)}function Zb(e){var t=Jb(e);return Gb(e)?t.desaturate(12).lighten(15):t.darken(10)}var Xb=qt.i.div(Kb(),(function(e){return Zb(e).toRgbString()}),(function(e){return function(e){var t=Jb(e);return Gb(e)?t.setAlpha(.1).darken(.1):t.setAlpha(.1)}(e).toRgbString()}),(function(e){return Gb(e)?Zb(e).setAlpha(.4).toRgbString():Zb(e).setAlpha(.1).toRgbString()}),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.fontStyles.Header5}),(function(e){return e.theme.fontStyles.Body5}));var Yb=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.mood,r=e.className;return jt.createElement(Xb,Object.assign({className:r,"data-test":"app-hint"},this.props.highlightProps,{mood:n}),void 0!==t&&t.length>0&&jt.createElement("div",{className:"hint-header"},t),jt.createElement("div",{className:"hint-body"},this.props.note))}}]),n}(Ml),Qb=Object(pn.d)(Yb),$b=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,3),a=i[0],o=i[1],c=i[2];if(o===B.i||a===B.i)return n.renderProgress();var u=Object(p.N)(c,zb.b.Default,p.F);return jt.createElement(Qb,{renderEnvironment:n,note:Object(d.definedMap)(o,p.F),title:Object(d.definedMap)(a,p.F),mood:u})}}]),e}();var em=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"dataType",value:function(){return"number"}},{key:"convertIn",value:function(e){var t;return void 0===(t="number"===typeof e?e:Object(A.jb)(Object(p.F)(e)))?"":t.toString()}},{key:"convertOut",value:function(e){return Object(Sr.withDefault)(Object(A.jb)(e),e)}},{key:"getErrorMessage",value:function(e,t,n){var i=Object(A.jb)(e);if(void 0===i)return t?Object(O.e)("required"):void 0;var a=Object(r.a)(n,11),o=a[9],c=a[10],u=Object(p.M)(o,p.D),l=Object(p.M)(c,p.D);return void 0!==u&&i<u?Object(O.a)("mustBeGreaterThan",[u.toString()]):void 0!==l&&i>l?Object(O.a)("mustBeLessThan",[l.toString()]):void 0}}]),n}(vv);function tm(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n\n    flex-grow: 1;\n    align-items: stretch;\n    padding: 5px 30px 0px 30px;\n"]);return tm=function(){return e},e}var nm=qt.i.label(tm());var rm=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onInput=function(t){e.props.onChange(t.target.value)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.value,r=e.className;return jt.createElement(nm,{className:r},jt.createElement(Rs.a,{onChange:this.onInput,value:n,placeholder:t}))}}]),n}(jt.PureComponent),im=Object(Ut.withTheme)(rm),am=function(e){var t=e.onChange,n=(e.value,Object($a.a)(e,["onChange","value"])),i=jt.useState(e.value),a=Object(r.a)(i,2),o=a[0],c=a[1],u=jt.useCallback((function(e){c(e),t(e)}),[t]);return jt.createElement(im,Object.assign({},n,{value:o,onChange:u}))},om=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,2),c=o[0],u=o[1],l=Object(r.a)(i,1)[0];if(c===B.i)return null;var s=Object(Sr.definedMapWithDefault)(c,"",p.F),d=Object(p.N)(u,"",p.F);return jt.createElement(am,{value:s,placeholder:d,onChange:function(e){void 0!==l&&l.set(e)}})}}]),e}();var cm=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"dataType",value:function(){return"phone"}},{key:"convertIn",value:function(e){return Object(p.F)(e)}}]),n}(vv),um=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o=Object(r.a)(e,4),c=o[0],u=o[1],l=o[2],s=o[3];if(void 0===c)return null;var d,f,v=Object(We.d)(c,u,void 0,a),h=v.title,b=v.subtitle,m=[];if(Object(p.K)(s)){var g=Object(B.o)(s).targetURL(t,n,B.d.Phone);m.push({title:"sms",icon:"message-circle",href:g,onClick:function(e){return Object(B.o)(s).run(t,n,B.d.TextMessage,e)}})}return Object(p.K)(l)&&(d=function(e){return Object(B.o)(l).run(t,n,B.d.Phone,e)},f=Object(B.o)(l).targetURL(t,n,B.d.Phone),m.push({title:"phone",icon:"phone"})),jt.createElement(no,{title:c===B.i?B.i:h,subtitle:u===B.i?B.i:b,menuItems:m,onClick:d,targetUrl:f,appEnvironment:n.appEnvironment,flags:Za.b.InvertTitleAndSubtitle})}}]),e}();function lm(){var e=Object(Kt.a)(["\n    position: absolute;\n\n    height: 2px;\n    width: ",";\n    bottom: 0;\n    left: 0;\n\n    background-color: ",";\n\n    transform: translateX(",");\n\n    transition: transform 0.2s;\n"]);return lm=function(){return e},e}function sm(){var e=Object(Kt.a)(["\n    min-width: 1px;\n    width: 1px;\n\n    flex-grow: 1;\n    flex-shrink: 1;\n\n    color: ",";\n\n    ","\n    text-align: center;\n\n    font-variant: all-small-caps;\n    text-transform: lowercase;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    ","\n"]);return sm=function(){return e},e}function dm(){var e=Object(Kt.a)(["\n    position: relative;\n    height: ","px;\n    min-height: ","px;\n\n    display: flex;\n    justify-content: stretch;\n    align-items: stretch;\n\n    margin: 0 0 ","px 0;\n\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.24);\n"]);return dm=function(){return e},e}function fm(){var e=Object(Kt.a)(["\n    min-width: 1px;\n    width: 1px;\n\n    flex-grow: 1;\n    flex-shrink: 1;\n\n    color: ",";\n\n    background-color: ",";\n\n    ","\n    text-align: center;\n    text-transform: lowercase;\n    font-variant: small-caps;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    transition: background-color 0.2s, color 0.2s;\n"]);return fm=function(){return e},e}function pm(){var e=Object(Kt.a)(["\n            width: 100%;\n            margin: 0 auto;\n            max-width: var(--maximum-detail-width);\n        "]);return pm=function(){return e},e}function vm(){var e=Object(Kt.a)(["\n    height: ","px;\n    min-height: ","px;\n\n    border-width: 1px;\n    border-color: ",";\n    border-radius: 4px;\n    border-style: solid;\n\n    display: flex;\n    justify-content: stretch;\n    align-items: stretch;\n\n    margin: 0 ","px ","px;\n\n    ","\n"]);return vm=function(){return e},e}var hm=qt.i.div(vm(),(function(e){return e.theme.pivot.height}),(function(e){return e.theme.pivot.height}),(function(e){return e.theme.navBar.fgColor}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.pivot.bottomMargin}),(function(e){return e.isTabletDetail&&Object(qt.f)(pm())})),bm=qt.i.div(fm(),(function(e){return e.isCurrent?e.theme.navBar.bgColor:e.theme.navBar.fgColor}),(function(e){return e.isCurrent?e.theme.navBar.fgColor:"transparent"}),(function(e){return e.theme.fontStyles.Body5})),mm=qt.i.div(dm(),(function(e){return e.theme.pivot.height}),(function(e){return e.theme.pivot.height}),(function(e){return e.theme.pivot.bottomMargin})),gm=qt.i.div(sm(),(function(e){return e.theme.navBar.fgColor}),(function(e){return e.theme.fontStyles.AccentCallout4}),qt.h),Om=qt.i.div(lm(),(function(e){return e.width}),(function(e){return e.theme.navBar.fgColor}),(function(e){return e.position}));var ym=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(a.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.items,r=t.onClick,i=t.current,a=t.theme,o=t.renderEnvironment,c=hm,u=bm;if("TopTabs"===a.pivot.style){c=mm,u=gm;var l=100/n.length,s=100*i;e=jt.createElement(Om,{width:"".concat(l,"%"),position:"".concat(s,"%")})}var d="tablet"===o.sizeClass&&"detail"===o.displayContext,f=n.map((function(e,t){return jt.createElement(u,{"data-test":"app-pivot-header-item",key:t,onClick:function(){return r(t)},isCurrent:t===i},e)}));return jt.createElement(c,{"data-test":"app-pivot-header",isTabletDetail:d},f,e)}}]),n}(jt.PureComponent),jm=Object(Ut.withTheme)(ym),km=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,3),o=a[0],c=a[1],u=a[2],l=Object(r.a)(i,2)[1];if(o===B.i||c===B.i)return n.renderProgress();var s=Object(p.v)(o).map((function(e,t){return Object(p.N)(e.current,"Pivot ".concat(t+1),p.F)})),d=Object(p.D)(c);return jt.createElement(jm,{renderEnvironment:n,items:s,onClick:function(e){void 0!==l&&(l.set(e),Object(p.K)(u)&&Object(B.o)(u).run(t,n,B.d.PivotPicker))},current:d})}}]),e}(),xm=n(778);function Cm(){var e=Object(Kt.a)(["\n    padding-top: 50px;\n"]);return Cm=function(){return e},e}function wm(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    z-index: 5;\n\n    animation: fadein 0.5s;\n\n    @keyframes fadein {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n\n    .total-value {\n        width: 124px;\n        height: 40px;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        font-weight: bold;\n        color: ",";\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n"]);return wm=function(){return e},e}function Sm(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    .circle-progress-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        padding: 0 ","px ","px;\n        position: relative;\n        width: 100%;\n    }\n\n    & svg:nth-child(1) {\n        height: 240px;\n        width: 240px;\n    }\n\n    &.half-circle svg:nth-child(1) {\n        height: 132px;\n        width: 240px;\n    }\n"]);return Sm=function(){return e},e}var Em=qt.i.div(Sm(),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.pageMarginMedium})),Mm=qt.i.div(wm(),(function(e){return e.theme.fgColorDark})),Rm=Object(qt.i)(Mm)(Cm()),Dm=n(756),Tm=n(666),Pm=n(706),Im=n(678);var _m=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showEllipsis:!1},e.injectEllipsis=function(){e.state.showEllipsis||e.setState({showEllipsis:!0})},e.textFitStyle={overflow:"hidden"},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({showEllipsis:!1})}),200)}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.minimum,r=e.maximum,i=e.title,a=e.caption,o=e.theme,c=e.showTotal,u=e.formatted,l=this.state.showEllipsis?{textOverflow:"ellipsis"}:void 0,s=Math.round(Math.max(0,Math.min(100,100*(t-n)/(r-n)))),d=[{value:t,title:"Value",color:o.primaryAccentColor,displayValue:t.toString},{value:r-t,title:"",color:o.separatorColor,displayValue:(r-t).toString}];return jt.createElement(Em,null,jt.createElement(Tm.a,{isCentered:!0},jt.createElement("div",{className:"chart-title"},i)),jt.createElement("div",{className:Gn()("circle-progress-container")},c&&jt.createElement(Mm,null,jt.createElement(xm.Textfit,{mode:"single",forceSingleModeWidth:!0,min:12,max:34,onReady:this.injectEllipsis,style:this.state.showEllipsis&&this.textFitStyle},jt.createElement("div",{className:"total-value fit-title",style:l},s,"%")),jt.createElement(xm.Textfit,{mode:"single",forceSingleModeWidth:!0,min:10,max:17,onReady:this.injectEllipsis,style:this.state.showEllipsis&&this.textFitStyle},jt.createElement(Pm.d,{className:"fit-subtitle",style:l},u))),jt.createElement(Dm.a,{animate:!!oo.d,animationDuration:20,cx:50,cy:50,data:d,startAngle:270,lengthAngle:360,lineWidth:40,paddingAngle:0,radius:50,ratio:1,rounded:!1,label:!1})),jt.createElement(Im.a,{showDetails:!0,caption:a}))}}]),n}(jt.PureComponent),Nm=Object(Ut.withTheme)(_m);var Am=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showEllipsis:!1},e.injectEllipsis=function(){e.state.showEllipsis||e.setState({showEllipsis:!0})},e.textFitStyle={overflow:"hidden"},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({showEllipsis:!1})}),200)}},{key:"render",value:function(){var e=this.props.value,t=this.props,n=t.minimum,r=t.maximum,i=t.title,a=t.caption,o=t.theme,c=t.showTotal,u=t.formatted,l=this.state.showEllipsis?{textOverflow:"ellipsis"}:void 0;e=Math.max(n,Math.min(r,e));var s=Math.round(Math.max(0,Math.min(100,100*(e-n)/(r-n))));return jt.createElement(Em,{className:"half-circle "},jt.createElement(Tm.a,{isCentered:!0},jt.createElement("div",{className:"chart-title"},i)),jt.createElement("div",{className:Gn()("circle-progress-container")},c&&jt.createElement(Rm,null,jt.createElement(xm.Textfit,{mode:"single",forceSingleModeWidth:!0,min:12,max:34,onReady:this.injectEllipsis,style:this.state.showEllipsis&&this.textFitStyle},jt.createElement("div",{className:"total-value fit-title",style:l},s,"%")),jt.createElement(xm.Textfit,{mode:"single",forceSingleModeWidth:!0,min:10,max:17,onReady:this.injectEllipsis,style:this.state.showEllipsis&&this.textFitStyle},jt.createElement(Pm.d,{className:"fit-subtitle",style:l},u))),jt.createElement(Dm.a,{style:{transform:"scaleX(-1)"},animate:!!oo.d,animationDuration:20,ratio:1.82,cx:50,cy:50,totalValue:r,data:[{value:r-e,title:"",color:o.separatorColor,displayValue:(r-e).toString},{value:e,title:"Value",color:o.primaryAccentColor,displayValue:e.toString}],startAngle:180,lengthAngle:180,lineWidth:20,paddingAngle:0,radius:50,rounded:!0,label:!1})),jt.createElement(Im.a,{showDetails:!0,caption:a}))}}]),n}(jt.PureComponent),Fm=Object(Ut.withTheme)(Am);function Lm(){var e=Object(Kt.a)(["\n    position: absolute;\n\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: ","%;\n\n    background-color: ",";\n"]);return Lm=function(){return e},e}function Bm(){var e=Object(Kt.a)(["\n    position: relative;\n    height: 8px;\n    background: rgba(0, 0, 0, 0.12);\n    border-radius: 4px;\n    overflow: hidden;\n\n    margin: 0 16px;\n"]);return Bm=function(){return e},e}function Vm(){var e=Object(Kt.a)(["\n    ",";\n\n    color: ",";\n    margin-bottom: 8px;\n"]);return Vm=function(){return e},e}function Um(){var e=Object(Kt.a)([""]);return Um=function(){return e},e}var zm=qt.i.div(Um()),Wm=(qt.i.div(Vm(),(function(e){return e.theme.fontStyles.AccentHeader4}),(function(e){return e.theme.fgColorDark})),qt.i.div(Bm())),Hm=qt.i.div(Lm(),(function(e){return e.progress}),(function(e){return e.theme.primaryAccentColor}));var Km=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.minimum,r=e.maximum,i=e.title,a=e.caption,o=Math.round(Math.max(0,Math.min(100,100*(t-n)/(r-n))));return jt.createElement(zm,{"data-test":"app-progress-indicator"},jt.createElement(Tm.a,{isCentered:!1},jt.createElement("div",{className:"chart-title"},i)),jt.createElement(Wm,null,jt.createElement(Hm,{progress:o.toString()})),jt.createElement(Im.a,{showDetails:!0,caption:a}))}}]),n}(jt.PureComponent);function qm(){var e=Object(Kt.a)(["\n    padding: ","px 0;\n"]);return qm=function(){return e},e}var Gm=qt.i.div(qm(),(function(e){return e.theme.componentSmallInnerVerticalPadding})),Jm=Object(pn.d)((function(e){var t,n=e.style,r=e.highlightProps,i=Object($a.a)(e,["style","highlightProps"]);switch(n){case"circle":t=jt.createElement(Nm,i);break;case"half-circle":t=jt.createElement(Fm,i);break;case"bar":default:t=jt.createElement(Km,i)}return jt.createElement(Gm,r,t)})),Zm=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,8),o=a[0],c=a[1],u=a[2],l=a[3],s=a[4],d=a[5],f=a[6],v=a[7];Object(r.a)(i,1)[0];if(o===B.i||l===B.i||s===B.i||c===B.i||u===B.i)return n.renderProgress();var h=Object(Sr.definedMapWithDefault)(o,0,p.D);if(void 0===h)return n.renderProgress();var b=Object(Sr.definedMapWithDefault)(c,0,(function(e){return parseFloat(Object(p.F)(e))})),m=Object(Sr.definedMapWithDefault)(u,100,(function(e){return parseFloat(Object(p.F)(e))})),g=Object(Sr.definedMapWithDefault)(l,"",p.F),O=Object(Sr.definedMapWithDefault)(s,"",p.F),y=Object(Sr.definedMapWithDefault)(v,h.toString(),p.F),j=Object(p.M)(d,p.x),k=Object(p.M)(f,p.F);return isNaN(b)&&(b=0),isNaN(m)&&(m=100),jt.createElement(Jm,{style:k,value:h,minimum:b,maximum:m,title:g,caption:O,showTotal:j,formatted:y})}}]),e}();function Xm(){var e=Object(Kt.a)(["\n    display: flex;\n    justify-content: center;\n"]);return Xm=function(){return e},e}function Ym(){var e=Object(Kt.a)(["\n    position: relative;\n\n    height: 58px;\n    padding: ","px ","px;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    line-height: 120%;\n\n    & .rating-icon {\n        width: 40px;\n        height: 40px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n"]);return Ym=function(){return e},e}var Qm=Ut.default.div(Ym(),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium})),$m=Ut.default.div(Xm());var eg=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={selectedValue:e.props.ratingValue,isMouseDown:!1},e.ratingRef=jt.createRef(),e.onTouchMove=function(t){t.stopPropagation(),t.cancelable&&t.preventDefault();var n=document.elementsFromPoint(t.touches[0].pageX,t.touches[0].pageY),r=e.getSelected(n);e.setState({selectedValue:r,isMouseDown:!0})},e.onMouseMove=function(t){if(e.state.isMouseDown){var n=document.elementsFromPoint(t.clientX,t.clientY),r=e.getSelected(n);e.setState({selectedValue:r})}},e.onMouseDown=function(t){var n=document.elementsFromPoint(t.clientX,t.clientY),r=e.getSelected(n);e.setState({selectedValue:r,isMouseDown:!0})},e.onMouseUp=function(t){var n=e.state.selectedValue;void 0!==n?e.props.onChange(n):e.props.onChange(0),e.setState({isMouseDown:!1})},e.getSelected=function(e){var t=pr()(e.map((function(e){return e.classList.toString().split(" ")}))).find((function(e){return e.startsWith("rating-id-")}));if(void 0===t)return 0;var n=Number.parseInt(t.split("-")[2]);return"number"!==typeof n?0:n},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e;null===(e=this.ratingRef.current)||void 0===e||e.addEventListener("touchmove",this.onTouchMove,{capture:!0,passive:!1})}},{key:"componentWillUnmount",value:function(){var e;null===(e=this.ratingRef.current)||void 0===e||e.removeEventListener("touchmove",this.onTouchMove,{capture:!0})}},{key:"render",value:function(){var e,t,n=this.props,r=n.ratingValue,i=n.caption,a=n.maxRating,o=n.ratingUnit,c=this.state.selectedValue,u=24,l=void 0===c?r:c;switch(e=l<=0?"\u2014":l>a?"".concat(a," / ").concat(a):"".concat(l," / ").concat(a),o){case"stars":t="22-06-rating-star-1",u=40;break;case"hearts":t="22-05-love-it";break;case"money":t="09-05-discount-dollar-dash";break;case"time":t="01-18-time-clock-circle";break;case"pizzas":t="26-04-fast-food-pizza";break;default:t="22-06-rating-star-1"}return jt.createElement(Qm,{"data-test":"app-rating-component"},jt.createElement(Vr,null,jt.createElement(qr,null,i),jt.createElement(Gr,null,e)),jt.createElement($m,{className:"rating-id-0",ref:this.ratingRef,onMouseMove:this.onMouseMove,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},Array.from({length:a},(function(e,n){return jt.createElement("div",{className:"rating-icon rating-id-".concat(n+1)},jt.createElement(Nn.a,{key:n,icon:t,size:u,color:void 0!==c&&n+1<=c?"#3B77E1":"#C4C4C4"}))}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.ratingValue===t.selectedValue||t.isMouseDown||(t.selectedValue=e.ratingValue),t}}]),n}(jt.PureComponent),tg=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"convertIn",value:function(e){return Object(p.D)(e)}},{key:"convertOut",value:function(e){return Object(Sr.withDefault)(e,e)}},{key:"renderContent",value:function(e,t,n,i){var a=this,o=Object(r.a)(e,5),c=o[0],u=o[1],l=o[2],s=o[3],d=o[4],f=Object(r.a)(i,1)[0];if(l===B.i||c===B.i||u===B.i)return n.renderProgress();var v=Object(Sr.definedMapWithDefault)(c,0,p.D),h=Object(Sr.definedMapWithDefault)(l,"",p.F),b=Object(Sr.definedMapWithDefault)(s,3,p.D),m=Object(Sr.definedMapWithDefault)(d,"stars",p.F),g=function(){var e=Object(x.a)(k.a.mark((function e(r){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==f){e.next=2;break}return e.abrupt("return");case 2:f.set(a.convertOut(r)),Object(p.K)(u)&&void 0!==t&&void 0!==n&&Object(B.o)(u).run(t,n,B.d.DateTimeField);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return jt.createElement(eg,{ratingValue:v,caption:h,onChange:g,maxRating:b,ratingUnit:m})}}]),e}(),ng=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,2),o=a[0],c=a[1],u=Object(r.a)(i,3),l=u[1],s=u[2];if(c===B.i)return n.renderProgress();var d=function(){Object(A.n)(l).set(""),void 0!==s&&s.set(!1)},f=n.registerSearchBarClearer();return void 0!==f&&f(d),jt.createElement(ys,{placeholder:o===B.i?"Loading\u2026":Object(p.F)(o),value:Object(p.F)(c),onChange:function(e){Object(A.n)(l).set(e.target.value),void 0!==s&&s.set(!Object(A.F)(e.target.value))},onClear:d})}}]),e}(),rg=n(826);function ig(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n\n    padding: ","px ","px;\n\n    & > .sep-line {\n        background-color: ",";\n        opacity: 0.15;\n        height: 1px;\n    }\n"]);return ig=function(){return e},e}var ag={default:4,small:8,medium:16,large:32},og=qt.i.div(ig(),(function(e){return ag[e.size]}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.fgColorDark})),cg=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,2),a=i[0],o=i[1],c=Object(Sr.definedMapWithDefault)(a,rg.b.Default,p.F),u=Object(Sr.definedMapWithDefault)(o,!0,p.x);return jt.createElement(pn.b,null,(function(e){return jt.createElement(og,Object.assign({"data-test":"app-hr"},e,{size:c}),u&&jt.createElement("div",{className:"sep-line"}))}))}}]),e}();function ug(){var e=Object(Kt.a)(["\n    padding: ","px ","px 12px;\n\n    .sf-inner {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n\n        padding-top: 9px;\n        padding-left: ","px;\n        padding-right: ","px;\n        padding-bottom: 1px;\n\n        border-top-left-radius: 4px;\n        border-top-right-radius: 4px;\n\n        background-color: ",";\n        border-bottom-color: ",";\n        border-bottom-width: 1px;\n        border-bottom-style: solid;\n\n        color: ",";\n\n        .sf-title-container {\n            display: flex;\n            padding-top: 8px;\n            margin-bottom: 4px;\n\n            .sf-title {\n                flex-grow: 1;\n                color: ",";\n                font-size: 14px;\n                font-weight: 500;\n            }\n\n            .sf-clear-icon {\n                width: 24px;\n                height: 24px;\n\n                display: flex;\n                justify-content: flex-end;\n                align-items: flex-start;\n\n                color: ",";\n\n                cursor: pointer;\n\n                :hover {\n                    opacity: 0.5;\n                }\n            }\n        }\n\n        .sf-placeholder {\n            color: ",";\n            font-size: 18px;\n            margin-bottom: 8px;\n            object-fit: contain;\n            width: 100%;\n            max-height: 250px;\n\n            filter: invert(",");\n        }\n    }\n"]);return ug=function(){return e},e}var lg=qt.i.div(ug(),(function(e){return"iOS"===e.theme.navBar.style?3:12}),(function(e){return e.theme.pageMarginMedium}),(function(e){return"iOS"===e.theme.navBar.style?0:12}),(function(e){return"iOS"===e.theme.navBar.style?0:12}),(function(e){return"iOS"===e.theme.navBar.style?"transparent":e.theme.offBaseColor}),(function(e){return e.theme.textField.underlineColor}),(function(e){return e.theme.fgColorMedium}),(function(e){return e.theme.fgColorMedium}),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.signature.invert?1:0})),sg=Object(pn.d)((function(e){var t=e.isEnabled,n=e.title,r=e.placeholder,i=e.onTap,a=e.onClear,o=e.imageUrl,c=e.highlightProps,u=!Object(A.F)(o);return jt.createElement(lg,Object.assign({"data-test":"app-signature-field-view",onClick:function(){t&&i()}},c),jt.createElement("div",{className:"sf-inner"},jt.createElement("div",{className:"sf-title-container"},jt.createElement("div",{className:"sf-title"},n),u&&jt.createElement("div",{className:"sf-clear-icon",onClick:function(e){e.stopPropagation(),a()}},jt.createElement(An,null))),u?jt.createElement("img",{className:"sf-placeholder",alt:"",src:o}):jt.createElement("div",{className:"sf-placeholder"},r)))})),dg=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a,o,c=Object(r.a)(e,7),u=c[0],l=c[1],s=c[2],d=c[3],f=c[4],h=c[5],b=c[6],m=Object(r.a)(i,8),g=m[1],y=m[7],j=null===(a=Object(p.M)(f,p.x))||void 0===a||a,k=Object(p.M)(u,p.F);if(void 0===k)return null;if(!Object(p.K)(s))return null;var x=Object(p.M)(l,p.F);return!0===b&&void 0!==y&&Object(A.F)(x)&&y.set(!1),jt.createElement(sg,{isEnabled:j,title:null!==(o=Object(p.M)(h,p.F))&&void 0!==o?o:Object(O.e)("signature"),placeholder:k,onTap:function(){return Object(B.o)(s).run(t,n,v.a.Signature)},onClear:function(){void 0!==g&&(g.set(""),void 0!==d&&Object(B.o)(d).run(t,n,v.a.Signature))},imageUrl:x})}}]),e}();function fg(){var e=Object(Kt.a)(["\n    position: relative;\n    height: 100%;\n    width: 100%;\n    padding: 30px 30px 30px 30px;\n    flex-grow: 1;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    .underline-container {\n        display: flex;\n        align-items: center;\n        width: 100%;\n\n        .underline {\n            width: 100%;\n            margin-left: 4px;\n            background-color: ",";\n            height: 1px;\n        }\n    }\n\n    .description {\n        margin-top: 4px;\n        text-align: center;\n        color: ",";\n    }\n\n    .signature-canvas {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n    }\n\n    .canvas-style-container {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n    }\n\n    .canvas-style-container.invert {\n        filter: invert(1);\n    }\n"]);return fg=function(){return e},e}var pg=qt.i.div(fg(),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.fgColorLight}));var vg=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).canvasRef=jt.createRef(),e.getAndSendImageData=function(){var t=e.props,n=t.onImageData,r=t.paths;if(0!==r.length){var i=e.canvasRef.current;if(null!==i){var a=i.toDataURL("image/png");if(void 0!==a){var o=document.createElement("canvas"),c=o.getContext("2d");if(null!==c){var u=r.map((function(e){return e.reduce((function(e,t){return{left:Math.min(e.left,t.x),right:Math.max(e.right,t.x),top:Math.min(e.top,t.y),bottom:Math.max(e.bottom,t.y)}}),{left:Number.MAX_SAFE_INTEGER,right:0,top:Number.MAX_SAFE_INTEGER,bottom:0})})).reduce((function(e,t){return{left:Math.min(e.left,t.left),right:Math.max(e.right,t.right),top:Math.min(e.top,t.top),bottom:Math.max(e.bottom,t.bottom)}}));u.left=3*Math.max(0,u.left-10),u.top=3*Math.max(0,u.top-10),u.right=3*(u.right+10),u.bottom=3*(u.bottom+10);var l=Math.ceil(u.right-u.left),s=Math.ceil(u.bottom-u.top);o.width=l,o.height=s;var d=new Image;d.onload=function(){c.drawImage(d,u.left,u.top,l,s,0,0,l,s);var e=o.toDataURL();n(e)},d.src=a}}}}},e.draw=function(t){var n=e.canvasRef.current;if(null!==n){var r=n.getContext("2d");if(null!==r){r.save(),r.scale(3,3),r.clearRect(0,0,r.canvas.width,r.canvas.height),r.lineWidth=3,r.lineCap="round",r.strokeStyle="#000";var i=!0,a=!1,o=void 0;try{for(var c,u=t[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value;if(0!==l.length){if(r.beginPath(),r.moveTo(l[0].x,l[0].y),l.length>=4){var s=1;for(s=1;s<l.length-2;s++){var d=l[s],f=d.x,p=d.y,v=l[s+1],h=v.x,b=v.y,m=(f+h)/2,g=(p+b)/2;r.quadraticCurveTo(f,p,m,g)}r.quadraticCurveTo(l[s].x,l[s].y,l[s+1].x,l[s+1].y)}else{var O=l[l.length-1];r.lineTo(O.x,O.y)}r.stroke()}}}catch(y){a=!0,o=y}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}r.restore()}}},e.setMove=function(t,n){var r=e.props.onPadMove,i=e.canvasRef.current;if(null!==i){var a=i.getBoundingClientRect();r(t-a.x,n-a.y)}},e.onMouseMove=function(t){var n=t.clientX,r=t.clientY;e.setMove(n,r)},e.onTouchMove=function(t){if(t.stopPropagation(),t.cancelable&&t.preventDefault(),!(t.touches.length<1)){var n=t.touches[0],r=n.clientX,i=n.clientY;e.setMove(r,i)}},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.canvasRef.current;null!==e&&e.addEventListener("touchmove",this.onTouchMove,{passive:!1,capture:!0})}},{key:"componentWillUnmount",value:function(){var e=this.canvasRef.current;null!==e&&e.removeEventListener("touchmove",this.onTouchMove,{capture:!0})}},{key:"shouldComponentUpdate",value:function(e){var t=this.props.paths,n=e.paths;return t===n||(this.draw(n),!1)}},{key:"componentDidUpdate",value:function(e){var t=this.props.shouldWrite;!e.shouldWrite&&t&&this.getAndSendImageData()}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.theme,r=e.onPadDown,i=e.onPadUp,a=e.width,o=e.height;return jt.createElement(pg,{style:{width:a,height:o}},jt.createElement("div",{className:"canvas-style-container "+(n.signature.invert?"invert":"normal")},jt.createElement("canvas",{ref:this.canvasRef,className:"signature-canvas",width:3*a,height:3*o,onMouseDown:r,onMouseUp:i,onMouseLeave:i,onMouseMove:this.onMouseMove,onTouchStart:r,onTouchEnd:i,onTouchCancel:i})),jt.createElement("div",{className:"underline-container"},jt.createElement(Nn.a,{icon:"00-01-glide-close",color:n.fgColorLight,size:10}),jt.createElement("div",{className:"underline"})),jt.createElement("div",{className:"description"},t))}}]),n}(jt.Component),hg=Object(Ut.withTheme)(vg);function bg(e){var t=e.split(/[:;,]/);if(4===t.length&&"data"===t[0]&&"image/png"===t[1]&&"base64"===t[2]){for(var n=t[1],r=atob(t[3]),i=new ArrayBuffer(r.length),a=new Uint8Array(i),o=0;o<r.length;o++)a[o]=r.charCodeAt(o);var c=new Blob([a],{type:n});return new File([c],"signature",{type:c.type})}}function mg(){var e=Object(Kt.a)(["\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n\n    .s-clear-button {\n        position: absolute;\n        height: 44px;\n        bottom: 16px;\n        left: 50%;\n        transform: translateX(-50%);\n        ","\n        color: ",";\n\n        cursor: pointer;\n    }\n\n    .disabled {\n        ","\n        cursor: unset;\n        pointer-events: auto;\n    }\n"]);return mg=function(){return e},e}var gg=qt.i.div(mg(),(function(e){return e.theme.fontStyles.Subheader4}),(function(e){return e.theme.primaryAccentColor}),qt.g);var Og=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={paths:[],shouldDraw:!1,shouldWrite:!1,cvWaitingOn:void 0},e.cleanPath=function(t){if(0===t.length)return t;if(1===t.length)return[t[0],t[0]];var n=[t[0]];return t.slice(1).forEach((function(t,r,i){var a=n[n.length-1];(Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2))>e.props.smoothing||r===i.length-1)&&n.push(t)})),n},e.onPadDown=function(){var t,n=[].concat(Object(_t.a)(e.state.paths),[[]]);(e.setState({paths:n,shouldDraw:!0}),1===n.length)&&(null===(t=e.props.onHasPathsChanged)||void 0===t||t.call(void 0,!0))},e.onPadUp=function(){var t=e.state.paths;if(0!==t.length&&!1!==e.state.shouldDraw){var n=e.cleanPath(t[t.length-1]),r=Object(_t.a)(t);r[t.length-1]=n,e.setState({shouldDraw:!1,paths:r})}},e.onPadMove=function(t,n){var r=e.state,i=r.shouldDraw,a=r.paths;if(i){var o=a[a.length-1],c=[].concat(Object(_t.a)(o),[{x:t,y:n}]),u=Object(_t.a)(a);u[a.length-1]=c,e.setState({paths:u})}},e.onImageData=function(t){var n=e.props.onSetFile,r=bg(t);void 0!==r&&n(r)},e.onClear=function(){var t;e.setState({paths:[]}),null===(t=e.props.onHasPathsChanged)||void 0===t||t.call(void 0,!1)},e}return Object(a.a)(n,[{key:"componentDidUpdate",value:function(){var e=this;if(!this.state.shouldWrite){!0===this.props.shouldWriteFlag&&this.setState({shouldWrite:!0});var t=this.props.shouldWriteCV;void 0!==t&&t!==this.state.cvWaitingOn&&(Object(A.s)(t.wait().then((function(){return e.setState({shouldWrite:!0})}))),this.setState({cvWaitingOn:t}))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.renderEnvironment,r=t.message,i=this.state,a=i.paths,o=i.lastWidth,c=i.lastHeight,u=i.shouldWrite;return jt.createElement(gg,{"data-test":"app-signature-view"},jt.createElement(mh,null,(function(t){var i,l;return t.width===o&&t.height===c||setTimeout((function(){e.setState({paths:[],lastWidth:t.width,lastHeight:t.height})}),0),jt.createElement(hg,{renderEnvironment:n,shouldWrite:u,message:r,width:null!==(i=t.width)&&void 0!==i?i:100,height:null!==(l=t.height)&&void 0!==l?l:100,paths:a,onPadDown:e.onPadDown,onPadUp:e.onPadUp,onPadMove:e.onPadMove,onImageData:e.onImageData})})),jt.createElement("button",{className:a.length>0?"s-clear-button":"s-clear-button disabled",onClick:a.length>0?this.onClear:void 0},Object(O.e)("clear")))}}]),n}(jt.PureComponent),yg=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,8),o=a[0],c=a[2],u=a[3],l=a[6],s=a[7],d=Object(r.a)(i,6),f=d[1],v=d[4],h=d[5];function b(e){void 0!==v&&v.set(e)}var m=function(){var e=Object(x.a)(k.a.mark((function e(r){var i,a,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!1),void 0!==(i=Object(p.M)(s,B.p))&&i.notifyAll(),a=n.appEnvironment.uploadAppFile(r,"signature",void 0),e.next=6,a.attempt();case 6:o=e.sent,Object(B.r)(o)||(u=o.path,void 0!==f&&(f.set(u),Object(p.K)(c)&&void 0!==t&&void 0!==n&&Object(B.o)(c).run(t,n,B.d.Signature))),b(!0);case 9:case"end":return e.stop()}var u}),e)})));return function(t){return e.apply(this,arguments)}}(),g=Object(p.M)(o,p.F);return void 0===g?null:jt.createElement(Og,{renderEnvironment:n,shouldWriteFlag:Object(p.M)(u,p.x),shouldWriteCV:Object(p.M)(l,B.p),onSetFile:m,message:g,smoothing:8,onHasPathsChanged:function(e){null===h||void 0===h||h.set(e)}})}}]),e}(),jg=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o,c=Object(r.a)(e,3),u=c[0],l=c[1],s=c[2];if(s===B.i)return n.renderProgress();var f=Object(p.N)(u,"",p.F),v=Object(p.N)(l,"",p.F),h=!0,b=Object(A.V)(null!==(o=Object(d.definedMap)(s,p.v))&&void 0!==o?o:[],(function(e){var r=e.getObjectInspector(a);if(Object(p.K)(r)){var i=Object(d.definedMap)(r.getProperty("value"),a);if(void 0!==i){i!==B.i&&(h=!1);var o,c,u=r.getProperty("action");if(void 0!==u){var l=Qa(Object(p.M)(a(u),B.o),B.d.None,t,n),s=l.onClick;c=l.targetURL,o=s}var f=Object(p.F)(Object(d.definedMap)(r.getProperty("style"),a));return{label:Object(p.F)(Object(d.definedMap)(r.getProperty("label"),a)),value:f===Di.a.Checkbox?Object(p.x)(i):Object(p.F)(i),style:f,action:o,targetURL:c}}}}));return 0===b.length?null:h?n.renderProgress():jt.createElement(Ni,{title:f,footer:v,rows:b})}}]),e}(),kg=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,7),o=a[0],c=a[1],u=a[2],l=a[3],s=a[4],f=a[5],v=a[6],h=Object(r.a)(i,1)[0];if(o===B.i||c===B.i||u===B.i)return n.renderProgress();var b=!Object(p.K)(l)||!1!==s,m=Object(p.N)(f,"switch",p.F),g=Object(p.N)(v,!0,p.x);return jt.createElement(ib,{title:Object(d.definedMap)(c,p.F),description:Object(d.definedMap)(u,p.F),checked:Object(p.x)(o),onChanged:function(e){void 0!==h&&(h.set(e),Object(p.K)(l)&&void 0!==t&&void 0!==n&&Object(B.o)(l).run(t,n,B.d.Switch))},isEnabled:b,visual:m,allowWrapping:g})}}]),e}();function xg(){var e=Object(Kt.a)(["\n    ",";\n\n    background-color: ",";\n    color: ",";\n\n    padding: 2px 12px ","px;\n\n    border-radius: ","px;\n\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    pointer-events: none !important;\n"]);return xg=function(){return e},e}var Cg=qt.i.div(xg(),(function(e){return e.theme.fontStyles.Tag6}),(function(e){return e.theme.primaryAccentColor}),(function(e){return hc()(e.theme.primaryAccentColor).luminosity()>.5?"black":"white"}),oo.e?4:3,(function(e){return e.round?100:0})),wg=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,2),o=a[0],c=a[1];if(o===B.i||c===B.i)return null;var u=Object(d.definedMap)(o,p.F),l=Object(d.definedMap)(c,p.F);return Object(A.G)(u)?null:jt.createElement(Cg,{"data-test":"app-tag-overlay",round:l===pc.a.Rounded},u)}}]),e}(),Sg=n(740),Eg=n(763),Mg=n(762);function Rg(){var e=Object(Kt.a)(["\n    padding: ","px ","px;\n    color: ",";\n\n    ","\n\n    &.caps {\n        text-transform: uppercase;\n    }\n\n    &:not(.wrap) div {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n\n    &.left {\n        text-align: left;\n    }\n\n    &.justify {\n        text-align: justify;\n    }\n\n    &.center {\n        text-align: center;\n    }\n\n    &.right {\n        text-align: right;\n    }\n"]);return Rg=function(){return e},e}function Dg(){var e=Object(Kt.a)(["\n    ","\n"]);return Dg=function(){return e},e}function Tg(){var e=Object(Kt.a)(["\n    ","\n"]);return Tg=function(){return e},e}function Pg(){var e=Object(Kt.a)(["\n    ","\n"]);return Pg=function(){return e},e}function Ig(){var e=Object(Kt.a)(["\n    ","\n"]);return Ig=function(){return e},e}function _g(){var e=Object(Kt.a)(["\n    ","\n    \n    color: ",";\n"]);return _g=function(){return e},e}function Ng(){var e=Object(Kt.a)(["\n    ","\n"]);return Ng=function(){return e},e}function Ag(){var e=Object(Kt.a)(["\n    ","\n"]);return Ag=function(){return e},e}function Fg(){var e=Object(Kt.a)(["\n    ","\n"]);return Fg=function(){return e},e}function Lg(e,t){switch(e){case Sg.c.BodySmall:return t.fontStyles.Body5Height;case Sg.c.Body:return t.fontStyles.Body4Height;case Sg.c.BodyLarge:return t.fontStyles.Body3Height;case Sg.c.Footnote:return t.fontStyles.Body6Height;case Sg.c.H1:return t.fontStyles.AccentHeader1Height;case Sg.c.H2:return t.fontStyles.AccentHeader2Height;case Sg.c.H3:return t.fontStyles.AccentHeader3Height;case Sg.c.H4:return t.fontStyles.AccentHeader4Height}}var Bg=Object(qt.f)(Fg(),(function(e){return e.theme.fontStyles.Body5})),Vg=Object(qt.f)(Ag(),(function(e){return e.theme.fontStyles.Body4})),Ug=Object(qt.f)(Ng(),(function(e){return e.theme.fontStyles.Body3})),zg=Object(qt.f)(_g(),(function(e){return e.theme.fontStyles.Body6}),(function(e){return e.theme.fgColorMedium})),Wg=Object(qt.f)(Ig(),(function(e){return e.theme.fontStyles.AccentHeader1})),Hg=Object(qt.f)(Pg(),(function(e){return e.theme.fontStyles.AccentHeader2})),Kg=Object(qt.f)(Tg(),(function(e){return e.theme.fontStyles.AccentHeader3})),qg=Object(qt.f)(Dg(),(function(e){return e.theme.fontStyles.AccentHeader4}));var Gg=qt.i.div(Rg(),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.fgColorDark}),(function(e){return function(e){switch(e){case Sg.c.BodySmall:return Bg;case Sg.c.Body:return Vg;case Sg.c.BodyLarge:return Ug;case Sg.c.Footnote:return zg;case Sg.c.H1:return Wg;case Sg.c.H2:return Hg;case Sg.c.H3:return Kg;case Sg.c.H4:return qg}}(e.textStyle)}));var Jg=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.highlightProps,n=e.text,r=e.style,i=e.justify,a=e.allCaps,o=e.allowWrapping,c=e.lineLimit,u=e.theme,l=jt.createElement("div",null,o?Object(Mg.a)(n):n);c>0&&o&&(l=jt.createElement(Eg.a,{lineHeight:Lg(r,u),maxLines:c},l));var s="";return a&&(s+="caps "),o&&(s+="wrap "),s+=i.toLowerCase()+" ",jt.createElement(Gg,Object.assign({"data-test":"app-text-box",className:s},t,{textStyle:r}),l)}}]),n}(jt.PureComponent),Zg=Object(pn.d)(Object(Ut.withTheme)(Jg));function Xg(e){return Object(p.F)(e)}var Yg=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i,a,o,c,u,l=Object(r.a)(e,7),s=l[0],d=(l[1],l[2]),f=l[3],v=l[4],h=l[5],b=l[6];if(s===B.i)return n.renderProgress();var m=Object(p.M)(s,p.F);if(void 0===m||""===m)return null;var g=null!==(i=Object(p.M)(d,(function(e){return Xg(e)})))&&void 0!==i?i:Sg.c.Body,O=null!==(a=Object(p.M)(f,(function(e){return Xg(e)})))&&void 0!==a?a:Sg.a.Left,y=null!==(o=Object(p.M)(v,p.x))&&void 0!==o&&o,j=null===(c=Object(p.M)(h,p.x))||void 0===c||c,k=0;switch(null!==(u=Object(p.M)(b,(function(e){return Xg(e)})))&&void 0!==u?u:Sg.b.None){case Sg.b.One:k=1;break;case Sg.b.Two:k=2;break;case Sg.b.Three:k=3;break;case Sg.b.Four:k=4;break;case Sg.b.Five:k=5;break;case Sg.b.Six:k=6}return jt.createElement(Zg,{text:m,style:g,justify:O,allCaps:y,allowWrapping:j,lineLimit:k})}}]),e}();var Qg=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"dataType",value:function(){return"text"}},{key:"convertIn",value:function(e){return void 0===e?"":Object(p.F)(e)}},{key:"getErrorMessage",value:function(e,t,n){var i=Object(r.a)(n,8)[7],a=Object(p.M)(i,p.D);return 0===e.length&&t?Object(O.e)("required"):void 0===a||0===e.length&&!t||e.length>=a?void 0:Object(O.a)("charactersRequired",[a.toString()])}}]),n}(vv);function $g(){var e=Object(Kt.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    /* I like big click areas and I cannot lie */\n    padding: 8px;\n    margin: -8px;\n\n    filter: drop-shadow(0px 0px 4px #00000040);\n"]);return $g=function(){return e},e}var eO=qt.i.div($g()),tO=function(e){e.icon,e.children;var t=Object($a.a)(e,["icon","children"]),n=Object(Ii.b)(e.icon);return jt.createElement(eO,t,jt.createElement(n,null))};var nO=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,2),o=a[0],c=a[1],u=Object(r.a)(i,1)[0];if(o===B.i)return n.renderProgress();var l=Object(p.x)(o);return jt.createElement("div",null,jt.createElement(tO,{"data-test":"app-toggle-icon-overlay",onClick:function(e){var r;r=!l,void 0!==u&&(u.set(r),Object(p.K)(c)&&void 0!==t&&void 0!==n&&Object(B.o)(c).run(t,n,B.d.None)),e.stopPropagation()},icon:l?"fullHeart":"emptyHeart"}))}}]),e}(),rO=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,6),o=a[0],c=a[1],u=a[2],l=a[3],s=a[4],d=a[5],f=Object(r.a)(i,1)[0];if(o===B.i||u===B.i||l===B.i||s===B.i)return n.renderProgress();var v=Object(p.M)(o,p.F),h=Object(p.M)(l,p.F),b=Object(p.M)(s,p.F),m=Object(p.M)(d,p.x);if(void 0===h&&void 0===b&&void 0===v)return null;return jt.createElement(wc,{appEnvironment:n.appEnvironment,showBranding:!0!==m&&!n.appEnvironment.eminenceFlags.removeBranding,title:h,subtitle:b,imageURL:v,onImageChange:!0===u?function(e){void 0!==c&&!0===u&&void 0!==f&&Object(p.K)(c)&&(f.set(e),Object(B.o)(c).run(t,n,B.d.UserProfile))}:void 0})}}]),e}(),iO=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a){var o,c=Object(r.a)(e,20),u=c[0],l=c[1],s=(c[2],c[3]),f=c[4],v=c[5],h=c[6],b=c[7],m=c[8],g=c[9],O=c[10],y=c[11],j=c[12],k=c[13],x=c[14],C=c[15],w=c[16],S=c[17],E=c[18],M=c[19],R=Object(r.a)(i,3),D=R[0],T=R[1],P=R[2],I=Object(We.d)(u,l,P,a),_=I.title,N=I.subtitle,F=I.imageSource;o=v===B.i?"":Object(d.definedMap)(v,p.F);var L=Object(p.N)(s,pc.b.ThreeByOne,p.F),V=Qa(h,B.d.GridItem,t,n),U=V.onClick,z=V.autoRunInTabletMode,W=Object(We.h)(n,b,B.d.GridItem),H=Object(p.N)(m,!1,p.x),K=Object(p.N)(g,pc.a.Rounded,p.F),q=Object(p.N)(x,pc.d.Center,p.F),G=Object(p.N)(O,pc.g.Below,p.F),J=Object(p.N)(y,pc.e.Center,p.F),Z=Object(p.N)(j,vo.a.Medium,p.F),X=Object(p.N)(k,vo.b.Normal,p.F),Y=Object(p.N)(f,pc.h.Loose,p.F);L===pc.b.Circle&&(G=void 0,J=void 0),!1===H&&G===pc.g.Below&&(void 0!==T&&Object(A.G)(N)&&(N="\u200b"),void 0!==D&&Object(A.G)(_)&&(_="\u200b"));var Q=Object(p.M)(C,p.F);return n.needsPush&&z&&void 0!==U&&U(!1),jt.createElement(Qv,{appEnvironment:n.appEnvironment,title:_,subtitle:N,imageSource:F,size:L,fallbackInitials:o,onClick:U,columnWidth:Object(A.n)(n.columnWidth),onDropImage:W,allowWrapping:H,cornersStyle:K,textPosition:G,overlayTextAlignment:J,textSize:Z,textStyle:X,padding:Y,gravity:q,itemID:Q,topLeftOverlay:Object(p.M)(w,(function(e){return Object(B.q)(e).render(t,n)})),bottomLeftOverlay:Object(p.M)(E,(function(e){return Object(B.q)(e).render(t,n)})),bottomRightOverlay:Object(p.M)(M,(function(e){return Object(B.q)(e).render(t,n)})),topRightOverlay:Object(p.M)(S,(function(e){return Object(B.q)(e).render(t,n)}))})}}]),e}();function aO(){var e=Object(Kt.a)(["\n    display: grid;\n    padding: 0 ","px ","px;\n\n    grid-column-gap: ","px;\n\n    grid-template-columns: repeat(",", 1fr);\n"]);return aO=function(){return e},e}function oO(e,t){for(var n=[],r=0,i=0;r<e.length;r++)r>=t&&r%t===0&&i++,n[i]=n[i]||[],n[i].push(e[r]);return n}var cO=qt.i.div(aO(),(function(e){return e.gap-e.theme.tileItem.padding}),(function(e){return e.bottomMargin-e.theme.tileItem.padding}),(function(e){return e.gap-e.theme.tileItem.padding}),(function(e){return e.cols})),uO=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i,a,o,c){var u=Object(r.a)(e,10),l=u[0],s=u[1],d=u[2],f=u[3],v=u[4],h=u[5],b=u[6],m=u[7],g=u[8],O=u[9];if(f===B.i||v===B.i||l===B.i||s===B.i)return n.renderProgress();var y,j,k=Object(p.D)(l),x=Object(p.N)(O,!1,p.x),C=Object(p.N)(d,pc.g.Below,p.F),w=ah(f,g,a,t,n);if(void 0===w)return null;if(void 0!==w.items)y=oO(w.items,k);else{if(void 0===w.groups)return Object(A.hb)("Must have either items or groups");j=w.groups.map((function(e){return{title:e.title,items:oO(e.items,k),onSeeAll:e.onSeeAll}}))}var S=Object(p.F)(s),E=rl.f,M=rl.f;S===pc.h.Tight&&(E=1,M=1);var R=Object(B.q)(v),D=C===pc.g.Overlay||!x,T=Object(p.N)(h,"",p.F),P=Object(p.M)(b,p.F),I=Qa(m,B.d.None,t,n);return jt.createElement(kd,{appFeatures:n.appEnvironment.appFeatures,title:T,hasUnevenRows:!D,items:y,groups:j,emptyMessage:P,onSeeAllClick:I.onClick,style:{marginBottom:-M},forceUpdate:c,topAlign:S===pc.h.Tight},(function(e,t,r){if(void 0===r)return null;var i=(r-(k-1)*E-2*E)/k,a=n.with({columnWidth:i});return jt.createElement(cO,{gap:E,bottomMargin:M,cols:k,key:t},e.map((function(e,r){var i="0-0"===t&&0===r&&n.needsPush;return R.render(e,a.with({needsPush:i}),r)})))}))}}]),e}(),lO=Object(yt.a)("video-player",(function(){return Promise.all([n.e(6),n.e(83)]).then(n.bind(null,1639))})),sO={height:300},dO=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n){var i=Object(r.a)(e,1)[0];return void 0===i||i===B.i?null:jt.createElement(jt.Suspense,{fallback:jt.createElement("div",{style:sO})},jt.createElement(lO,{url:Object(p.F)(i)}))}}]),e}();function fO(){var e=Object(Kt.a)(["\n    height: 0px;\n    width: 100%;\n    overflow: hidden;\n    position: relative;\n\n    & > iframe {\n        border: 0px;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n    }\n\n    &.inline-link-three-by-one {\n        padding-bottom: calc(100% / 3);\n    }\n\n    &.inline-link-three-by-two {\n        padding-bottom: calc(100% * 2 / 3);\n    }\n\n    &.inline-link-square {\n        padding-bottom: 100%;\n    }\n\n    &.inline-link-three-by-four {\n        padding-bottom: calc(100% * 4 / 3);\n    }\n\n    &.inline-link-fill {\n        padding-bottom: 100%;\n        flex-grow: 1;\n    }\n\n    &.inline-link-expand {\n        flex: 1;\n    }\n\n    &.inline-link-explicit {\n        padding-bottom: ","px;\n    }\n\n    & > div.embedding-not-possible {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n        width: 100%;\n        height: 100%;\n\n        background-color: ",";\n        color: "," !important;\n        ",";\n        text-align: center;\n\n        & > div.no-container {\n            margin-bottom: 8px;\n        }\n\n        padding: 0px 46px 0px 46px;\n        position: absolute;\n\n        & > button {\n            margin-top: 12px;\n            ",";\n        }\n    }\n"]);return fO=function(){return e},e}var pO=qt.i.div(fO(),(function(e){return e.explicitHeight}),(function(e){return e.theme.offBaseColor}),(function(e){return e.theme.fgColorOffBase}),(function(e){return e.theme.fontStyles.AccentHeader4}),(function(e){return e.theme.fontStyles.Subheader3}));var vO=new Map;function hO(e){return Object(A.N)(e,(function(e){return new URL(e)}))}function bO(e){var t=hO(e);if(void 0!==t)switch(t.protocol){case"data:":return"data";case"http:":return"http";case"https:":return"https";default:return}}var mO=kt.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},kt.a.createElement("path",{d:"M27.3134 4.712C24.3111 1.71152 20.2399 0.0265672 15.9953 0.0278175C11.7507 0.0290677 7.68052 1.71642 4.68003 4.71867C1.67955 7.72092 -0.00539991 11.7921 -0.0041497 16.0367C-0.00289948 20.2813 1.68445 24.3515 4.6867 27.352C7.64423 30.2463 11.5983 31.8976 15.7358 31.9663C19.8734 32.035 23.8801 30.5159 26.932 27.7213C28.2695 26.4704 29.3837 25.0004 30.2267 23.3747C31.0323 21.8105 31.573 20.1237 31.8267 18.3827C31.9411 17.6043 31.999 16.8187 32 16.032C32.0058 13.929 31.5945 11.8458 30.7901 9.90276C29.9856 7.95973 28.804 6.19546 27.3134 4.712ZM7.05603 7.056C9.19029 4.96597 11.9869 3.68611 14.9637 3.43711C17.9405 3.18812 20.9109 3.98558 23.3627 5.692C23.4038 5.72196 23.4378 5.76046 23.4626 5.80485C23.4874 5.84924 23.5022 5.89847 23.5062 5.94915C23.5101 5.99983 23.503 6.05076 23.4854 6.09843C23.4677 6.14611 23.44 6.1894 23.404 6.22533L6.2227 23.4147C6.18666 23.4504 6.14334 23.478 6.09569 23.4955C6.04804 23.513 5.99718 23.52 5.94657 23.5161C5.89596 23.5122 5.84679 23.4974 5.80241 23.4727C5.75802 23.4481 5.71947 23.4142 5.68937 23.3733C3.94908 20.9318 3.13133 17.952 3.38158 14.9641C3.63183 11.9763 4.93385 9.17408 7.05603 7.056ZM24.9987 25.008C22.8784 27.1231 20.0784 28.4201 17.0939 28.6697C14.1095 28.9194 11.1329 28.1055 8.6907 26.372C8.64955 26.3421 8.61535 26.3037 8.59046 26.2594C8.56558 26.215 8.55059 26.1658 8.54653 26.1152C8.54248 26.0645 8.54945 26.0135 8.56697 25.9658C8.5845 25.9181 8.61215 25.8747 8.64803 25.8387L25.8307 8.648C25.8667 8.61225 25.9101 8.58469 25.9577 8.56719C26.0054 8.54969 26.0562 8.54266 26.1068 8.54658C26.1574 8.5505 26.2066 8.56529 26.251 8.58992C26.2954 8.61455 26.3339 8.64846 26.364 8.68933C28.105 11.1307 28.9234 14.1106 28.6737 17.0987C28.4239 20.0869 27.1222 22.8895 25 25.008H24.9987Z",fill:"#999999"})),gO=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isEmbeddable:!0},e.webviewRef=kt.a.createRef(),e.forceEmbeddable=function(){e.setState({isEmbeddable:!0})},e}return Object(a.a)(n,[{key:"checkEmbeddable",value:function(){var e=this.props.link,t=!!Ct.z()||vO.get(e);this.setState({isEmbeddable:!1!==t}),void 0===t&&Object(A.s)(this.fetchIsEmbeddable())}},{key:"fetchIsEmbeddable",value:function(){var e=Object(x.a)(k.a.mark((function e(){var t,n,r,i,a,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.link,void 0!==(n=bO(t))){e.next=7;break}return vO.set(t,!1),e.abrupt("return");case 7:if("data"!==n){e.next=10;break}return vO.set(t,!0),e.abrupt("return");case 10:return r={url:t,referer:window.location.href},e.next=13,Object(ru.b)("testIframeEmbeddable",r);case 13:if(void 0!==(i=e.sent)&&i.ok){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,i.json();case 18:a=e.sent,o=a.isEmbeddable,Object(A.d)("boolean"===typeof o),vO.set(t,o),this.setState({isEmbeddable:o});case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.checkEmbeddable(),this.expandWebview()}},{key:"componentDidUpdate",value:function(e){e.aspectRatio!==this.props.aspectRatio&&this.expandWebview(),e.link!==this.props.link&&this.checkEmbeddable()}},{key:"expandWebview",value:function(){var e;this.webviewRef.current&&this.props.aspectRatio===pc.b.Expand&&(null===(e=this.webviewRef.current.parentElement)||void 0===e||e.classList.add("flex-contents"))}},{key:"render",value:function(){var e,t=this.props,n=t.link,r=t.aspectRatio,i=t.title,a=t.allowScrolling,o=t.explicitHeight,c=this.state.isEmbeddable,u=void 0===o?"fill":"explicit";switch(r){case pc.b.ThreeByOne:u="three-by-one";break;case pc.b.ThreeByTwo:u="three-by-two";break;case pc.b.Square:u="square";break;case pc.b.ThreeByFour:u="three-by-four";break;case pc.b.Expand:u="expand"}var l=hO(n);if(c&&void 0!==l){var s="allow-forms allow-popups allow-scripts";l.origin!==window.location.origin&&(s+=" allow-same-origin"),e=kt.a.createElement("iframe",{src:l.href,title:i,referrerPolicy:"no-referrer-when-downgrade",sandbox:s,scrolling:a?"yes":"no"})}else{var d=null===l||void 0===l?void 0:l.hostname,f=void 0===bO(n)||void 0===d,p=f?"".concat(n," cannot be opened"):"".concat(d," may not allow itself to be embedded");e=kt.a.createElement("div",{className:"embedding-not-possible"},kt.a.createElement("div",{className:"no-container"},mO),kt.a.createElement("div",null,p),f?null:kt.a.createElement("button",{onClick:this.forceEmbeddable},"Try again"))}return kt.a.createElement(pO,{"data-test":"app-web-view",className:"inline-link-".concat(u),explicitHeight:o,ref:this.webviewRef},e)}}]),n}(kt.a.PureComponent),OO=new Map,yO=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a,o=Object(r.a)(e,5),c=o[0],u=o[1],l=o[2],s=o[3],d=o[4];if(void 0!==Object(r.a)(i,5)[4]&&!Object(B.s)(n.appEnvironment))return null;if(c===B.i||u===B.i)return null;var f=Object(p.C)(c);if(void 0===f)return null;var v=OO.get(f);return(void 0===v||Object(A.H)(v,3e5))&&(n.appEnvironment.appFacilities.trackEvent("web_view",{app_id:n.appEnvironment.appID,url:f}),OO.size>200&&OO.clear(),OO.set(f,new Date)),kt.a.createElement(gO,{link:f,aspectRatio:u,title:Object(p.M)(l,p.F),allowScrolling:null!==(a=Object(p.M)(s,p.x))&&void 0!==a&&a,explicitHeight:Object(p.M)(d,p.B)})}}]),e}();function jO(){var e=Object(Kt.a)(["\n    width: 100%;\n    height: 100%;\n\n    --container-background-color: ",";\n    --line-container-flex-grow: 1;\n\n    overflow: hidden;\n    display: flex;\n    position: relative;\n\n    > div.llbs-video-container {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    video.llbs-video {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n    }\n\n    > div.llbs-bounding-container {\n        position: absolute;\n        top: 0;\n        left: 0;\n\n        z-index: 1;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n\n        > div.llbs-bounding-shade {\n            background-color: var(--container-background-color);\n            width: 100%;\n            height: 100%;\n\n            flex-shrink: var(--line-container-flex-grow);\n        }\n\n        > div.llbs-bounding-line-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            flex-grow: var(--line-container-flex-grow);\n            width: 100%;\n            height: 100%;\n\n            > div.llbs-bounding-line {\n                background-color: var(--container-background-color);\n                height: 4px;\n                border-radius: 2px;\n                width: 80%;\n            }\n        }\n    }\n"]);return jO=function(){return e},e}var kO=Ut.default.div(jO(),"rgba(0, 0, 0, 0.4)");function xO(){return new Worker(n.p+"static/js/v758ba50aa82e6dea7f6837b447eec6a8d550df1d-runtime-main.81129384aaa2520594f2.worker.js")}function CO(e,t){if(0===e.length)return{vertex1:[0,0],vertex2:[0,0],vertex3:[0,0],vertex4:[0,0],width:0,height:0};var n=0,i=0,a=!0,o=!1,c=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var s=Object(r.a)(u.value,2),d=s[0],f=s[1];n+=d,i+=f}}catch(I){o=!0,c=I}finally{try{a||null==l.return||l.return()}finally{if(o)throw c}}n/=e.length,i/=e.length;var p=Math.sin(-t),v=Math.cos(-t),h=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER,O=!0,y=!1,j=void 0;try{for(var k,x=e[Symbol.iterator]();!(O=(k=x.next()).done);O=!0){var C=Object(r.a)(k.value,2),w=C[0],S=C[1],E=w-n,M=S-i,R=v*E-p*M,D=p*E+v*M;R<h&&(h=R),R>b&&(b=R),D<m&&(m=D),D>g&&(g=D)}}catch(I){y=!0,j=I}finally{try{O||null==x.return||x.return()}finally{if(y)throw j}}var T=Math.cos(t),P=Math.sin(t);return{vertex1:[T*b-P*g+n,P*b+T*g+i],vertex2:[T*h-P*g+n,P*h+T*g+i],vertex3:[T*h-P*m+n,P*h+T*m+i],vertex4:[T*b-P*m+n,P*b+T*m+i],width:b-h,height:g-m}}function wO(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=Math.sqrt(n*n+r*r),a=n/i;return{radius:-r/i*e[0]+a*e[1],theta:Math.acos(a)}}function SO(e){var t=e.vertex4[0]-e.vertex3[0],n=(e.vertex4[1]-e.vertex3[1])/e.width,r=t/e.width,i=Math.acos(r);return n<0&&(i=2*Math.PI-i),i}function EO(e){return-SO(e)}function MO(e,t,n,r,i){var a=Math.cos(n),o=Math.sin(n),c=e-r,u=t-i;return[a*c-o*u+r,o*c+a*u+i]}function RO(e,t,n){var r=e.vertex1,i=e.vertex2,a=e.vertex3,o=e.vertex4,c=e.width,u=e.height,l=r[0]+i[0]+a[0]+o[0],s=r[1]+i[1]+a[1]+o[1];return MO((l/=4)-c/2-t,(s/=4)-u/2-n,SO(e),l,s)}function DO(e,t,n,r){var i=n.width,a=n.height,o=EO(n),c=function(e,t,n){var r=Math.min(e.vertex1[0],e.vertex2[0],e.vertex3[0],e.vertex4[0])-t,i=Math.max(e.vertex1[0],e.vertex2[0],e.vertex3[0],e.vertex4[0])+t,a=Math.min(e.vertex1[1],e.vertex2[1],e.vertex3[1],e.vertex4[1])-n,o=Math.max(e.vertex1[1],e.vertex2[1],e.vertex3[1],e.vertex4[1])+n;return{vertex1:[i,o],vertex2:[r,o],vertex3:[r,a],vertex4:[i,a],width:i-r,height:o-a}}(n,r,r),u=c.vertex3,l=c.width,s=c.height,d=t.canvas;d.width=i+2*r,d.height=a+2*r;var f=RO(n,r,r),p=f[0]-u[0],v=f[1]-u[1];return t.rotate(o),t.translate(-p,-v),t.drawImage(e.canvas,u[0],u[1],l,s,0,0,l,s),t.resetTransform(),{imageData:t.getImageData(0,0,d.width,d.height),correctionAngle:o,xv3Offset:p,yv3Offset:v,sourceXOffset:u[0],sourceYOffset:u[1]}}var TO,PO=function(){function e(){Object(i.a)(this,e),this.backing=new Map}return Object(a.a)(e,[{key:"add",value:function(e){return void 0===this.backing.get(e)&&this.backing.set(e,{parent:e,size:1}),this}},{key:"find",value:function(e){for(var t=e,n=this.backing.get(e);void 0!==n&&n.parent!==t;)if(t=n.parent,void 0!==(n=this.backing.get(t))&&n.parent!==t){var r=this.backing.get(n.parent);void 0!==r&&(n.parent=r.parent)}return void 0===n?void 0:t}},{key:"union",value:function(e,t){var n=this.find(e),r=this.find(t);if(void 0!==n&&void 0!==r&&n!==r){var i=this.backing.get(n),a=this.backing.get(r);if(void 0!==i&&void 0!==a)return i.size<a.size?(i.size+=a.size,a.parent=n,n):(a.size+=i.size,i.parent=r,r)}}}]),e}(),IO=Math.PI/2,_O=function(){function e(t,n,r,a){Object(i.a)(this,e),this.width=t,this.height=n,this.xStep=r,this.yStep=a,this.buffer=void 0,this.buffer=new Array(t*n)}return Object(a.a)(e,[{key:"reset",value:function(){for(var e=0;e<this.height;e++)for(var t=e*this.width,n=0;n<this.width;n++)this.buffer[t+n]=void 0;return this}},{key:"get",value:function(e,t){return this.buffer[t*this.width+e]}},{key:"set",value:function(e,t,n){return this.buffer[t*this.width+e]=n,n}}]),e}();function NO(e,t,n,r,i){var a,o,c=i.minFactor,u=i.maxFactor,l=Number.MAX_SAFE_INTEGER;return r>0?(n>0?(a=e.minX+n-t.maxX,o=e.minY+r-t.maxY):0===n?(a=0,o=e.minY+r-t.maxY):(a=e.maxX+n-t.minY,o=e.minY+r-t.maxY),l=Math.sqrt(a*a+o*o)):l=e.minX+n-t.maxX,l<=c*Math.min(e.distanceStatistics.min,t.distanceStatistics.min)||l<=u*t.distanceStatistics.max}function AO(e){return e.totalRadians/e.totalCount}function FO(e,t,n,r){var i=e.get(t),a=e.get(n);if(void 0===i||void 0===a)return Number.MAX_SAFE_INTEGER;var o=AO(i);o=o>Math.PI-r?0:o;var c=AO(a);return c=c>Math.PI-r?0:c,Math.abs(o-c)}function LO(e,t,n,r,i){var a=e.find(r),o=e.find(n);if(void 0!==a&&void 0!==o){var c=t.get(a),u=t.get(o);if(void 0!==c&&void 0!==u&&!Object.is(c,u)){var l=e.union(r,n);l!==r&&t.delete(r),void 0!==l&&l!==n&&(t.set(l,u),t.delete(n));var s=AO(c),d=AO(u),f=d>Math.PI-i,p=s>Math.PI-i,v=f?0:u.totalRadians;f===p?v+=p?0:c.totalRadians:v=f?c.totalRadians+(s<=IO?0:Math.PI*u.totalCount):u.totalRadians+(d<=IO?0:Math.PI*c.totalCount),u.totalCount+=c.totalCount,u.totalRadians=v}}}function BO(e,t){var n=1,r=new PO,i=new Map,a=t.zeroEpsilon,o=t.angleEpsilon,c=t.minClusterSize,u=[];function l(t,a,o){t.label=n,i.set(n,{totalRadians:t.theta,totalCount:1}),r.add(n),n++,u.push({angleCluster:t,xOffset:a*e.xStep,yOffset:o*e.yStep})}var s=e.get(0,0);void 0!==s&&l(s,0,0);for(var d=1;d<e.width;d++)if(void 0!==(s=e.get(d,0))){l(s,d,0);var f=e.get(d-1,0);void 0!==f&&NO(s,f,e.xStep,0,t)&&FO(i,s.label,f.label,a)<=o&&LO(r,i,f.label,s.label,a)}for(var p=1;p<e.height;p++){if(void 0!==(s=e.get(0,p))){l(s,0,p);for(var v=void 0,h=Number.MAX_SAFE_INTEGER,b=0;b<2;b++){var m=e.get(b,p-1);if(void 0!==m&&NO(s,m,0,e.yStep,t)){var g=FO(i,s.label,m.label,a);g<=o&&g<h&&(v=m.label,h=g)}}void 0!==v&&LO(r,i,v,s.label,a)}for(var O=1;O<e.width;O++)if(void 0!==(s=e.get(O,p))){l(s,O,p);for(var y=[],j=O-1;j<O+2;j++){var k=e.get(j,p-1);if(void 0!==k&&NO(s,k,(O-j)*e.xStep,e.yStep,t)){var x=r.find(k.label);if(void 0===x)continue;var C=FO(i,s.label,x,a);y.push([C,k])}}var w=e.get(O-1,p);if(void 0!==w&&NO(s,w,e.xStep,0,t)){var S=r.find(w.label);if(void 0===S)continue;var E=FO(i,s.label,S,a);y.push([E,w])}y.sort((function(e,t){return e[0]-t[0]}));var M=y[0];if(!(void 0===M||M[0]>o)){LO(r,i,M[1].label,s.label,a),y.shift();for(var R=y.shift();void 0!==R;R=y.shift()){var D=R[1],T=r.find(s.label),P=r.find(D.label);if(T!==P&&void 0!==T&&void 0!==P)FO(i,T,P,a)<=o&&LO(r,i,T,P,a)}}}}for(var I=new Map,_=0,N=u;_<N.length;_++){var A,F=N[_],L=r.find(F.angleCluster.label);if(void 0!==L){var B=null!==(A=I.get(L))&&void 0!==A?A:[];B.push(F),I.set(L,B)}}var V,U=[],z=!0,W=!1,H=void 0;try{for(var K,q=I.values()[Symbol.iterator]();!(z=(K=q.next()).done);z=!0){var G=K.value;if(!(G.length<c)){var J=[],Z=[],X=0,Y=!0,Q=!1,$=void 0;try{for(var ee,te=G[Symbol.iterator]();!(Y=(ee=te.next()).done);Y=!0){var ne=ee.value,re=ne.angleCluster,ie=ne.xOffset,ae=ne.yOffset,oe=re.minX,ce=re.maxX,ue=re.minY,le=re.maxY,se=[ce+ie,le+ae],de=[oe+ie,le+ae],fe=[oe+ie,ue+ae],pe=[ce+ie,ue+ae];J.push({vertex1:se,vertex2:de,vertex3:fe,vertex4:pe,width:ce-oe,height:le-ue}),Z.push(se,de,fe,pe),X+=re.theta>Math.PI-a?0:re.theta}}catch(be){Q=!0,$=be}finally{try{Y||null==te.return||te.return()}finally{if(Q)throw $}}X/=G.length,(X+=IO)>Math.PI&&(X-=Math.PI);var ve=CO(Z,X),he={line1:wO((V=ve).vertex1,V.vertex2),line2:wO(V.vertex2,V.vertex3),line3:wO(V.vertex3,V.vertex4),line4:wO(V.vertex4,V.vertex1)};U.push({boundingBox:ve,boundingLines:he,chunks:J})}}}catch(be){W=!0,H=be}finally{try{z||null==q.return||q.return()}finally{if(W)throw H}}return U}!function(e){e[e.Linear=0]="Linear",e[e.Srgb=1]="Srgb"}(TO||(TO={}));var VO,UO,zO=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,5,5,5,5,6,6,6,7,7,7,7,8,8,8,9,9,9,10,10,10,11,11,12,12,12,13,13,14,14,15,15,15,16,16,17,17,18,18,19,19,20,21,21,22,22,23,23,24,25,25,26,27,27,28,28,29,30,31,31,32,33,33,34,35,36,36,37,38,39,40,40,41,42,43,44,45,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,71,72,73,74,75,76,78,79,80,81,82,84,85,86,87,89,90,91,93,94,95,97,98,100,101,102,104,105,107,108,109,111,112,114,115,117,118,120,122,123,125,126,128,130,131,133,134,136,138,139,141,143,145,146,148,150,152,153,155,157,159,161,162,164,166,168,170,172,174,176,178,179,181,183,185,187,189,191,193,196,198,200,202,204,206,208,210,212,215,217,219,221,223,226,228,230,232,235,237,239,242,244,246,249,251,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255];function WO(e,t,n,r){return(.299*e+.587*t+.114*n)*r/255|0}function HO(e,t,n,r){return WO(zO[e],zO[t],zO[n],r)}function KO(e,t,n,r,i){return e===TO.Linear?WO(t,n,r,i):HO(t,n,r,i)}function qO(e,t,n,r,i){var a=[],o=255,c=0;if(r>i){var u=i;i=r,r=u}for(var l=n*e.width,s=e.data,d=r;d<=i;d++){var f=4*(l+d),p=KO(t,s[f],s[f+1],s[f+2],s[f+3]);o=p<o?p:o,c=p>c?p:c,a.push(p)}return{line:a,min:o,max:c}}function GO(e){var t,n,r,i,a,o,c=e.min,u=e.max,l=e.line,s=c+(u-c)/2,d=[],f=(u-c)/12,p=-f;for(r=l[0]>s?VO.Up:VO.Down,d.push({pos:0,val:l[0]}),a=0;a<l.length-2;a++)r!==(i=(t=l[a+1]-l[a])+(n=l[a+2]-l[a+1])<p&&l[a+1]<1.5*s?VO.Down:t+n>f&&l[a+1]>.5*s?VO.Up:r)&&(d.push({pos:a,val:l[a]}),r=i);for(d.push({pos:l.length,val:l[l.length-1]}),o=d[0].pos;o<d[1].pos;o++)l[o]=l[o]>s?0:1;for(a=1;a<d.length-1;a++)for(f=d[a+1].val>d[a].val?d[a].val+(d[a+1].val-d[a].val)/3*2|0:d[a+1].val+(d[a].val-d[a+1].val)/3|0,o=d[a].pos;o<d[a+1].pos;o++)l[o]=l[o]>f?0:1;return l}!function(e){e[e.Up=1]="Up",e[e.Down=-1]="Down"}(VO||(VO={})),function(e){e[e.Forward=1]="Forward",e[e.Reverse=-1]="Reverse"}(UO||(UO={}));var JO=function(){function e(t,n){return Object(i.a)(this,e),this.config=t,this._row=[],this.supplements=[],this.SINGLE_CODE_ERROR=0,this.FORMAT=It.a.Unknown,this.CONFIG_KEYS={},this._row=[],n&&(this.supplements=n),this}return Object(a.a)(e,null,[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),Object(a.a)(e,[{key:"_nextUnset",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t;n<e.length;n++)if(!e[n])return n;return e.length}},{key:"_matchPattern",value:function(e,t,n){var r,i,a,o=0,c=0,u=0,l=0,s=0,d=0;n=null!==(r=null!==(i=n)&&void 0!==i?i:this.SINGLE_CODE_ERROR)&&void 0!==r?r:1;for(var f=0;f<e.length;f++)u+=e[f],l+=t[f];if(u<l)return Number.MAX_VALUE;n*=a=u/l;for(var p=0;p<e.length;p++){if(s=e[p],d=t[p]*a,(c=Math.abs(s-d)/d)>n)return Number.MAX_VALUE;o+=c}return o/l}},{key:"_nextSet",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t;n<e.length;n++)if(e[n])return n;return e.length}},{key:"_correctBars",value:function(e,t,n){for(var r=n.length,i=0;r--;)(i=e[n[r]]*(1-(1-t)/2))>1&&(e[n[r]]=i)}},{key:"decodePattern",value:function(e){this._row=e;var t=this._decode();return null===t?(this._row.reverse(),(t=this._decode())&&(t.direction=UO.Reverse,t.start=this._row.length-t.start,t.end=this._row.length-t.end)):t.direction=UO.Forward,t}},{key:"_matchRange",value:function(e,t,n){for(var r=e=e<0?0:e;r<t;r++)if(this._row[r]!==n)return!1;return!0}},{key:"_fillCounters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[],i=0;r[i]=0;for(var a=e;a<t;a++)this._row[a]^(n?1:0)?r[i]++:(r[++i]=1,n=!n);return r}},{key:"_toCounters",value:function(e,t){for(var n=t.length,r=this._row.length,i=!this._row[e],a=0,o=0;o<t.length;o++)t[o]=0;for(var c=e;c<r;c++)if(this._row[c]^(i?1:0))t[a]++;else{if(++a===n)break;t[a]=1,i=!i}return t}}]),e}();var ZO=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],XO=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],YO=[26,41,11,14],QO=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a)))._counters=[],e.FORMAT=It.a.Codabar,e}return Object(a.a)(n,[{key:"_computeAlternatingThreshold",value:function(e,t){for(var n=Number.MAX_VALUE,r=0,i=0,a=e;a<t;a+=2)(i=this._counters[a])>r&&(r=i),i<n&&(n=i);return(n+r)/2|0}},{key:"_toPattern",value:function(e){var t=e+7;if(t>this._counters.length)return-1;for(var n=this._computeAlternatingThreshold(e,t),r=this._computeAlternatingThreshold(e+1,t),i=64,a=0,o=0,c=0;c<7;c++)a=0===(1&c)?n:r,this._counters[e+c]>a&&(o|=i),i>>=1;return o}},{key:"_isStartEnd",value:function(e){for(var t=0;t<YO.length;t++)if(YO[t]===e)return!0;return!1}},{key:"_sumCounters",value:function(e,t){for(var n=0,r=e;r<t;r++)n+=this._counters[r];return n}},{key:"_findStart",value:function(){for(var e=this._nextUnset(this._row),t=1;t<this._counters.length;t++){var n=this._toPattern(t);if(-1!==n&&this._isStartEnd(n))return{start:e+=this._sumCounters(0,t),end:e+this._sumCounters(t,t+8),startCounter:t,endCounter:t+8}}return null}},{key:"_patternToChar",value:function(e){for(var t=0;t<XO.length;t++)if(XO[t]===e)return String.fromCharCode(ZO[t]);return null}},{key:"_calculatePatternLength",value:function(e){for(var t=0,n=e;n<e+7;n++)t+=this._counters[n];return t}},{key:"_verifyWhitespace",value:function(e,t){return(e-1<=0||this._counters[e-1]>=this._calculatePatternLength(e)/2)&&(t+8>=this._counters.length||this._counters[t+7]>=this._calculatePatternLength(t)/2)}},{key:"_charToPattern",value:function(e){for(var t=e.charCodeAt(0),n=0;n<ZO.length;n++)if(ZO[n]===t)return XO[n];return 0}},{key:"_thresholdResultPattern",value:function(e,t){for(var n,r={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},i=t,a=0;a<e.length;a++){n=this._charToPattern(e[a]);for(var o=6;o>=0;o--){var c=2===(1&o)?r.bar:r.space,u=1===(1&n)?c.wide:c.narrow;u.size+=this._counters[i+o],u.counts++,n>>=1}i+=8}return["space","bar"].forEach((function(e){var t=r[e];t.wide.min=Math.floor((t.narrow.size/t.narrow.counts+t.wide.size/t.wide.counts)/2),t.narrow.max=Math.ceil(t.wide.min),t.wide.max=Math.ceil((2*t.wide.size+1.5)/t.wide.counts)})),r}},{key:"_validateResult",value:function(e,t){for(var n,r=this._thresholdResultPattern(e,t),i=t,a=0;a<e.length;a++){n=this._charToPattern(e[a]);for(var o=6;o>=0;o--){var c=0===(1&o)?r.bar:r.space,u=1===(1&n)?c.wide:c.narrow,l=this._counters[i+o];if(l<u.min||l>u.max)return!1;n>>=1}i+=8}return!0}},{key:"_decode",value:function(e,t){if(this._counters=this._fillCounters(),!(t=this._findStart()))return null;var n,r=t.startCounter,i=[];do{if((n=this._toPattern(r))<0)return null;var a=this._patternToChar(n);if(null===a)return null;if(i.push(a),r+=8,i.length>1&&this._isStartEnd(n))break}while(r<this._counters.length);if(i.length-2<4||!this._isStartEnd(n))return null;if(!this._verifyWhitespace(t.startCounter,r-8))return null;if(!this._validateResult(i,t.startCounter))return null;r=r>this._counters.length?this._counters.length:r;var o=t.start+this._sumCounters(t.startCounter,r-8);return{code:i.join(""),start:t.start,end:o,startInfo:t,decodedCodes:i,format:this.FORMAT}}}]),n}(JO);var $O=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).CODE_SHIFT=98,e.CODE_C=99,e.CODE_B=100,e.CODE_A=101,e.START_CODE_A=103,e.START_CODE_B=104,e.START_CODE_C=105,e.STOP_CODE=106,e.CODE_PATTERN=[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]],e.SINGLE_CODE_ERROR=.64,e.AVG_CODE_ERROR=.3,e.FORMAT=It.a.Code128,e.MODULE_INDICES={bar:[0,2,4],space:[1,3,5]},e}return Object(a.a)(n,[{key:"_decodeCode",value:function(e,t){for(var n={error:Number.MAX_VALUE,code:-1,start:e,end:e,correction:{bar:1,space:1}},r=[0,0,0,0,0,0],i=e,a=!this._row[i],o=0,c=i;c<this._row.length;c++)if(this._row[c]^(a?1:0))r[o]++;else{if(o===r.length-1){t&&this._correct(r,t);for(var u=0;u<this.CODE_PATTERN.length;u++){var l=this._matchPattern(r,this.CODE_PATTERN[u]);l<n.error&&(n.code=u,n.error=l)}return n.end=c,-1===n.code||n.error>this.AVG_CODE_ERROR?null:(void 0!==this.CODE_PATTERN[n.code]&&(n.correction.bar=this.calculateCorrection(this.CODE_PATTERN[n.code],r,this.MODULE_INDICES.bar),n.correction.space=this.calculateCorrection(this.CODE_PATTERN[n.code],r,this.MODULE_INDICES.space)),n)}r[++o]=1,a=!a}return null}},{key:"_correct",value:function(e,t){this._correctBars(e,t.bar,this.MODULE_INDICES.bar),this._correctBars(e,t.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var e=[0,0,0,0,0,0],t=this._nextSet(this._row),n={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},r=!1,i=0,a=t;a<this._row.length;a++)if(this._row[a]^(r?1:0))e[i]++;else{if(i===e.length-1){for(var o=e.reduce((function(e,t){return e+t}),0),c=this.START_CODE_A;c<=this.START_CODE_C;c++){var u=this._matchPattern(e,this.CODE_PATTERN[c]);u<n.error&&(n.code=c,n.error=u)}if(n.error<this.AVG_CODE_ERROR)return n.start=a-o,n.end=a,n.correction.bar=this.calculateCorrection(this.CODE_PATTERN[n.code],e,this.MODULE_INDICES.bar),n.correction.space=this.calculateCorrection(this.CODE_PATTERN[n.code],e,this.MODULE_INDICES.space),n;for(var l=0;l<4;l++)e[l]=e[l+2];e[4]=0,e[5]=0,i--}else i++;e[i]=1,r=!r}return null}},{key:"_decode",value:function(e,t){var n=this,r=this._findStart();if(null===r)return null;var i={code:r.code,start:r.start,end:r.end,correction:{bar:r.correction.bar,space:r.correction.space}},a=[];a.push(i);for(var o=i.code,c=function(e){switch(e){case n.START_CODE_A:return n.CODE_A;case n.START_CODE_B:return n.CODE_B;case n.START_CODE_C:return n.CODE_C;default:return null}}(i.code),u=!1,l=!1,s=l,d=!0,f=0,p=[],v=[];!u;){if(s=l,l=!1,null!==i&&(i=this._decodeCode(i.end,i.correction)),null!==i)switch(i.code!==this.STOP_CODE&&(d=!0),i.code!==this.STOP_CODE&&(p.push(i.code),o+=++f*i.code),a.push(i),c){case this.CODE_A:if(i.code<64)v.push(String.fromCharCode(32+i.code));else if(i.code<96)v.push(String.fromCharCode(i.code-64));else switch(i.code!==this.STOP_CODE&&(d=!1),i.code){case this.CODE_SHIFT:l=!0,c=this.CODE_B;break;case this.CODE_B:c=this.CODE_B;break;case this.CODE_C:c=this.CODE_C;break;case this.STOP_CODE:u=!0}break;case this.CODE_B:if(i.code<96)v.push(String.fromCharCode(32+i.code));else switch(i.code!==this.STOP_CODE&&(d=!1),i.code){case this.CODE_SHIFT:l=!0,c=this.CODE_A;break;case this.CODE_A:c=this.CODE_A;break;case this.CODE_C:c=this.CODE_C;break;case this.STOP_CODE:u=!0}break;case this.CODE_C:if(i.code<100)v.push(i.code<10?"0"+i.code:i.code);else switch(i.code!==this.STOP_CODE&&(d=!1),i.code){case this.CODE_A:c=this.CODE_A;break;case this.CODE_B:c=this.CODE_B;break;case this.STOP_CODE:u=!0}}else u=!0;s&&(c=c===this.CODE_A?this.CODE_B:this.CODE_A)}return null===i?null:(i.end=this._nextUnset(this._row,i.end),this._verifyTrailingWhitespace(i)?(o-=f*p[p.length-1])%103!==p[p.length-1]?null:v.length?(d&&v.splice(v.length-1,1),{code:v.join(""),start:r.start,end:i.end,codeset:c,startInfo:r,decodedCodes:a,endInfo:i,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(e){var t=e.end-e.start,n=Math.min(e.end+t/2,this._row.length);return this._matchRange(e.end,n,0)?e:null}},{key:"calculateCorrection",value:function(e,t,n){for(var r=n.length,i=0,a=0;r--;)a+=e[n[r]],i+=t[n[r]];return a/i}}]),n}(JO);var ey=new Uint16Array(Object(_t.a)("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map((function(e){return e.charCodeAt(0)}))),ty=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),ny=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).FORMAT=It.a.Code39,e}return Object(a.a)(n,[{key:"_findStart",value:function(){for(var e=this._nextSet(this._row),t=e,n=new Uint16Array([0,0,0,0,0,0,0,0,0]),r=0,i=!1,a=e;a<this._row.length;a++)if(this._row[a]^(i?1:0))n[r]++;else{if(r===n.length-1){if(148===this._toPattern(n)){var o=Math.floor(Math.max(0,t-(a-t)/4));if(this._matchRange(o,t,0))return{start:t,end:a}}t+=n[0]+n[1];for(var c=0;c<7;c++)n[c]=n[c+2];n[7]=0,n[8]=0,r--}else r++;n[r]=1,i=!i}return null}},{key:"_toPattern",value:function(e){for(var t=e.length,n=0,r=t,i=0;r>3;){n=this._findNextWidth(e,n),r=0;for(var a=0,o=0;o<t;o++)e[o]>n&&(a|=1<<t-1-o,r++,i+=e[o]);if(3===r){for(var c=0;c<t&&r>0;c++)if(e[c]>n&&(r--,2*e[c]>=i))return-1;return a}}return-1}},{key:"_findNextWidth",value:function(e,t){for(var n=Number.MAX_VALUE,r=0;r<e.length;r++)e[r]<n&&e[r]>t&&(n=e[r]);return n}},{key:"_patternToChar",value:function(e){for(var t=0;t<ty.length;t++)if(ty[t]===e)return String.fromCharCode(ey[t]);return null}},{key:"_verifyTrailingWhitespace",value:function(e,t,n){var r=Qc()(n),i=t-e,a=Math.min(e+i/2,r);return!!this._matchRange(t,a,0)}},{key:"_decode",value:function(e,t){var n=new Uint16Array([0,0,0,0,0,0,0,0,0]),r=[];if(!(t=this._findStart()))return null;var i,a,o=this._nextSet(this._row,t.end);do{n=this._toCounters(o,n);var c=this._toPattern(n);if(c<0)return null;if(null===(i=this._patternToChar(c)))return null;r.push(i),a=o,o+=Qc()(n),o=this._nextSet(this._row,o)}while("*"!==i);return r.pop(),r.length&&this._verifyTrailingWhitespace(a,o,n)?{code:r.join(""),start:t.start,end:o,startInfo:t,decodedCodes:r,format:this.FORMAT}:null}}]),n}(JO);var ry=new Uint16Array(Object(_t.a)("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map((function(e){return e.charCodeAt(0)}))),iy=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),ay=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).FORMAT=It.a.Code93,e}return Object(a.a)(n,[{key:"_patternToChar",value:function(e){for(var t=0;t<iy.length;t++)if(iy[t]===e)return String.fromCharCode(ry[t]);return null}},{key:"_toPattern",value:function(e){for(var t=e.length,n=e.reduce((function(e,t){return e+t}),0),r=0,i=0;i<t;i++){var a=Math.round(9*e[i]/n);if(a<1||a>4)return-1;if(0===(1&i))for(var o=0;o<a;o++)r=r<<1|1;else r<<=a}return r}},{key:"_findStart",value:function(){for(var e=this._nextSet(this._row),t=e,n=new Uint16Array([0,0,0,0,0,0]),r=0,i=!1,a=e;a<this._row.length;a++)if(this._row[a]^(i?1:0))n[r]++;else{if(r===n.length-1){if(350===this._toPattern(n)){var o=Math.floor(Math.max(0,t-(a-t)/4));if(this._matchRange(o,t,0))return{start:t,end:a}}t+=n[0]+n[1];for(var c=0;c<4;c++)n[c]=n[c+2];n[4]=0,n[5]=0,r--}else r++;n[r]=1,i=!i}return null}},{key:"_verifyEnd",value:function(e,t){return!(e===t||!this._row[t])}},{key:"_decodeExtended",value:function(e){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];if(i>="a"&&i<="d"){if(r>t-2)return null;var a=e[++r],o=a.charCodeAt(0),c=void 0;switch(i){case"a":if(!(a>="A"&&a<="Z"))return null;c=String.fromCharCode(o-64);break;case"b":if(a>="A"&&a<="E")c=String.fromCharCode(o-38);else if(a>="F"&&a<="J")c=String.fromCharCode(o-11);else if(a>="K"&&a<="O")c=String.fromCharCode(o+16);else if(a>="P"&&a<="S")c=String.fromCharCode(o+43);else{if(!(a>="T"&&a<="Z"))return null;c=String.fromCharCode(127)}break;case"c":if(a>="A"&&a<="O")c=String.fromCharCode(o-32);else{if("Z"!==a)return null;c=":"}break;case"d":if(!(a>="A"&&a<="Z"))return null;c=String.fromCharCode(o+32);break;default:return null}n.push(c)}else n.push(i)}return n}},{key:"_matchCheckChar",value:function(e,t,n){var r=e.slice(0,t),i=r.length,a=r.reduce((function(e,t,r){return e+((-1*r+(i-1))%n+1)*ry.indexOf(t.charCodeAt(0))}),0),o=ry[a%47];return t<e.length&&o===e[t].charCodeAt(0)}},{key:"_verifyChecksums",value:function(e){return this._matchCheckChar(e,e.length-2,20)&&this._matchCheckChar(e,e.length-1,15)}},{key:"_decode",value:function(e,t){if(!(t=this._findStart()))return null;var n,r,i=new Uint16Array([0,0,0,0,0,0]),a=[],o=this._nextSet(this._row,t.end);do{i=this._toCounters(o,i);var c=this._toPattern(i);if(c<0)return null;if(null===(r=this._patternToChar(c)))return null;a.push(r),n=o,o+=Qc()(i),o=this._nextSet(this._row,o)}while("*"!==r);return a.pop(),a.length&&this._verifyEnd(n,o)&&this._verifyChecksums(a)?(a=a.slice(0,a.length-2),null===(a=this._decodeExtended(a))?null:{code:a.join(""),start:t.start,end:o,startInfo:t,decodedCodes:a,format:this.FORMAT}):null}}]),n}(JO),oy=n(827),cy=n.n(oy);var uy=[1,1,1],ly=[1,1,1,1,1],sy=[1,1,2],dy=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],fy=[0,11,13,14,19,25,28,21,22,26],py=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this,cy()({supplements:[]},e),r)).FORMAT=It.a.EAN_13,a.SINGLE_CODE_ERROR=.7,a.STOP_PATTERN=[1,1,1],a}return Object(a.a)(n,[{key:"_findPattern",value:function(e,t,n,r){var i=new Array(e.length).fill(0),a={error:Number.MAX_VALUE,start:0,end:0},o=0;t||(t=this._nextSet(this._row));for(var c=!1,u=t;u<this._row.length;u++)if(this._row[u]^(n?1:0))i[o]+=1;else{if(o===i.length-1){var l=this._matchPattern(i,e);if(l<.48&&void 0!==a.error&&l<a.error)return c=!0,a.error=l,a.start=u-i.reduce((function(e,t){return e+t}),0),a.end=u,a;if(r){for(var s=0;s<i.length-2;s++)i[s]=i[s+2];i[i.length-2]=0,i[i.length-1]=0,o--}}else o++;i[o]=1,n=!n}return c?a:null}},{key:"_decodeCode",value:function(e,t){var n=[0,0,0,0],r=e,i={error:Number.MAX_VALUE,code:-1,start:e,end:e},a=Number.MAX_VALUE,o=!this._row[r],c=0;void 0!==t&&0!==t||(t=dy.length);for(var u=r;u<this._row.length;u++){var l=0;if(o&&(l=1),this._row[u]^l)n[c]++;else{if(c===n.length-1){for(var s=0;s<t;s++){var d=this._matchPattern(n,dy[s]);i.end=u,d<a&&(a=d,i.code=s,i.error=a)}return a>.48?null:i}n[++c]=1,o=!o}}return null}},{key:"_findStart",value:function(){for(var e=this._nextSet(this._row),t=null;null===t;){if(!(t=this._findPattern(uy,e,!1,!0)))return null;var n=t.start-(t.end-t.start);if(n>=0&&this._matchRange(n,t.start,0))return t;e=t.end,t=null}return null}},{key:"_calculateFirstDigit",value:function(e){for(var t=0;t<fy.length;t++)if(e===fy[t])return t;return null}},{key:"_decodePayload",value:function(e,t,n){for(var r=Object(s.a)({},e),i=0,a=0;a<6;a++){if(!(r=this._decodeCode(r.end)))return null;r.code>=10?(r.code-=10,i|=1<<5-a):i|=0<<5-a,t.push(r.code),n.push(r)}var o=this._calculateFirstDigit(i);if(null===o)return null;t.unshift(o);var c=this._findPattern(ly,r.end,!0,!1);if(null===c||!c.end)return null;n.push(c);for(var u=0;u<6;u++){if(null===(c=this._decodeCode(c.end,10)))return null;n.push(c),t.push(c.code)}return c}},{key:"_verifyTrailingWhitespace",value:function(e){var t=e.end-e.start,n=Math.min(e.end+t/2,this._row.length);return this._matchRange(e.end,n,0)?e:null}},{key:"_findEnd",value:function(e,t){var n=this._findPattern(this.STOP_PATTERN,e,t,!1);return null!==n?this._verifyTrailingWhitespace(n):null}},{key:"_checksum",value:function(e){for(var t=0,n=e.length-2;n>=0;n-=2)t+=e[n];t*=3;for(var r=e.length-1;r>=0;r-=2)t+=e[r];return t%10===0}},{key:"_decodeExtensions",value:function(e){var t=this._nextSet(this._row,e),n=this._findPattern(sy,t,!1,!1);if(null===n)return null;for(var r=0;r<this.supplements.length;r++)try{var i=this.supplements[r]._decode(this._row,n.end);if(null!==i)return{code:i.code,start:t,startInfo:n,end:i.end,decodedCodes:i.decodedCodes,format:this.supplements[r].FORMAT}}catch(a){}return null}},{key:"_decode",value:function(e,t){var n=new Array,r=new Array,i={},a=this._findStart();if(null===a)return null;var o={start:a.start,end:a.end};if(r.push(o),!(o=this._decodePayload(o,n,r)))return null;if(!(o=this._findEnd(o.end,!1)))return null;if(r.push(o),!this._checksum(n))return null;do{if(this.supplements.length>0){var c=this._decodeExtensions(o.end);if(!c)break;if(!c.decodedCodes)break;var u=c.decodedCodes[c.decodedCodes.length-1],l={start:u.start+((u.end-u.start)/2|0),end:u.end};if(!this._verifyTrailingWhitespace(l))break;i={supplement:c,format:c.format,code:n.join("")+c.code}}}while(0);return Object(s.a)({code:n.join(""),start:a.start,end:o.end,startInfo:a,decodedCodes:r,format:this.FORMAT},i)}}]),n}(JO);var vy=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).FORMAT=It.a.EAN_2,e}return Object(a.a)(n,[{key:"_decode",value:function(e,t){e&&(this._row=e);var n=0,r=t,i=this._row.length,a=[],o=[],c=null;if(void 0===r)return null;for(var u=0;u<2&&r<i;u++){if(!(c=this._decodeCode(r)))return null;o.push(c),a.push(c.code%10),c.code>=10&&(n|=1<<1-u),1!==u&&(r=this._nextSet(this._row,c.end),r=this._nextUnset(this._row,r))}if(2!==a.length||parseInt(a.join(""))%4!==n)return null;var l=this._findStart();return{code:a.join(""),decodedCodes:o,end:c.end,format:this.FORMAT,startInfo:l,start:l.start}}}]),n}(py);var hy=[24,20,18,17,12,6,3,10,9,5];var by=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).FORMAT=It.a.EAN_5,e}return Object(a.a)(n,[{key:"_decode",value:function(e,t){if(void 0===t)return null;e&&(this._row=e);for(var n=0,r=t,i=this._row.length,a=null,o=[],c=[],u=0;u<5&&r<i;u++){if(!(a=this._decodeCode(r)))return null;c.push(a),o.push(a.code%10),a.code>=10&&(n|=1<<4-u),4!==u&&(r=this._nextSet(this._row,a.end),r=this._nextUnset(this._row,r))}if(5!==o.length)return null;if(function(e){for(var t=e.length,n=0,r=t-2;r>=0;r-=2)n+=e[r];n*=3;for(var i=t-1;i>=0;i-=2)n+=e[i];return(n*=3)%10}(o)!==function(e){for(var t=0;t<10;t++)if(e===hy[t])return t;return null}(n))return null;var l=this._findStart();return{code:o.join(""),decodedCodes:c,end:a.end,format:this.FORMAT,startInfo:l,start:l.start}}}]),n}(py);var my=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).FORMAT=It.a.EAN_8,e}return Object(a.a)(n,[{key:"_decodePayload",value:function(e,t,n){for(var r=e,i=0;i<4;i++){if(!(r=this._decodeCode(r.end,10)))return null;t.push(r.code),n.push(r)}if(null===(r=this._findPattern(ly,r.end,!0,!1)))return null;n.push(r);for(var a=0;a<4;a++){if(!(r=this._decodeCode(r.end,10)))return null;n.push(r),t.push(r.code)}return r}}]),n}(py);var gy=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,cy()({normalizeBarSpaceWidth:!1},e))).barSpaceRatio=[1,1],r.SINGLE_CODE_ERROR=.78,r.AVG_CODE_ERROR=.38,r.START_PATTERN=[1,1,1,1],r.STOP_PATTERN=[1,1,3],r.CODE_PATTERN=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],r.MAX_CORRECTION_FACTOR=5,r.FORMAT=It.a.i2of5,!0===e.normalizeBarSpaceWidth&&(r.SINGLE_CODE_ERROR=.38,r.AVG_CODE_ERROR=.09),r.config=e,Object(u.a)(r,Object(o.a)(r))}return Object(a.a)(n,[{key:"_matchPattern",value:function(e,t){if(!0===this.config.normalizeBarSpaceWidth){for(var n=[0,0],r=[0,0],i=[0,0],a=this.MAX_CORRECTION_FACTOR,o=1/a,c=0;c<e.length;c++)n[c%2]+=e[c],r[c%2]+=t[c];i[0]=r[0]/n[0],i[1]=r[1]/n[1],i[0]=Math.max(Math.min(i[0],a),o),i[1]=Math.max(Math.min(i[1],a),o),this.barSpaceRatio=i;for(var u=0;u<e.length;u++)e[u]*=this.barSpaceRatio[u%2]}return JO.prototype._matchPattern.call(this,e,t)}},{key:"_findPattern",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Array(e.length).fill(0),a=0,o={error:Number.MAX_VALUE,code:-1,start:0,end:0},c=this.AVG_CODE_ERROR;n=n||!1,r=r||!1,void 0===t&&(t=this._nextSet(this._row));for(var u=t;u<this._row.length;u++)if(this._row[u]^(n?1:0))i[a]++;else{if(a===i.length-1){var l=i.reduce((function(e,t){return e+t}),0),s=this._matchPattern(i,e);if(s<c)return o.error=s,o.start=u-l,o.end=u,o;if(!r)return null;for(var d=0;d<i.length-2;d++)i[d]=i[d+2];i[i.length-2]=0,i[i.length-1]=0,a--}else a++;i[a]=1,n=!n}return null}},{key:"_findStart",value:function(){for(var e=0,t=this._nextSet(this._row),n=null,r=1;null===n;){if(null===(n=this._findPattern(this.START_PATTERN,t,!1,!0)))return null;if(r=Math.floor((n.end-n.start)/4),(e=n.start-10*r)>=0&&this._matchRange(e,n.start,0))return n;t=n.end,n=null}return null}},{key:"_verifyTrailingWhitespace",value:function(e){var t=e.end+(e.end-e.start)/2;return t<this._row.length&&this._matchRange(e.end,t,0)?e:null}},{key:"_findEnd",value:function(){this._row.reverse();var e=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===e)return null;var t=e.start;return e.start=this._row.length-e.end,e.end=this._row.length-t,null!==e?this._verifyTrailingWhitespace(e):null}},{key:"_decodePair",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=this._decodeCode(e[n]);if(!r)return null;t.push(r)}return t}},{key:"_decodeCode",value:function(e){for(var t=this.AVG_CODE_ERROR,n={error:Number.MAX_VALUE,code:-1,start:0,end:0},r=0;r<this.CODE_PATTERN.length;r++){var i=this._matchPattern(e,this.CODE_PATTERN[r]);i<n.error&&(n.code=r,n.error=i)}return n.error<t?n:null}},{key:"_decodePayload",value:function(e,t,n){for(var r=0,i=e.length,a=[[0,0,0,0,0],[0,0,0,0,0]],o=null;r<i;){for(var c=0;c<5;c++)a[0][c]=e[r]*this.barSpaceRatio[0],a[1][c]=e[r+1]*this.barSpaceRatio[1],r+=2;if(!(o=this._decodePair(a)))return null;for(var u=0;u<o.length;u++)t.push(o[u].code+""),n.push(o[u])}return o}},{key:"_verifyCounterLength",value:function(e){return e.length%10===0}},{key:"_decode",value:function(e,t){var n=new Array,r=new Array,i=this._findStart();if(!i)return null;r.push(i);var a=this._findEnd();if(!a)return null;var o=this._fillCounters(i.end,a.start,!1);return this._verifyCounterLength(o)&&this._decodePayload(o,n,r)?n.length%2!==0||n.length<6?null:(r.push(a),{code:n.join(""),start:i.start,end:a.end,startInfo:i,decodedCodes:r,format:this.FORMAT}):null}}]),n}(JO);var Oy=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).CODE_FREQUENCY=[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]],e.STOP_PATTERN=[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7],e.FORMAT=It.a.UPC_E,e}return Object(a.a)(n,[{key:"_decodePayload",value:function(e,t,n){for(var r=Object(s.a)({},e),i=0,a=0;a<6;a++){if(!(r=this._decodeCode(r.end)))return null;r.code>=10&&(r.code=r.code-10,i|=1<<5-a),t.push(r.code),n.push(r)}return this._determineParity(i,t)?r:null}},{key:"_determineParity",value:function(e,t){for(var n=0;n<this.CODE_FREQUENCY.length;n++)for(var r=0;r<this.CODE_FREQUENCY[n].length;r++)if(e===this.CODE_FREQUENCY[n][r])return t.unshift(n),t.push(r),!0;return!1}},{key:"_convertToUPCA",value:function(e){var t=[e[0]],n=e[e.length-2];return(t=n<=2?t.concat(e.slice(1,3)).concat([n,0,0,0,0]).concat(e.slice(3,6)):3===n?t.concat(e.slice(1,4)).concat([0,0,0,0,0]).concat(e.slice(4,6)):4===n?t.concat(e.slice(1,5)).concat([0,0,0,0,0,e[5]]):t.concat(e.slice(1,6)).concat([0,0,0,0,n])).push(e[e.length-1]),t}},{key:"_checksum",value:function(e){return Object(He.a)(Object(l.a)(n.prototype),"_checksum",this).call(this,this._convertToUPCA(e))}},{key:"_findEnd",value:function(e){return Object(He.a)(Object(l.a)(n.prototype),"_findEnd",this).call(this,e,!0)}},{key:"_verifyTrailingWhitespace",value:function(e){var t=e.end+(e.end-e.start)/2;return t<this._row.length&&this._matchRange(e.end,t,0)?e:null}}]),n}(py);function yy(e){if(null!==e)return e}var jy={normalizeBarSpaceWidth:!0},ky=new py(jy,[new by(jy),new vy(jy)]),xy=new my(jy),Cy=new Oy(jy),wy=new ny(jy),Sy=new ay(jy),Ey=[ky,xy,Cy,new $O(jy),Sy,wy,new gy(jy),new QO(jy)];function My(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=(null!==(c=e.decodedCodes)&&void 0!==c?c:[])[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c,u=a.value;"string"!==typeof u&&(void 0!==u.error&&t.push(u.error))}}catch(l){r=!0,i=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t.sort((function(e,t){return e-t}))}function Ry(e,t){var n,r=[],i=t.maxQuantile,a=t.errorAtMaxQuantile,o=!0,c=!1,u=void 0;try{for(var l,s=Ey[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var d=yy(l.value.decodePattern(e));if(void 0!==d){var f=My(d);if(f.length>0)if(f[Math.min(Math.floor(i*f.length),f.length-1)]>a)continue;var p=Qc()(f);r.push([p,d])}}}catch(v){c=!0,u=v}finally{try{o||null==s.return||s.return()}finally{if(c)throw u}}return r.sort((function(e,t){return e[0]-t[0]})),function(e){if(void 0!==e)return{standard:e.format,code:e.code}}(null===(n=r[0])||void 0===n?void 0:n[1])}function Dy(e,t,n,r){var i=e.width,a=n.onBinaryLine,o=n.onGrayscaleLine,c=t[0];if(void 0!==c){var u=qO(e,c,r,0,i);null===o||void 0===o||o(u.line);var l=GO(u);null===a||void 0===a||a(l);var s=Ry(l,n);if(void 0!==s)return s;var d=!0,f=!1,p=void 0;try{for(var v,h=t.slice(1)[Symbol.iterator]();!(d=(v=h.next()).done);d=!0){if(void 0!==(s=Ry(l=GO(u=qO(e,v.value,r,0,i)),n)))return s}}catch(b){f=!0,p=b}finally{try{d||null==h.return||h.return()}finally{if(f)throw p}}}}var Ty=0,Py=function(){function e(t,n,r){var a=this;Object(i.a)(this,e),this.size=t,this.errorHandler=r,this.workers=new Map,this.clientCallbacks=new Map,this.onWorkerMessage=function(e){var t,n=e.data;if((t=n,Object(Sr.hasOwnProperty)(t,"srcClientID")&&Object(Sr.hasOwnProperty)(t,"dstClientID")&&"number"===typeof t.srcClientID&&"number"===typeof t.dstClientID)&&(function(e){return Object(Sr.hasOwnProperty)(e,"kind")&&"chunk-angle-response"===e.kind}(n)||function(e){return Object(Sr.hasOwnProperty)(e,"kind")&&"barcode-response"===e.kind}(n))){var r=n.dstClientID;a.notifyClientOfMessage(r,n)}},this.onWorkerError=function(e){var t;a.close(),null===(t=a.errorHandler)||void 0===t||t.call(a,e)};try{for(var o=0;o<t;o++){var c=Ty++,u=n(c);u.addEventListener("message",this.onWorkerMessage),u.addEventListener("error",this.onWorkerError),this.workers.set(c,u)}}catch(l){throw this.close(),l}}return Object(a.a)(e,[{key:"notifyClientOfMessage",value:function(e,t){var n,r=this.clientCallbacks.get(e),i=null===r||void 0===r?void 0:r.shift();void 0!==i&&(i(t),0===(null!==(n=null===r||void 0===r?void 0:r.length)&&void 0!==n?n:0)&&this.clientCallbacks.delete(e))}},{key:"close",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.workers.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;"terminate"in a&&"function"===typeof a.terminate?a.terminate():(a.removeEventListener("message",this.onWorkerMessage),a.removeEventListener("error",this.onWorkerError))}}catch(o){t=!0,n=o}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.workers.clear()}}]),Object(a.a)(e,[{key:"forWorkers",value:function(e){var t,n=0,r=!0,i=!1,a=void 0;try{for(var o,c=this.workers.entries()[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var u=o.value,l=u[0],d=u[1],f=e(n,this.workers.size);if(void 0!==f){var p=f.req,v=f.responseFunc,h=p.srcClientID;n++;var b=this.clientCallbacks.get(h);void 0===b&&(b=[],this.clientCallbacks.set(h,b)),b.push(v),d instanceof Worker?d.postMessage(Object(s.a)(Object(s.a)({},p),{},{dstClientID:l}),{transfer:[(t=p,!Object(Sr.hasOwnProperty)(t,"kind")||"process-full-chunks"!==t.kind&&"process-pre-threshold-chunks"!==t.kind?p.imgBuffer:p.buffers)]}):d.postMessage(Object(s.a)(Object(s.a)({},p),{},{dstClientID:l}),d.origin)}}}catch(m){i=!0,a=m}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}}}]),e}();function Iy(e,t,n){var r=Math.ceil(e/t);return Math.ceil(r/n)}function _y(e,t,n,r){return Iy(t,n,r)*Math.ceil(e/n)}function Ny(e,t,n,r){return Iy(t,n,r)*n*e}var Ay=function(){function e(t){Object(i.a)(this,e),this.params=t,this.clientID=Ty++,this.chunkSchedule=[],this.chunkMatrix=new _O(0,0,0,0),this.width=0,this.height=0,this.resetDimensions()}return Object(a.a)(e,[{key:"resetDimensions",value:function(){var e=this.params,t=e.srcCtx,n=e.chunkDimension,r=t.canvas;r.width===this.width&&r.height===this.height||(this.width=Math.floor(r.width),this.height=Math.floor(r.height),this.chunkMatrix=new _O(Math.ceil(this.width/n),Math.ceil(this.height/n),n,n),this.chunkSchedule=function(e,t,n){for(var r=[],i=0;i<t;i+=n)for(var a=0;a<e;a+=n){var o=Math.floor(Math.min(e-a,n)),c=Math.floor(Math.min(t-i,n));0!==o&&0!==c&&r.push({width:o,height:c,x:a,y:i})}return r}(this.width,this.height,n))}}]),Object(a.a)(e,[{key:"sendWorkerLocationRequest",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n,r,i,a,o,c,u){var l,s,d,f,p,v,h=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Promise((function(e){l=e})),d=this.params.pool,f=4*Ny(r,i,a,d.size),p=_y(r,i,a,d.size),v=0,d.forWorkers((function(e){var s=e*p,d=e*f;if(!(d>=n.length)){var b=n.slice(d,d+Math.min(f,n.length-d)),m=Math.min(p,o.length-s);return v++,{req:{dstClientID:0,srcClientID:h.clientID,kind:u,buffers:b.buffer,colorSpace:t,imgWidth:r,imgHeight:i,chunkDim:a,chunkScheduleOffset:s,chunksToProcess:m},responseFunc:function(e){var t,n=e.responses,r=!0,i=!1,a=void 0;try{for(var o,u=n[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value,d=s.xOffset,f=s.yOffset,p=s.angleCluster;c.set(d/c.xStep,f/c.yStep,p)}}catch(h){i=!0,a=h}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}--v<=0&&(v=0,null===(t=l)||void 0===t||t())}}}})),e.next=8,s;case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,a,o,c,u){return e.apply(this,arguments)}}()},{key:"locateBarcodes",value:function(){var e=Object(x.a)(k.a.mark((function e(t){var n,r,i,a,o,c,u,l,s,d,f,p,v,h,b,m,g,O,y,j,x,C,w;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.resetDimensions(),n=this.params,r=n.srcCtx,i=n.chunkDimension,a=n.clusterParams,o=n.outputPadding,c=n.procCtx,u=r.getImageData(0,0,this.width,this.height),l=new Uint8Array(u.data.buffer),this.chunkMatrix.reset(),e.next=7,this.sendWorkerLocationRequest(t,l,this.width,this.height,i,this.chunkSchedule,this.chunkMatrix,"process-full-chunks");case 7:for(s=BO(this.chunkMatrix,a),d=[],f=[],p=!0,v=!1,h=void 0,e.prev=13,b=s[Symbol.iterator]();!(p=(m=b.next()).done);p=!0)g=m.value,O=g.boundingBox,y=O.width,j=O.height,(x=c.canvas).width=y+2*o,x.height=j+2*o,C=DO(r,c,O,o),w=C.imageData,d.push(g),f.push(w);e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),v=!0,h=e.t0;case 21:e.prev=21,e.prev=22,p||null==b.return||b.return();case 24:if(e.prev=24,!v){e.next=27;break}throw h;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return e.abrupt("return",{possibleBarcodes:d,barcodesImageData:f,imageData:u});case 30:case"end":return e.stop()}}),e,this,[[13,17,21,29],[22,,24,28]])})));return function(t){return e.apply(this,arguments)}}()},{key:"decodeFromImageData",value:function(){var e=Object(x.a)(k.a.mark((function e(t,n,r,i){var a,o,c,u,l,s,d,f,p,v,h,b,m,g=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.yStart,o=i.yMin,c=i.yMax,!(n.length<1)){e.next=3;break}return e.abrupt("return",void 0);case 3:if(void 0===(u=Dy(t,n,r,a))){e.next=6;break}return e.abrupt("return",u);case 6:l=r.decodeStep,s=this.params.pool,d=l*s.size,f=a-l,p=a+l;case 10:if(!(o<=f||p<=c)){e.next=27;break}v=k.a.mark((function e(){var i,a,u,v,m,O,y,j,x,C;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(-1===(i=b[h])&&f<o)){e.next=3;break}return e.abrupt("return","continue");case 3:if(!(1===i&&p>c)){e.next=5;break}return e.abrupt("return","continue");case 5:if(a=0,u=void 0,v=new Promise((function(e){u=e})),m=[],O=f,1===i&&(O=p),s.forWorkers((function(e){var o;if(!((o=-1===i?O-e*l:O+e*l)<0||t.height<=o)){var c=t.data.slice(o*t.width*4,(o+1)*t.width*4).buffer;return a++,{req:{kind:"process-decode-barcode",imgWidth:t.width,imgBuffer:c,colorSpaces:n,decodeParams:r,srcClientID:g.clientID,dstClientID:0},responseFunc:function(e){var t,n=e.result;(void 0!==n&&m.push(n),--a<=0)&&(a=0,null===(t=u)||void 0===t||t())}}}})),!(a>0)){e.next=15;break}return e.next=15,v;case 15:if(-1===i?f-=d:p+=d,0!==m.length){e.next=18;break}return e.abrupt("return","continue");case 18:y=!0,j=m[0],x=1;case 21:if(!(x<m.length)){e.next=29;break}if((C=m[x]).code===j.code&&C.standard===j.standard){e.next=26;break}return y=!1,e.abrupt("break",29);case 26:x++,e.next=21;break;case 29:if(!y){e.next=31;break}return e.abrupt("return",{v:m[0]});case 31:case"end":return e.stop()}}),e)})),h=0,b=[-1,1];case 13:if(!(h<b.length)){e.next=25;break}return e.delegateYield(v(),"t0",15);case 15:m=e.t0,e.t1=m,e.next="continue"===e.t1?19:20;break;case 19:return e.abrupt("continue",22);case 20:if("object"!==typeof m){e.next=22;break}return e.abrupt("return",m.v);case 22:h++,e.next=13;break;case 25:e.next=10;break;case 27:return e.abrupt("return",void 0);case 28:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),e}();function Fy(e,t){if(e.width/e.height>t.width/t.height){var n=t.width/e.width,r=t.width,i=e.height*n;return{x:0,y:(t.height-i)/2,width:r,height:i,scale:n}}var a=t.height/e.height,o=e.width*a,c=t.height;return{x:(t.width-o)/2,y:0,width:o,height:c,scale:a}}function Ly(e,t,n,r){return e-(n-e)*t/(r-t)}function By(e){var t=new xO;return t.postMessage({kind:"locator-bootstrap",workerID:e}),t}function Vy(e){Object(P.a)("In BarcodeWorkerPool",e)}var Uy={zeroEpsilon:.0873,angleEpsilon:.14,minFactor:4,maxFactor:1.2,minClusterSize:3},zy={maxQuantile:.85,errorAtMaxQuantile:.15,decodeStep:3,xPadding:16};function Wy(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.getTracks()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.stop()}}catch(o){n=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}function Hy(e,t,n){var r="--line-container-flex-grow: ".concat(t.width<t.height?1:2),i="--container-background-color: ".concat(void 0===n.lastCode?"rgba(0, 0, 0, 0.4)":"rgba(11, 193, 84, 0.8)");e.setAttribute("style","".concat(r,"; ").concat(i))}function Ky(e){return qy.apply(this,arguments)}function qy(){return(qy=Object(x.a)(k.a.mark((function e(t){var n,r,i,a,o,c,u,l,s,d,f,p,v,h,b,m,g,O,y,j,x,C,w,S,E,M,R,D,T,I,_,N,F,L,B,V,U,z,W,H,K,q,G,J,Z,X;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.cv,r=t.client,i=t.container,n.visible){e.next=4;break}return n.currentlyRunning||r.params.pool.close(),e.abrupt("return");case 4:if(a=n.currentlyRunning,o=n.lastTime,c=i.getBoundingClientRect(),!(a||window.performance.now()-o<100)){e.next=10;break}return Hy(i,c,n),requestAnimationFrame((function(){return Object(A.s)(Ky(t))})),e.abrupt("return");case 10:if(n.currentlyRunning=!0,e.prev=11,u=t.liveVideo,l=t.captureCtx,0!==u.videoWidth&&0!==u.videoHeight){e.next=15;break}return e.abrupt("return");case 15:if(s=Fy(c,{width:u.videoWidth,height:u.videoHeight}),d=Math.floor(s.height/3),f=Fy({width:s.width,height:d},s),p=f.x+s.x,v=f.y+s.y,(h=l.canvas).width=f.width,h.height=f.height,0!==h.width&&0!==h.height){e.next=25;break}return e.abrupt("return");case 25:return l.drawImage(u,p,v,f.width,f.height,0,0,f.width,f.height),e.next=28,r.locateBarcodes(TO.Linear);case 28:if(b=e.sent,m=b.possibleBarcodes,g=b.barcodesImageData,n.visible){e.next=33;break}return e.abrupt("return");case 33:O=[],y=f.height/2,j=0;case 36:if(!(j<m.length)){e.next=47;break}if(x=m[j],C=g[j],void 0!==x&&void 0!==C){e.next=41;break}return e.abrupt("continue",44);case 41:w=x.boundingBox,S=w.vertex1,E=w.vertex2,M=w.vertex3,R=w.vertex4,(S[1]>y&&E[1]>y&&M[1]<y&&R[1]<y||S[1]<y&&E[1]<y&&M[1]>y&&R[1]>y)&&O.push([x,C]);case 44:j++,e.next=36;break;case 47:if(0!==O.length){e.next=51;break}++n.consecutiveErrors>3&&(n.consecutiveCodes=0,n.lastCode=void 0),e.next=98;break;case 51:T=!0,I=!1,_=void 0,e.prev=54,N=O[Symbol.iterator]();case 56:if(T=(F=N.next()).done){e.next=81;break}return L=F.value,B=L[0],V=L[1],U=B.boundingBox,z=U.vertex1,W=U.vertex2,H=U.vertex3,K=U.vertex4,q=Ly(z[0],z[1],K[0],K[1]),G=Ly(W[0],W[1],H[0],H[1]),J=RO(U,16,16),Z=MO((q+G)/2,0,EO(U),J[0],J[1]),e.next=68,r.decodeFromImageData(V,[TO.Linear,TO.Srgb],zy,{yStart:Math.floor(Z[1]),yMin:0,yMax:V.height});case 68:if(X=e.sent,n.visible){e.next=71;break}return e.abrupt("break",81);case 71:if(void 0!==D){e.next=75;break}D=X,e.next=78;break;case 75:if(void 0===X){e.next=78;break}return D=void 0,e.abrupt("break",81);case 78:T=!0,e.next=56;break;case 81:e.next=87;break;case 83:e.prev=83,e.t0=e.catch(54),I=!0,_=e.t0;case 87:e.prev=87,e.prev=88,T||null==N.return||N.return();case 90:if(e.prev=90,!I){e.next=93;break}throw _;case 93:return e.finish(90);case 94:return e.finish(87);case 95:if(n.visible){e.next=97;break}return e.abrupt("return");case 97:void 0===D?++n.consecutiveErrors>3&&(n.consecutiveCodes=0,n.lastCode=void 0):void 0===n.lastCode||n.lastCode.code!==D.code||n.lastCode.standard!==D.standard?(n.consecutiveCodes=0,n.consecutiveErrors=0,n.lastCode=D):(n.consecutiveErrors=0,3===++n.consecutiveCodes&&n.onScannedCode(D.standard,D.code));case 98:e.next=103;break;case 100:e.prev=100,e.t1=e.catch(11),Object(P.a)("Processing linear barcode frame",e.t1);case 103:return e.prev=103,n.currentlyRunning=!1,n.lastTime=window.performance.now(),n.visible?(Hy(i,i.getBoundingClientRect(),n),requestAnimationFrame((function(){return Object(A.s)(Ky(t))}))):r.params.pool.close(),e.finish(103);case 108:case"end":return e.stop()}}),e,null,[[11,100,103,108],[54,83,87,95],[88,,90,94]])})))).apply(this,arguments)}function Gy(e){var t=e.onScannedCode,n=jt.useState(void 0),i=Object(r.a)(n,2),a=i[0],o=i[1],c=jt.useMemo((function(){return document.createElement("canvas")}),[]),u=jt.useMemo((function(){return document.createElement("canvas")}),[]),l=jt.useMemo((function(){return c.getContext("2d")}),[c]),s=jt.useMemo((function(){return u.getContext("2d")}),[u]),d=Wt(),f=Object(r.a)(d,2),p=f[0],v=f[1],h=Wt(),b=Object(r.a)(h,2),m=b[0],g=b[1],O=jt.useMemo((function(){return{visible:!0,currentlyRunning:!1,lastTime:window.performance.now(),lastCode:void 0,consecutiveCodes:0,consecutiveErrors:0,onScannedCode:function(){}}}),[]);O.onScannedCode=t,jt.useEffect((function(){return function(){O.visible=!1}}),[O]),jt.useEffect((function(){if(void 0!==v&&!1!==a){if(void 0!==a)return function(){return Wy(a)};if(void 0!==navigator.mediaDevices){var e=v.getBoundingClientRect(),t=e.width<e.height?2/3:1.5;navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:1280,aspectRatio:{ideal:t}}}).then((function(e){O.visible?o(e):Wy(e)})).catch((function(e){Object(P.a)("Setting up linear barcode scanner",e),O.visible&&o(!1)}))}else o(!1)}}),[O,v,a,o]);var y=jt.useMemo((function(){var e;return null!==l&&null!==s&&!1!==a&&void 0!==a?new Ay({pool:new Py(Math.min(null!==(e=navigator.hardwareConcurrency)&&void 0!==e?e:2,4),By,Vy),chunkDimension:32,outputPadding:16,clusterParams:Uy,srcCtx:l,procCtx:s}):null}),[l,s,a]);jt.useEffect((function(){void 0!==g&&void 0!==a&&!1!==a&&(g.srcObject=a)}),[g,a]),jt.useEffect((function(){null!==l&&void 0!==v&&void 0!==g&&null!==y&&Object(A.s)(Ky({cv:O,container:v,liveVideo:g,captureCtx:l,client:y}))}),[l,v,g,y,O,t]);var j,k=jt.useMemo((function(){return{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),[]);return j=void 0===a?jt.createElement(zt.a,null):!1===a?jt.createElement("span",null,"Could not initialize camera."):jt.createElement(jt.Fragment,null,jt.createElement("div",{className:"llbs-video-container"},jt.createElement("video",{className:"llbs-video",playsInline:!0,muted:!0,autoPlay:!0,ref:m})),jt.createElement("div",{className:"llbs-bounding-container"},jt.createElement("div",{className:"llbs-bounding-shade"}),jt.createElement("div",{className:"llbs-bounding-line-container"},jt.createElement("div",{className:"llbs-bounding-line"})),jt.createElement("div",{className:"llbs-bounding-shade"}))),jt.createElement("div",{style:k},jt.createElement(kO,{ref:p},j))}function Jy(e){var t=e.onSuccessPV,n=e.outputVP,r=e.ctx,i=e.env,a=jt.useMemo((function(){return Object(p.M)(t,B.o)}),[t]),o=jt.useCallback(Bt()((function(e,t){n.set(t),null===a||void 0===a||a.run(r,i,B.d.None)})),[n,a,r,i]);return jt.createElement(Gy,{onScannedCode:o})}var Zy=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"renderContent",value:function(e,t,n,i){var a=Object(r.a)(e,2)[1],o=Object(r.a)(i,1)[0];return a!==B.i&&Object(p.K)(o)?jt.createElement(Jy,{onSuccessPV:a,outputVP:o,ctx:t,env:n}):null}}]),e}();var Xy=n(780),Yy=n.n(Xy);function Qy(){var e=Object(Kt.a)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n"]);return Qy=function(){return e},e}function $y(){var e=Object(Kt.a)(["\n    position: absolute;\n    left: ","px;\n    top: 0;\n    right: 0;\n"]);return $y=function(){return e},e}function ej(){var e=Object(Kt.a)(["\n    position: absolute;\n    left: 0;\n    width: ","px;\n    top: 0;\n    border-right: 1px solid ",";\n"]);return ej=function(){return e},e}function tj(){var e=Object(Kt.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    display: flex;\n\n    --maximum-detail-width: 700px;\n\n    & *::-webkit-scrollbar {\n        display: none;\n    }\n\n    & > .left-panel {\n        position: relative;\n        width: ","px;\n        background-color: ",";\n        border-right: 1px solid ",";\n    }\n\n    & > .right-panel {\n        flex-grow: 1;\n        display: flex;\n    }\n\n    & > .center-panel {\n        position: absolute;\n\n        top: 0;\n        bottom: 0;\n        width: 100%;\n        height: 100%;\n\n        display: flex;\n        justify-content: center;\n    }\n\n    & .content-wrapper {\n        position: relative;\n        width: 100%;\n    }\n\n    & .tablet-modal {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.2);\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        z-index: 29;\n\n        transition: background-color 200ms;\n\n        animation: tablet-modal-enter 200ms linear forwards;\n        animation-iteration-count: 1;\n    }\n\n    @keyframes tablet-modal-enter {\n        0% {\n            opacity: 0;\n        }\n        100% {\n            opacity: 1;\n        }\n    }\n\n    & .tablet-modal-content {\n        position: relative;\n        background-color: ",";\n        ",";\n        ",";\n\n        border-radius: 12px;\n        overflow: hidden;\n        border: 1px solid ",";\n\n        transition: transform 200ms ease-out, opacity 200ms;\n\n        animation: tablet-modal-content-enter 200ms linear;\n        animation-iteration-count: 1;\n    }\n\n    @keyframes tablet-modal-content-enter {\n        0% {\n            opacity: 0;\n            transform: translateY(60%);\n        }\n        100% {\n            opacity: 1;\n        }\n    }\n\n    & .tablet-modal.leave {\n        background-color: transparent;\n        pointer-events: none;\n\n        > * {\n            transform: translateY(60%);\n            opacity: 0;\n        }\n\n        * {\n            pointer-events: none !important;\n        }\n    }\n\n    & .tablet-modal-scr {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n    }\n\n    & .tablet-modal-bar {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n    }\n\n    background-color: ",";\n"]);return tj=function(){return e},e}function nj(){var e=Object(Kt.a)(["\n    height: ","px;\n"]);return nj=function(){return e},e}function rj(){var e=Object(Kt.a)(["\n    height: 80%;\n    max-height: 800px;\n"]);return rj=function(){return e},e}function ij(){var e=Object(Kt.a)(["\n    width: ","px;\n"]);return ij=function(){return e},e}function aj(){var e=Object(Kt.a)(["\n    min-width: 500px;\n    width: 50%;\n    max-width: 700px;\n"]);return aj=function(){return e},e}var oj=Object(qt.f)(aj()),cj=Object(qt.f)(ij(),(function(e){return e.modalWidth})),uj=Object(qt.f)(rj()),lj=Object(qt.f)(nj(),(function(e){return e.modalHeight})),sj=qt.i.div(tj(),(function(e){return e.expandLeftPanel?400:320}),(function(e){return e.theme.baseColor}),(function(e){return e.theme.separatorColor}),(function(e){return e.theme.offBaseColor}),(function(e){return void 0!==e.modalWidth?cj:oj}),(function(e){return void 0!==e.modalHeight?lj:uj}),(function(e){return e.theme.separatorColor}),(function(e){return e.theme.offBaseColor})),dj=qt.i.div(ej(),(function(e){return e.expandLeftPanel?400:320}),(function(e){return e.theme.separatorColor})),fj=qt.i.div($y(),(function(e){return e.expandLeftPanel?400:320})),pj=qt.i.div(Qy());function vj(){var e=Object(Kt.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    padding: 16px;\n\n    && {\n        color: ",";\n    }\n"]);return vj=function(){return e},e}function hj(){var e=Object(Kt.a)(["\n    height: 40px;\n    padding: 0 12px;\n\n    margin-bottom: 8px;\n\n    ","\n    display: flex;\n    align-items: center;\n\n    & > :first-child {\n        margin-right: 20px;\n    }\n\n    cursor: pointer;\n"]);return hj=function(){return e},e}function bj(){var e=Object(Kt.a)(["\n    padding: 20px 12px;\n\n    display: flex;\n    flex-direction: column;\n\n    flex-grow: 1;\n    flex-shrink: 0;\n"]);return bj=function(){return e},e}function mj(){var e=Object(Kt.a)(["\n    ","\n\n    opacity: 0.7;\n\n    margin-top: 4px;\n\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n"]);return mj=function(){return e},e}function gj(){var e=Object(Kt.a)(["\n    ","\n\n    margin-top: 20px;\n\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n"]);return gj=function(){return e},e}function Oj(){var e=Object(Kt.a)(["\n    width: 48px;\n    height: 48px;\n    border-radius: 100px;\n\n    color: ",";\n    object-fit: cover;\n\n    /* display: flex;\n    justify-content: center;\n    align-items: center; */\n"]);return Oj=function(){return e},e}function yj(){var e=Object(Kt.a)(["\n    border-bottom: 1px solid ",";\n\n    padding: calc(30px + var(--safe-area-inset-top)) 24px 20px 24px;\n\n    background-color: ",";\n    color: ",";\n"]);return yj=function(){return e},e}function jj(){var e=Object(Kt.a)(["\n    overflow-y: auto;\n\n    flex-grow: 1;\n    flex-shrink: 1;\n    display: flex;\n    flex-direction: column;\n\n    pointer-events: auto;\n\n    // Safari, Chrome, and derivatives of both\n    ::-webkit-scrollbar {\n        display: none;\n    }\n\n    // Firefox\n    scrollbar-width: none;\n"]);return jj=function(){return e},e}function kj(){var e=Object(Kt.a)(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n\n    background: transparent;\n    pointer-events: none;\n\n    transition: background-color 0.25s;\n\n    & "," {\n        transform: translateX(-102%);\n    }\n\n    &.open {\n        background: ",";\n        pointer-events: auto;\n\n        "," {\n            transform: translateX(0);\n        }\n    }\n\n    & > * {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        left: 0;\n        top: 0;\n    }\n\n    color: ",";\n\n    #flyout-tablet & {\n        pointer-events: auto;\n        background: transparent;\n    }\n    #flyout-tablet & "," {\n        transform: translateX(0);\n    }\n"]);return kj=function(){return e},e}function xj(){var e=Object(Kt.a)(["\n    position: absolute;\n    width: min(82%, ","px);\n    height: 100%;\n    left: 0;\n    top: 0;\n\n    ","\n\n    display: flex;\n    flex-direction: column;\n\n    background-color: ",";\n\n    /* this is a terrible hack to work around a chrome rendering bug.\n        to remove verify that on mobile chrome opening and closing the flyout\n        doesn't result in any rendering issues.\n     */\n    opacity: 0.9999;\n\n    will-change: transform;\n\n    transition: transform 0.25s cubic-bezier(0.12, 0.97, 0.19, 1);\n\n    padding-bottom: var(--safe-area-inset-bottom);\n\n    #flyout-tablet & {\n        width: 350px;\n    }\n"]);return xj=function(){return e},e}var Cj=qt.i.div(xj(),(function(e){return e.expandLeftPanel?400:320}),(function(e){return"transparent"!==e.theme.flyout.rightBorderColor&&"border-right: 1px solid ".concat(e.theme.flyout.rightBorderColor,";")}),(function(e){return e.theme.flyout.bgColor})),wj=qt.i.div(kj(),Cj,(function(e){return e.theme.flyout.overlayColor}),Cj,(function(e){return e.theme.fgColorDark}),Cj),Sj=qt.i.div(jj()),Ej=qt.i.div(yj(),(function(e){return e.theme.flyout.headerBorderColor}),(function(e){return e.theme.flyout.headerBg}),(function(e){return e.theme.flyout.headerFg})),Mj=Object(qt.i)(Ti.a)(Oj(),(function(e){return e.theme.flyout.headerImgColor})),Rj=qt.i.div(gj(),(function(e){return e.theme.fontStyles.AccentHeader3Fixed})),Dj=qt.i.div(mj(),(function(e){return e.theme.fontStyles.Body5Fixed})),Tj=qt.i.div(bj()),Pj=qt.i.div(hj(),(function(e){return e.theme.fontStyles.Header4Fixed})),Ij=qt.i.a(vj(),(function(e){return e.theme.fgColorDark}));var _j=function(){return jt.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("path",{d:"M24 0C10.752 0 0 10.752 0 24C0 37.248 10.752 48 24 48C37.248 48 48 37.248 48 24C48 10.752 37.248 0 24 0ZM12.168 39.072C13.2 36.912 19.488 34.8 24 34.8C28.512 34.8 34.824 36.912 35.832 39.072C32.568 41.664 28.464 43.2 24 43.2C19.536 43.2 15.432 41.664 12.168 39.072ZM39.264 35.592C35.832 31.416 27.504 30 24 30C20.496 30 12.168 31.416 8.736 35.592C6.288 32.376 4.8 28.368 4.8 24C4.8 13.416 13.416 4.8 24 4.8C34.584 4.8 43.2 13.416 43.2 24C43.2 28.368 41.712 32.376 39.264 35.592ZM24 9.6C19.344 9.6 15.6 13.344 15.6 18C15.6 22.656 19.344 26.4 24 26.4C28.656 26.4 32.4 22.656 32.4 18C32.4 13.344 28.656 9.6 24 9.6ZM24 21.6C22.008 21.6 20.4 19.992 20.4 18C20.4 16.008 22.008 14.4 24 14.4C25.992 14.4 27.6 16.008 27.6 18C27.6 19.992 25.992 21.6 24 21.6Z",fill:"currentColor"}))},Nj=function(){return jt.createElement("svg",{width:"118",height:"19",viewBox:"0 0 118 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jt.createElement("path",{d:"M0.852 6.57604C0.852 6.35204 0.928 6.16004 1.08 6.00004C1.24 5.84004 1.444 5.76004 1.692 5.76004C2.02 5.76004 2.264 5.90004 2.424 6.18004L5.004 10.536L7.608 6.18004C7.768 5.90004 8.012 5.76004 8.34 5.76004C8.588 5.76004 8.788 5.84004 8.94 6.00004C9.1 6.16004 9.18 6.35204 9.18 6.57604V13.536C9.18 13.712 9.116 13.86 8.988 13.98C8.868 14.1 8.712 14.16 8.52 14.16C8.328 14.16 8.172 14.1 8.052 13.98C7.932 13.86 7.872 13.712 7.872 13.536V8.19604L5.676 11.832C5.516 12.104 5.296 12.24 5.016 12.24C4.736 12.24 4.516 12.104 4.356 11.832L2.16 8.19604V13.536C2.16 13.712 2.096 13.86 1.968 13.98C1.848 14.1 1.692 14.16 1.5 14.16C1.316 14.16 1.16 14.1 1.032 13.98C0.912 13.86 0.852 13.712 0.852 13.536V6.57604ZM14.195 7.00804C13.627 7.00804 13.163 7.19604 12.803 7.57204C12.419 7.99604 12.227 8.56404 12.227 9.27604V10.176H16.163V9.27604C16.163 8.56404 15.975 7.99604 15.599 7.57204C15.239 7.19604 14.771 7.00804 14.195 7.00804ZM17.507 9.21604V13.512C17.507 13.688 17.439 13.84 17.303 13.968C17.175 14.096 17.019 14.16 16.835 14.16C16.651 14.16 16.491 14.096 16.355 13.968C16.227 13.84 16.163 13.688 16.163 13.512V11.364H12.227V13.512C12.227 13.688 12.159 13.84 12.023 13.968C11.895 14.096 11.739 14.16 11.555 14.16C11.363 14.16 11.203 14.1 11.075 13.98C10.947 13.852 10.883 13.696 10.883 13.512V9.21604C10.883 8.11204 11.251 7.23204 11.987 6.57604C12.571 6.03204 13.307 5.76004 14.195 5.76004C15.083 5.76004 15.819 6.03204 16.403 6.57604C17.139 7.22404 17.507 8.10404 17.507 9.21604ZM26.7036 9.94804C26.7036 11.308 26.2556 12.356 25.3596 13.092C24.5836 13.724 23.5236 14.04 22.1796 14.04H19.8756C19.6916 14.04 19.5316 13.976 19.3956 13.848C19.2676 13.72 19.2036 13.568 19.2036 13.392V6.51604C19.2036 6.34004 19.2676 6.18804 19.3956 6.06004C19.5316 5.93204 19.6916 5.86804 19.8756 5.86804H22.3476C23.8276 5.86804 24.9556 6.29204 25.7316 7.14004C26.3796 7.82804 26.7036 8.76404 26.7036 9.94804ZM20.5476 6.99604V12.912H22.0716C23.0556 12.912 23.8236 12.68 24.3756 12.216C25.0156 11.688 25.3356 10.932 25.3356 9.94804C25.3356 9.09204 25.1036 8.40804 24.6396 7.89604C24.0956 7.29604 23.2636 6.99604 22.1436 6.99604H20.5476ZM29.4304 10.536V12.852H33.6664C33.8264 12.852 33.9624 12.912 34.0744 13.032C34.1864 13.144 34.2424 13.28 34.2424 13.44C34.2424 13.608 34.1864 13.752 34.0744 13.872C33.9624 13.984 33.8264 14.04 33.6664 14.04H28.7584C28.5744 14.04 28.4144 13.976 28.2784 13.848C28.1504 13.72 28.0864 13.568 28.0864 13.392V6.51604C28.0864 6.34004 28.1504 6.18804 28.2784 6.06004C28.4144 5.93204 28.5744 5.86804 28.7584 5.86804H33.6664C33.8264 5.86804 33.9624 5.92804 34.0744 6.04804C34.1864 6.16804 34.2424 6.30804 34.2424 6.46804C34.2424 6.62804 34.1864 6.76804 34.0744 6.88804C33.9624 7.00004 33.8264 7.05604 33.6664 7.05604H29.4304V9.34804H33.0424C33.1944 9.34804 33.3264 9.40804 33.4384 9.52804C33.5504 9.64004 33.6064 9.77604 33.6064 9.93604C33.6064 10.104 33.5504 10.248 33.4384 10.368C33.3344 10.48 33.2024 10.536 33.0424 10.536H29.4304ZM44.0358 12.756C43.7958 13.212 43.4558 13.568 43.0158 13.824C42.5918 14.04 42.1198 14.148 41.5998 14.148C40.5998 14.148 39.8318 13.868 39.2958 13.308C38.7758 12.788 38.5158 12.044 38.5158 11.076V6.40804C38.5158 6.23204 38.5798 6.08004 38.7078 5.95204C38.8438 5.82404 39.0038 5.76004 39.1878 5.76004C39.3718 5.76004 39.5278 5.82404 39.6558 5.95204C39.7918 6.08004 39.8598 6.23204 39.8598 6.40804V11.064C39.8598 11.656 40.0078 12.108 40.3038 12.42C40.6078 12.748 41.0438 12.912 41.6118 12.912C42.1158 12.912 42.5118 12.768 42.7998 12.48C43.1758 12.104 43.3638 11.56 43.3638 10.848V6.40804C43.3638 6.23204 43.4278 6.08004 43.5558 5.95204C43.6918 5.82404 43.8518 5.76004 44.0358 5.76004C44.2198 5.76004 44.3758 5.82404 44.5038 5.95204C44.6398 6.08004 44.7078 6.23204 44.7078 6.40804V10.848C44.7078 11.568 44.8918 12.112 45.2598 12.48C45.5478 12.768 45.9438 12.912 46.4478 12.912C47.0078 12.912 47.4478 12.748 47.7678 12.42C48.0558 12.108 48.1998 11.656 48.1998 11.064V6.40804C48.1998 6.23204 48.2638 6.08004 48.3918 5.95204C48.5278 5.82404 48.6878 5.76004 48.8718 5.76004C49.0558 5.76004 49.2118 5.82404 49.3398 5.95204C49.4758 6.08004 49.5438 6.23204 49.5438 6.40804V11.076C49.5438 12.044 49.2838 12.788 48.7638 13.308C48.2278 13.868 47.4598 14.148 46.4598 14.148C45.9398 14.148 45.4678 14.04 45.0438 13.824C44.6038 13.568 44.2678 13.212 44.0358 12.756ZM51.2309 13.512V6.40804C51.2309 6.23204 51.2949 6.08004 51.4229 5.95204C51.5589 5.82404 51.7189 5.76004 51.9029 5.76004C52.0949 5.76004 52.2549 5.82404 52.3829 5.95204C52.5109 6.07204 52.5749 6.22404 52.5749 6.40804V13.512C52.5749 13.688 52.5069 13.84 52.3709 13.968C52.2429 14.096 52.0869 14.16 51.9029 14.16C51.7189 14.16 51.5589 14.096 51.4229 13.968C51.2949 13.84 51.2309 13.688 51.2309 13.512ZM59.8335 7.05604H57.6015V13.512C57.6015 13.688 57.5335 13.84 57.3975 13.968C57.2695 14.096 57.1135 14.16 56.9295 14.16C56.7455 14.16 56.5855 14.096 56.4495 13.968C56.3215 13.84 56.2575 13.688 56.2575 13.512V7.05604H54.0135C53.8535 7.05604 53.7175 7.00004 53.6055 6.88804C53.4935 6.76804 53.4375 6.62804 53.4375 6.46804C53.4375 6.30804 53.4935 6.16804 53.6055 6.04804C53.7255 5.92804 53.8615 5.86804 54.0135 5.86804H59.8335C59.9935 5.86804 60.1295 5.92804 60.2415 6.04804C60.3615 6.16804 60.4215 6.30804 60.4215 6.46804C60.4215 6.62804 60.3615 6.76804 60.2415 6.88804C60.1295 7.00004 59.9935 7.05604 59.8335 7.05604ZM61.2739 13.512V6.40804C61.2739 6.23204 61.3379 6.08004 61.4659 5.95204C61.6019 5.82404 61.7619 5.76004 61.9459 5.76004C62.1379 5.76004 62.2979 5.82404 62.4259 5.95204C62.5539 6.07204 62.6179 6.22404 62.6179 6.40804V9.33604H66.9259V6.40804C66.9259 6.23204 66.9899 6.08004 67.1179 5.95204C67.2539 5.82404 67.4139 5.76004 67.5979 5.76004C67.7899 5.76004 67.9499 5.82404 68.0779 5.95204C68.2059 6.07204 68.2699 6.22404 68.2699 6.40804V13.512C68.2699 13.688 68.2019 13.84 68.0659 13.968C67.9379 14.096 67.7819 14.16 67.5979 14.16C67.4139 14.16 67.2539 14.096 67.1179 13.968C66.9899 13.84 66.9259 13.688 66.9259 13.512V10.524H62.6179V13.512C62.6179 13.688 62.5499 13.84 62.4139 13.968C62.2859 14.096 62.1299 14.16 61.9459 14.16C61.7619 14.16 61.6019 14.096 61.4659 13.968C61.3379 13.84 61.2739 13.688 61.2739 13.512Z",fill:"currentColor"}),jt.createElement("path",{d:"M74.7354 17.1273C74.7354 16.8152 74.8386 16.5421 75.045 16.308C75.2515 16.0869 75.5095 15.9764 75.8191 15.9764C76.0514 15.9764 76.432 16.1194 76.9609 16.4055C77.4899 16.6916 78.006 16.8347 78.5091 16.8347C79.7477 16.8347 80.367 16.256 80.367 15.0986V13.9867C79.7864 14.3378 79.0768 14.5133 78.2382 14.5133C77.0512 14.5133 76.0707 14.1362 75.2966 13.3819C74.4322 12.5366 74 11.3662 74 9.87064C74 8.47912 74.4 7.3412 75.1999 6.45688C75.961 5.65058 76.9674 5.24743 78.2188 5.24743C78.9671 5.24743 79.7283 5.47502 80.5024 5.93019C80.7476 5.47502 81.1282 5.24743 81.6442 5.24743C82.0055 5.24743 82.3087 5.37098 82.5538 5.61807C82.7989 5.86516 82.9215 6.15777 82.9215 6.49589V14.6499C82.9215 16.1715 82.4893 17.3029 81.6249 18.0441C80.8766 18.6814 79.8509 19 78.5478 19C77.6576 19 76.8513 18.8634 76.1288 18.5903C75.1999 18.2522 74.7354 17.7645 74.7354 17.1273ZM78.5285 12.3871C79.1994 12.3871 79.8122 12.1985 80.367 11.8214V8.1345C79.7477 7.67933 79.1542 7.45175 78.5865 7.45175C77.9931 7.45175 77.5286 7.64032 77.1932 8.01745C76.7932 8.49863 76.5932 9.12936 76.5932 9.90965C76.5932 10.755 76.7868 11.3922 77.1738 11.8214C77.5221 12.1985 77.9737 12.3871 78.5285 12.3871Z",fill:"currentColor"}),jt.createElement("path",{d:"M85.059 13.3039V2.1653C85.059 1.81417 85.1816 1.52156 85.4267 1.28748C85.6848 1.04038 85.9879 0.916839 86.3363 0.916839C86.6975 0.916839 87.0007 1.04038 87.2458 1.28748C87.491 1.52156 87.6135 1.81417 87.6135 2.1653V13.3039C87.6135 13.642 87.4845 13.9346 87.2265 14.1817C86.9814 14.4288 86.6846 14.5524 86.3363 14.5524C85.9879 14.5524 85.6848 14.4288 85.4267 14.1817C85.1816 13.9346 85.059 13.642 85.059 13.3039Z",fill:"currentColor"}),jt.createElement("path",{d:"M89.7369 6.49589C89.7369 6.15777 89.8594 5.86516 90.1046 5.61807C90.3497 5.37098 90.6529 5.24743 91.0141 5.24743C91.3754 5.24743 91.6786 5.37098 91.9237 5.61807C92.1688 5.86516 92.2914 6.15777 92.2914 6.49589V13.3039C92.2914 13.642 92.1624 13.9346 91.9043 14.1817C91.6463 14.4288 91.3496 14.5524 91.0141 14.5524C90.6529 14.5524 90.3497 14.4288 90.1046 14.1817C89.8594 13.9346 89.7369 13.642 89.7369 13.3039V6.49589ZM92.0398 2.53594C91.756 2.82204 91.4141 2.96509 91.0141 2.96509C90.6142 2.96509 90.2658 2.82204 89.9691 2.53594C89.6853 2.24983 89.5433 1.8987 89.5433 1.48255C89.5433 1.06639 89.6853 0.715264 89.9691 0.429158C90.2658 0.143053 90.6142 0 91.0141 0C91.4141 0 91.756 0.143053 92.0398 0.429158C92.3366 0.715264 92.4849 1.06639 92.4849 1.48255C92.4849 1.8987 92.3366 2.24983 92.0398 2.53594Z",fill:"currentColor"}),jt.createElement("path",{d:"M99.3496 12.2115H99.9302V7.5883C99.5689 7.49726 99.1754 7.45175 98.7497 7.45175C97.9885 7.45175 97.395 7.73785 96.9692 8.31006C96.6596 8.73922 96.5048 9.27242 96.5048 9.90965C96.5048 10.6379 96.737 11.2036 97.2015 11.6068C97.7046 12.0099 98.4207 12.2115 99.3496 12.2115ZM101.033 14.3573H99.0787C97.466 14.3573 96.1952 13.9671 95.2662 13.1869C94.3502 12.4066 93.8922 11.3272 93.8922 9.94867C93.8922 8.70021 94.2147 7.65982 94.8598 6.82752C95.7242 5.76112 96.9692 5.22793 98.5949 5.22793C99.0593 5.22793 99.5044 5.28645 99.9302 5.40349V2.1653C99.9302 1.81417 100.053 1.51506 100.298 1.26797C100.543 1.02088 100.846 0.897331 101.207 0.897331C101.569 0.897331 101.872 1.02088 102.117 1.26797C102.362 1.51506 102.485 1.81417 102.485 2.1653V12.9723C102.485 13.4144 102.343 13.7591 102.059 14.0062C101.788 14.2402 101.446 14.3573 101.033 14.3573Z",fill:"currentColor"}),jt.createElement("path",{d:"M111.559 11.8994C111.83 11.8994 112.055 12.0034 112.236 12.2115C112.417 12.4066 112.507 12.6472 112.507 12.9333C112.507 13.4274 112.139 13.8241 111.404 14.1232C110.72 14.4093 109.881 14.5524 108.888 14.5524C107.391 14.5524 106.224 14.1167 105.385 13.2454C104.521 12.3481 104.089 11.1971 104.089 9.79261C104.089 8.46612 104.508 7.36721 105.346 6.49589C106.172 5.66359 107.262 5.24743 108.617 5.24743C109.946 5.24743 110.997 5.63758 111.771 6.41787C112.507 7.17214 112.875 8.10849 112.875 9.2269C112.875 9.68207 112.765 10.0397 112.546 10.2998C112.326 10.5469 112.017 10.6704 111.617 10.6704H106.779C107.011 11.8929 107.772 12.5041 109.062 12.5041C109.578 12.5041 110.081 12.4066 110.572 12.2115C111.075 12.0034 111.404 11.8994 111.559 11.8994ZM106.759 8.97331H110.397C110.359 8.49213 110.178 8.08898 109.856 7.76386C109.546 7.43874 109.14 7.27618 108.636 7.27618C107.578 7.27618 106.953 7.84189 106.759 8.97331Z",fill:"currentColor"}),jt.createElement("path",{d:"M117.536 11.8993C117.845 12.1985 118 12.5626 118 12.9918C118 13.4209 117.845 13.7915 117.536 14.1037C117.239 14.4028 116.878 14.5523 116.452 14.5523C116.026 14.5523 115.665 14.4028 115.368 14.1037C115.071 13.7915 114.923 13.4209 114.923 12.9918C114.923 12.5626 115.071 12.1985 115.368 11.8993C115.665 11.6002 116.026 11.4507 116.452 11.4507C116.878 11.4507 117.239 11.6002 117.536 11.8993Z",fill:"currentColor"}))},Aj=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={},e.onFlyoutMenuClick=function(e){e.stopPropagation()},e.onSignInClick=function(){var t=Object(x.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.onClose(),t.next=3,e.props.modals.openAuthModal(Object(O.e)("signIn"),Ds.Username,!0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onShare=Object(x.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.onClose(),Li(e.props.renderEnvironment);case 2:case"end":return t.stop()}}),t)}))),e.onLogOut=Object(x.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.appEnvironment.signOut();case 1:case"end":return t.stop()}}),t)}))),e.shouldExpandLeftPanel=function(e,t){return e&&t>1116},e}return Object(a.a)(n,[{key:"expandState",value:function(){return{}}},{key:"recompute",value:function(e){var t=this,n=this.props,r=n.isOpen,i=n.onClose,a=n.items,o=n.onSelected,c=n.credentials,u=n.appEnvironment,l=n.userProfile,s=n.renderEnvironment,f=u.isBuilder,v=u.eminenceFlags,h=u.enableShareScreen,b=u.shareScreenTitle,m=document.getElementById(pa.d);if(null===m)return null;var g,y=Object(O.e)("signIn"),j="";if(f||c.isAuthenticated)if(void 0!==l){var k=l.getObjectInspector(e);if(Object(p.K)(k)){var x=u.authenticator.realEmail,C=Object(p.M)(Object(d.definedMap)(k.getProperty("name"),e),p.F),w=Object(p.M)(Object(d.definedMap)(k.getProperty("image"),e),p.F);void 0!==Object(A.vb)(x)&&(j=Object(A.n)(x),y=void 0!==Object(A.vb)(C)?Object(A.n)(C):""),void 0!==Object(A.vb)(w)&&(g=Object(A.n)(w))}}else c.isAuthenticated&&(y=c.username,j=c.email);var S=jt.createElement(Mj,{src:g,alternate:jt.createElement(_j,null)}),E=jt.createElement(wj,{className:r?"open":"closed",onClick:i},jt.createElement(Yy.a,{onSwipeLeft:i,tolerance:100},jt.createElement(xt.a,{handleWidth:!0,resizableElementId:"root"},(function(e,n){var r=t.shouldExpandLeftPanel("tablet"===s.sizeClass,e),i=""!==b?b:Object(O.e)("about");return jt.createElement(Cj,{onClick:t.onFlyoutMenuClick,expandLeftPanel:r},jt.createElement(Ej,{onClick:f||c.isAuthenticated?function(){Object(gt.a)("userProfiles")&&(t.props.onClose(),u.pushUserProfileScreen())}:t.onSignInClick},S,jt.createElement(Rj,null,y),""!==j&&jt.createElement(Dj,null,j)),jt.createElement(Sj,null,jt.createElement(Tj,null,a.map((function(e){return jt.createElement(Pj,{key:e.title,onClick:function(){return o(e)}},jt.createElement(Nn.a,{icon:e.icon,size:24}),jt.createElement("div",null,e.title))})),h&&jt.createElement(Pj,{key:"SharePage",onClick:t.onShare},jt.createElement(Nn.a,{icon:"share",size:24}),jt.createElement("div",null,i)),c.isAuthenticated&&jt.createElement(Pj,{key:"LogOut",onClick:t.onLogOut},jt.createElement(Nn.a,{icon:"log-out",size:24}),jt.createElement("div",null,Object(O.e)("signOut")))),!v.removeBranding&&jt.createElement(Ij,{href:Object(A.C)("flyout"),target:"_blank",rel:"noopener noreferrer"},jt.createElement(Nj,null))))}))));return Object(ju.createPortal)(E,m)}}]),n}(Pt.tb),Fj=zs(Object(_s.a)(Aj));function Lj(){var e=Object(Kt.a)(["\n    position: ",";\n    width: 100%;\n    height: 100%;\n\n    display: flex;\n    flex-direction: ",";\n    justify-content: center;\n    align-items: center;\n    text-align: ",";\n\n    padding-top: ","px;\n"]);return Lj=function(){return e},e}function Bj(){var e=Object(Kt.a)(['\n                  ::after {\n                      content: "";\n                      position: absolute;\n                      width: 100%;\n                      height: 100%;\n                      border: 1px solid #2b5fe0 !important;\n                      border-radius: 0;\n                  }\n              ']);return Bj=function(){return e},e}function Vj(){var e=Object(Kt.a)(['\n                      ::after {\n                          content: "";\n                          position: absolute;\n                          width: 100%;\n                          height: 100%;\n                          border: 2px solid #2b5fe088;\n                          border-radius: 0;\n                      }\n                  ']);return Vj=function(){return e},e}function Uj(){var e=Object(Kt.a)(["\n    position: relative;\n\n    transition: height 250ms ease-in-out;\n    height: ","px;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: ",';\n    align-items: center;\n\n    /* A little insane but a flex basis of 0 for Nexus 7 in browser results in a zero width.\n    "auto" will allow the tab to show */\n    flex-basis: ',";\n    flex-grow: ",";\n    flex-shrink: 0;\n\n    border: 1px solid transparent;\n    padding: 0px ","px;\n    margin: 0;\n\n    text-align: center;\n    ","\n    color: ",";\n    border-radius: 10px;\n    &:hover {\n        cursor: pointer;\n\n        ",";\n    }\n\n    "," {\n        display: ",";\n        margin-top: ","px;\n    }\n\n    ","\n\n    ",";\n"]);return Uj=function(){return e},e}function zj(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    z-index: 10;\n    .builder & {\n        position: absolute;\n    }\n    .player & {\n        position: fixed;\n    }\n\n    height: calc(","px + var(--safe-area-inset-bottom));\n\n    bottom: 0;\n    right: 0;\n    left: 0;\n    background-color: ",";\n    box-shadow: 0 -1px 0px 0px rgba(0, 0, 0, 0.2);\n\n    ","\n\n    & .tbs-inner {\n        display: flex;\n        width: 100%;\n        max-width: 1366px;\n        padding-left: ","px;\n        padding-right: ","px;\n        justify-content: ",";\n    }\n\n    &.hidden {\n        opacity: 0;\n\n        height: var(--safe-area-inset-bottom);\n    }\n\n    transition: transform 0.2s, height 0.2s, opacity 0.2s;\n"]);return zj=function(){return e},e}function Wj(){var e=Object(Kt.a)(["\n    margin-top: -1px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    width: 100%;\n\n    margin-left: ","px;\n\n    ","\n    color: inherit;\n"]);return Wj=function(){return e},e}var Hj=qt.i.div(Wj(),(function(e){return e.isTablet?6:0}),(function(e){return e.isTablet?e.theme.tabBar.tab.tablet.fontStyle:e.theme.tabBar.tab.phone.fontStyle})),Kj=qt.i.div(zj(),(function(e){return e.theme.tabBar.height}),(function(e){return e.theme.primaryOverlayColor}),(function(e){return Object(qt.d)({backgroundColor:e.theme.transparentOverlayColor})}),(function(e){return e.isTablet?65:0}),(function(e){return e.isTablet?65:0}),(function(e){return e.isTablet?"space-between":"flex-start"})),qj=qt.i.button(Uj(),(function(e){return e.theme.tabBar.height}),(function(e){return e.isTablet?"center":"flex-end"}),(function(e){return e.isTablet?"auto":1}),(function(e){return e.isTablet?0:1}),(function(e){return e.isTablet?24:0}),(function(e){return e.theme.fontStyles.Header7}),(function(e){return e.selected?e.theme.primaryAccentColor:e.theme.tabBar.unselectedColor}),(function(e){return e.highlightedSelectMode?Object(Ut.css)(Vj()):""}),Hj,(function(e){return e.theme.showTabLabels?"block":"none"}),(function(e){return e.isTablet?0:4}),(function(e){return"Android"===e.theme.navBar.style&&qt.h}),(function(e){return e.highlightedSelectMode&&e.selected&&e.focused?Object(Ut.css)(Bj()):""})),Gj=qt.i.div(Lj(),(function(e){return e.isTablet?"static":"absolute"}),(function(e){return e.isTablet?"row":"column"}),(function(e){return e.isTablet?"left":"center"}),(function(e){return e.isTablet?0:4}));var Jj=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={},e.handleTabSelect=function(t){e.props.onTabSelect(t,e.props.history,e.props.selectMode)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.selected,r=t.tabs,i=t.sizeClass,a=t.hidden,o=t.selectMode,c="tablet"===i;return jt.createElement(Kj,{id:"tabBar",isTablet:c,className:a?"hidden":"visible"},jt.createElement("div",{className:"tbs-inner"},r.map((function(t,r){return jt.createElement(Zj,{selected:n===r,key:r,title:t.title,icon:t.icon,hidden:!t.isVisible,inFlyout:t.inFlyout,onClick:function(){return e.handleTabSelect(r)},isTablet:c,selectMode:o,page:e.props.match.params.page})}))))}}]),n}(jt.PureComponent);function Zj(e){var t=e.title,n=e.icon,r=e.onClick,i=e.selected,a=e.hidden,o=e.inFlyout,c=e.isTablet,u=e.selectMode,l=e.page;return a||!0===o?jt.createElement(jt.Fragment,null):jt.createElement(qj,{focused:"tabs"===l,"aria-label":t,selected:i,onClick:r,isTablet:c,highlightedSelectMode:"edit"===u},jt.createElement(Gj,{isTablet:c},jt.createElement(Nn.a,{icon:n}),jt.createElement(Hj,{isTablet:c},t)))}var Xj=Object(Pa.h)(Object(Ff.c)(Jj)),Yj={overlayName:"SmallTitlesOverlay",navBar:{largeTitleHeight:0}};var Qj=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props.theme;return this.props.useLargeTitles||(e=Object(za.b)(e,[Yj])),jt.createElement(Ut.ThemeProvider,{theme:e},jt.createElement(jt.Fragment,null,this.props.children))}}]),n}(jt.PureComponent),$j=Object(Ut.withTheme)(Qj),ek=n(53);function tk(){var e=Object(Kt.a)(["\n    height: 60px;\n    padding: 12px 20px;\n\n    ","\n    display: flex;\n    align-items: center;\n    text-align: center;\n\n    background-color: ",";\n    color: ",";\n"]);return tk=function(){return e},e}function nk(){var e=Object(Kt.a)(["\n            border-radius: 12px 12px 0px 0px;\n        "]);return nk=function(){return e},e}function rk(){var e=Object(Kt.a)(["\n    position: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: stretch;\n    align-items: stretch;\n\n    ",";\n\n    pointer-events: none;\n\n    overflow: hidden;\n\n    left: 0;\n    right: 0;\n\n    z-index: 20;\n\n    padding-top: var(--safe-area-inset-top);\n    padding-left: var(--safe-area-inset-left);\n    padding-right: var(--safe-area-inset-right);\n    height: calc(\n        var(--safe-area-inset-top) + ","px\n    );\n\n    top: 0;\n\n    transition: height 0.1s;\n"]);return rk=function(){return e},e}function ik(){var e=Object(Kt.a)(["\n    position: absolute;\n\n    pointer-events: auto;\n\n    left: var(--safe-area-inset-left);\n    top: 0;\n    right: var(--safe-area-inset-right);\n    top: var(--safe-area-inset-top);\n"]);return ik=function(){return e},e}var ak=qt.i.div(ik()),ok=qt.i.div(rk(),(function(e){return e.tabletOrBuilder?"absolute":"fixed"}),(function(e){return e.inTabletModal&&Object(qt.f)(nk())}),(function(e){return function(e,t,n,r){var i=n.navBar.height+n.navBar.largeTitleHeight;return e&&(i+=n.searchBar.heightWithPadding),t&&(i+=n.pivot.height+n.pivot.bottomMargin),r&&(i+=n.quotaBar.height),i}(e.hasSearchBar,e.hasPivot,e.theme,e.hasQuotaBar)})),ck=qt.i.div(tk(),(function(e){return e.theme.fontStyles.Header4}),(function(e){return e.theme.quotaBar.bgColor}),(function(e){return e.theme.fgColorDark}));function uk(e,t,n,r){var i=t.isEnabled,a=t.isVisible,o=t.href,c=t.style,u=t.purpose,l=e(t.title),s=e(t.icon),d=e(t.onTap);if(Object(p.K)(l)&&Object(p.K)(s)){if(void 0!==a)if(!0!==Object(p.M)(e(a),p.x))return;var f,v=!0;if(void 0!==i){var h=Object(p.M)(e(i),p.x);if(void 0===h)return;v=h}if(void 0!==o){var b=Object(p.M)(e(o),p.F);if(void 0===b)return;f=Object(A.sb)(b)}var m,g="default";if(void 0!==c){var O=Object(p.M)(e(c),p.F);if(void 0===O)return;g=O}if(void 0!==u){var y=Object(p.M)(e(u),p.F);if(void 0===y)return;m=y}return{title:Object(p.F)(l),icon:Object(p.F)(s),onClick:function(){return Object(B.o)(d).run(n,r,B.d.Clickable)},isEnabled:v,href:f,style:g,purpose:m}}}function lk(){var e=Object(Kt.a)(["\n    display: flex;\n\n    width: 100%;\n    height: ","px;\n\n    overflow: hidden;\n"]);return lk=function(){return e},e}function sk(){var e=Object(Kt.a)(["\n    display: flex;\n    flex-direction: column;\n\n    align-items: stretch;\n\n    transform: translateY(","px);\n\n    pointer-events: auto;\n"]);return sk=function(){return e},e}function dk(){var e=Object(Kt.a)(["\n    overflow: hidden;\n    margin-top: ","px;\n\n    & "," {\n        width: 100%;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n        display: block;\n    }\n"]);return dk=function(){return e},e}function fk(){var e=Object(Kt.a)(["\n    ","\n\n    line-height: 41px;\n\n    display: flex;\n    align-items: center;\n\n    padding-left: ","px;\n\n    color: ",";\n"]);return fk=function(){return e},e}var pk=qt.i.div(fk(),(function(e){return e.theme.fontStyles.AccentHeader1}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.navBar.titleColor})),vk=qt.i.div(dk(),(function(e){return e.theme.navBar.height}),pk),hk=qt.i.div(sk(),(function(e){return e.translateAmount})),bk=qt.i.div(lk(),(function(e){return e.theme.navBar.largeTitleHeight}));var mk=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={scrollPosition:0},e}return Object(a.a)(n,[{key:"onScrollChanged",value:function(e){var t=this.props.screen,n=e.id;if(Fa(t.screenId)===n){var r=-Math.min(e.position,this.props.theme.navBar.largeTitleHeight);r!==this.state.scrollPosition&&this.setState({scrollPosition:r})}}},{key:"render",value:function(){return jt.createElement(vk,null,jt.createElement(hk,{translateAmount:this.state.scrollPosition},jt.createElement(bk,null,this.props.collapser),this.props.children))}}]),n}(La),gk=Object(Ut.withTheme)(mk);function Ok(){var e=Object(Kt.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    pointer-events: auto;\n\n    transform: translateY(","px);\n\n    background-color: ",";\n\n    ",";\n"]);return Ok=function(){return e},e}var yk=qt.i.div(Ok(),(function(e){return e.translateAmount}),(function(e){return e.theme.navBar.bgColor}),(function(e){return Object(qt.d)({backgroundColor:e.theme.navBar.transparentBgColor,fadeTo:e.theme.navBar.fadeTo})}));var jk=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={scrollPosition:0},e}return Object(a.a)(n,[{key:"onScrollChanged",value:function(e){var t=this.props.screen,n=e.id;if(Fa(t.screenId)===n){var r=-Math.min(e.position,this.props.theme.navBar.largeTitleHeight);r!==this.state.scrollPosition&&this.setState({scrollPosition:r})}}},{key:"render",value:function(){return jt.createElement(yk,{translateAmount:this.state.scrollPosition})}}]),n}(La),kk=Object(Ut.withTheme)(jk);var xk=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).token=void 0,r.onScrollChanged=function(e,t){var n=r.props.screen,i=t.id,a=t.position;if(Fa(n.screenId)===i){var o=r.props.theme.navBar.largeTitleHeight;o>0&&a>=o?r.state.isScrolledPastThreshold||r.setState({isScrolledPastThreshold:!0}):r.state.isScrolledPastThreshold&&r.setState({isScrolledPastThreshold:!1})}},r.onShareClicked=Object(x.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Li(r.props.renderEnv);case 2:case"end":return e.stop()}}),e)}))),r.token=PubSub.subscribe(pa.f,r.onScrollChanged),r}return Object(a.a)(n,[{key:"componentWillUnmount",value:function(){PubSub.unsubscribe(this.token),Object(He.a)(Object(l.a)(n.prototype),"componentWillUnmount",this).call(this)}},{key:"expandState",value:function(e,t){return null!==t?t:{isScrolledPastThreshold:!1}}},{key:"getQuotaMessage",value:function(e){return e===B.k.List?Object(O.e)("listIsFull"):Object(O.e)("mapIsFull")}},{key:"recompute",value:function(e){var t,n=this.props,r=n.renderEnv,i=n.screen,a=n.theme,o=n.overrideContext,c=r.appEnvironment,u=i.ctx,l=i.topBar,s=i.pivotPicker;void 0!==o?t=o.onBack:n.isSubScreen&&(t=function(){return c.popScreen(r)});var f=Object(d.definedMap)(i.title,e);void 0!==o?f=o.title:f===B.i?f=Object(O.e)("loading"):void 0===f&&(f="");var v=[];if(void 0!==o)v=o.barButtonItems;else if(void 0!==i.menuItems){var h=!0,b=!1,m=void 0;try{for(var g,y=i.menuItems[Symbol.iterator]();!(h=(g=y.next()).done);h=!0){var j=g.value,k=uk(e,j,u,r);void 0!==k&&v.push(k)}}catch(I){b=!0,m=I}finally{try{h||null==y.return||y.return()}finally{if(b)throw m}}}n.isOnFirstTab&&this.props.showShareButton&&v.push({title:Object(O.e)("share"),icon:"00-01-glide-info",style:"share",onClick:this.onShareClicked}),void 0!==n.onMenuClicked&&v.push({title:"menu",icon:"00-01-glide-menu",style:"menu",onClick:n.onMenuClicked});var x="Inline"===a.searchBar.style,C=Object(Pt.Kb)(l,e,u,r,!0),w=Object(Pt.Kb)(s,e,u,r,!1),S=this.state.isScrolledPastThreshold;0===this.props.theme.navBar.largeTitleHeight&&(S=!0);var E=Object(p.F)(f),M=e(i.quotaBannerMessage),R=!1;Object(p.K)(M)&&(R=M);var D="tablet"===r.sizeClass,T=D&&"modal"===r.displayContext,P=D||c.isBuilder;return jt.createElement(ok,{"data-test":"glide-app-bar",tabletOrBuilder:P,hasSearchBar:x&&void 0!==C,hasPivot:void 0!==s,hasQuotaBar:!1!==R,inTabletModal:T},jt.createElement(kk,{screen:i}),jt.createElement(gk,{screen:i,collapser:jt.createElement(pk,null,E)},x&&C,w,c.eminenceFlags.showQuotaBanners&&!1!==R&&jt.createElement(ck,null,this.getQuotaMessage(R))),jt.createElement(ak,null,jt.createElement(Ms,{showTitle:S,ctx:u,renderEnvironment:r,barButtonItems:v,onBack:t,title:E,searchBar:x?void 0:Object(d.definedMap)(l,(function(t){return Object(p.M)(e(t),(function(e){return Object(B.q)(e)}))}))})))}}]),n}(Pt.tb),Ck=zs(Object(Ut.withTheme)(xk)),wk=n(109),Sk=n.n(wk);function Ek(){var e=Object(Kt.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-color: black;\n\n    overflow: hidden;\n"]);return Ek=function(){return e},e}var Mk=qt.i.div(Ek()),Rk=function(){function e(){Object(i.a)(this,e),this.track=new Array(10),this.startIndex=0}return Object(a.a)(e,[{key:"addPosition",value:function(e){var t=Date.now();this.track[this.startIndex]={position:e,time:t},this.startIndex=(this.startIndex+1)%10}},{key:"getVelocity",value:function(){var e=Date.now(),t=this.track.filter((function(t){return e-t.time<150})).sort((function(e,t){return e.time-t.time}));if(t.length<2)return 0;var n=t[0],r=t[t.length-1];return(r.position-n.position)*(1e3/(r.time-n.time))}}]),e}();function Dk(){var e=Object(Kt.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n\n    will-change: transform, opacity;\n\n    &.screenPushIn {\n        @keyframes pushIn {\n            0% {\n                transform: translateX(100%);\n            }\n            100% {\n                transform: translateX(0);\n            }\n        }\n        animation: 0.25s ease-out 0s 1 pushIn;\n    }\n    &.screenPushOut {\n        @keyframes pushOut {\n            0% {\n                transform: translateX(0);\n                opacity: 1;\n            }\n            100% {\n                transform: translateX(-25%);\n                opacity: 0.8;\n            }\n        }\n        animation: 0.25s ease-out 0s 1 pushOut;\n    }\n    &.screenPopIn {\n        @keyframes popIn {\n            0% {\n                transform: translateX(-25%);\n                opacity: 0.8;\n            }\n            100% {\n                transform: translateX(0);\n                opacity: 1;\n            }\n        }\n        animation: 0.25s ease-out 0s 1 popIn;\n    }\n    &.screenPopOut {\n        @keyframes popOut {\n            0% {\n                transform: translateX(0);\n            }\n            100% {\n                transform: translateX(100%);\n            }\n        }\n        animation: 0.25s ease-out 0s 1 popOut;\n    }\n\n    &.screenPushModalIn {\n        @keyframes pushInModal {\n            0% {\n                transform: translateY(100%);\n            }\n            100% {\n                transform: translateY(0);\n            }\n        }\n        animation: 0.25s ease-out 0s 1 pushInModal;\n    }\n    &.screenPushModalOut {\n        @keyframes pushOutModal {\n            0% {\n                opacity: 1;\n            }\n            100% {\n                opacity: 0.999;\n            }\n        }\n        animation: 0.25s ease-out 0s 1 pushOutModal;\n    }\n    &.screenPopModalIn {\n        @keyframes popInModal {\n            0% {\n                opacity: 0.999;\n            }\n            100% {\n                opacity: 1;\n            }\n        }\n        animation: 0.25s ease-out 0s 1 popInModal;\n    }\n    &.screenPopModalOut {\n        @keyframes popOutModal {\n            0% {\n                transform: translateY(0);\n            }\n            100% {\n                transform: translateY(100%);\n            }\n        }\n        animation: 0.25s ease-out 0s 1 popOutModal;\n    }\n\n    &.dragFinish {\n        transition: transform 0.15s, opacity 0.15s;\n    }\n"]);return Dk=function(){return e},e}var Tk=qt.i.div(Dk()),Pk=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={hide:!1},e.onAnimationEnd=function(t){e.props.present||t.currentTarget!==t.target||(e.setState({hide:!0}),void 0!==e.props.onHidden&&e.props.onHidden())},e}return Object(a.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.present,i=t.animation,a=t.dragOffset,o=t.dragOpacity,c=t.dragFinishing,u=t.noScroll,l=t.forceRender;if(this.state.hide&&!l)return null;void 0===a&&void 0===o||(e={},void 0!==o&&(e.opacity=o),void 0!==a&&(e.transform="translate(".concat(a,"%)")));var s=u?"noScroll":"";return c?s="dragFinish":"push"===i?s=r?"screenPushIn":"screenPushOut":"pop"===i?s=r?"screenPopIn":"screenPopOut":"push-modal"===i?s=r?"screenPushModalIn":"screenPushModalOut":"pop-modal"===i&&(s=r?"screenPopModalIn":"screenPopModalOut"),jt.createElement(Tk,{style:e,onAnimationEnd:this.onAnimationEnd,onTransitionEnd:this.onAnimationEnd,className:s},n)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.hide&&e.present?Object(s.a)(Object(s.a)({},t),{},{hide:!1}):t}}]),n}(jt.PureComponent);var Ik=new Sk.a(window.navigator.userAgent).is("AndroidOS"),_k=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={currentNavigationModel:void 0,previousNavigationModel:void 0,animating:!1,dragging:!1,dragFinishing:!1,dragStart:0,dragPosition:0,popWhenDone:!1,popHandled:!1,hasPopState:!1},e.screenWrapperRef=jt.createRef(),e.velocityTracker=new Rk,e.onPopState=function(){e.setState({hasPopState:!1});var t=e.state.currentNavigationModel;void 0!==t&&t.canCurrentScreenPop&&e.props.renderEnvironment.appEnvironment.popScreen(e.props.renderEnvironment)},e.handleAnimationEnd=function(){var t=e.state.popWhenDone;e.setState({animating:!1,dragFinishing:!1,popWhenDone:!1,popHandled:t}),t&&e.props.renderEnvironment.appEnvironment.popScreen(e.props.renderEnvironment)},e.onTouchStart=function(t){var n=e.state.currentNavigationModel;if(void 0!==n){var r=n.canCurrentScreenPop,i=t.touches[0].clientX;i<50&&r&&null!==e.screenWrapperRef.current&&e.setState({previousNavigationModel:n.popScreen(),dragging:!0,dragStart:i,dragPosition:0})}},e.onTouchMove=function(t){if(null!==e.screenWrapperRef.current){var n=t.touches[0].clientX,r=e.screenWrapperRef.current.clientWidth,i=n-e.state.dragStart,a=Math.max(.01,Math.min(.99,i/r));e.velocityTracker.addPosition(a),e.setState({dragPosition:a})}},e.onTouchCancel=function(t){e.setState({dragging:!1})},e.onTouchEnd=function(t){e.setState({dragging:!1,dragFinishing:e.state.dragPosition>0&&e.state.dragPosition<1});var n=e.velocityTracker.getVelocity();(e.state.dragPosition>.4||n>2)&&e.setState({popWhenDone:!0})},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){Ik&&window.addEventListener("popstate",this.onPopState)}},{key:"computeDragDistance",value:function(){var e,t,n,r=this.state,i=r.dragging,a=r.dragFinishing;return(i||a)&&(e=this.state.dragPosition,n=.8+.2*this.state.dragPosition,e*=100,a&&this.state.popWhenDone?(e=100,n=1):a&&!this.state.popWhenDone&&(e=0,n=.8),t=e/4-25),[e,t,n]}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.currentTab,a=n.renderEnvironment,o=n.hasTabBar,c=this.state,u=c.currentNavigationModel,l=c.previousNavigationModel,s=c.animating,d=c.dragging,f=c.dragFinishing;if(void 0===u)return null;var p,v,h=void 0!==l&&s?u.getAnimation(l):"none",b=s||d||f||u.currentScreenHasFlag(L.e.IsFinalTransient);if(void 0!==l&&b){var m=u.hasScreen(l.currentScreen);p=m?u:l,v=m?l:u}else p=u;var g,O=this.computeDragDistance(),y=Object(r.a)(O,3),j=y[0],k=y[1],x=y[2],C=function(e,t){var n=document.getElementById(pa.e);return null===n?null:Object(ju.createPortal)(jt.createElement(jt.Fragment,null,e,t),n)},w=function(e,n,r){var c=e.currentScreen,l=c.screenId+e.currentScreenDepth,s=e.isInModal(),p=(null===u||void 0===u?void 0:u.currentScreen)===c;return jt.createElement(Pk,{key:l,dragOffset:n,dragOpacity:r,dragFinishing:f,animation:h,onHidden:t.handleAnimationEnd,noScroll:d,forceRender:!p&&b,present:p},jt.createElement(qa,{key:l+"screen",screen:c,inTab:o&&!s,isSubScreen:e.canCurrentScreenPop,renderEnvironment:a,currentTab:i}))},S=w(p,j,void 0);void 0!==v&&(g=w(v,k,x));var E,M,R=p.isInModal(),D=null===(e=v)||void 0===e?void 0:e.isInModal();R&&!0===D?M=C(g,S):R?(M=C(S),E=void 0===g?void 0:jt.createElement(jt.Fragment,null,g)):!0===D&&void 0!==g?(M=C(g),E=void 0===S?void 0:jt.createElement(jt.Fragment,null,S)):E=jt.createElement(jt.Fragment,null,g,S);var T={onTouchStart:this.onTouchStart};return d&&(T.onTouchMove=this.onTouchMove,T.onTouchEnd=this.onTouchEnd,T.onTouchCancel=this.onTouchCancel),jt.createElement(Mk,Object.assign({ref:this.screenWrapperRef},T),E,M)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r;void 0!==e.currentNavigationModel&&e.currentNavigationModel.currentScreen.screenId!==(null===(n=t.currentNavigationModel)||void 0===n||null===(r=n.currentScreen)||void 0===r?void 0:r.screenId)?(t.previousNavigationModel=t.currentNavigationModel,t.currentNavigationModel=e.currentNavigationModel,void 0===t.previousNavigationModel||t.popHandled||(t.animating="none"!==t.currentNavigationModel.getAnimation(t.previousNavigationModel)),t.popHandled=!1,t.currentNavigationModel.canCurrentScreenPop&&!t.hasPopState&&Ik&&(t.hasPopState=!0,window.history.pushState({},""))):void 0!==e.currentNavigationModel&&(t.currentNavigationModel=e.currentNavigationModel);return t}}]),n}(jt.PureComponent);function Nk(){var e=Object(Kt.a)(["\n    & .selected-item-list-item-"," {\n        background-color: ",";\n    }\n"]);return Nk=function(){return e},e}var Ak=qt.i.div(Nk(),(function(e){return e.itemID}),(function(e){return e.theme.listItem.selectedColor})),Fk=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={currentNavigationModel:void 0,previousNavigationModel:void 0},e.onMenuClicked=function(){void 0!==e.props.onMenuClicked&&e.props.onMenuClicked()},e}return Object(a.a)(n,[{key:"getRootModel",value:function(e){for(;e.isInModal();)e=e.popModalScreen();return e}},{key:"canDoublePop",value:function(e){return e.canCurrentScreenPop&&e.popScreen().canCurrentScreenPop}},{key:"getItemIDForModel",value:function(e){if(void 0!==e){for(var t=e.canCurrentScreenPop?e.currentScreen.itemID:void 0;this.canDoublePop(e);)t=(e=e.popScreen()).currentScreen.itemID;return t}}},{key:"render",value:function(){var e=this.props.expandLeftPanel,t=this.state.previousNavigationModel,n=this.props,r=n.currentTab,i=n.renderEnvironment,a=n.hasFlyout,o=n.hasTabBar,c=i.appEnvironment,u=this.state.currentNavigationModel;if(void 0===u)return null;var l,s,d,f,p,v=u.isInModal(),h=v?u:void 0,b=(null===t||void 0===t?void 0:t.isInModal())?t:void 0,m=this.getRootModel(u),g=m.popToRoot(),O=m.canCurrentScreenPop,y=g.currentScreenHasFlag(L.e.IsArrayScreen),j=y?g:void 0,k=O||!y?m:void 0,x=void 0!==j&&void 0===k;if(void 0!==j){var C=j.currentScreen,w=this.getItemIDForModel(k);l=jt.createElement(jt.Fragment,null,jt.createElement(dj,{expandLeftPanel:e},jt.createElement(Ck,{isSubScreen:!1,renderEnv:i.with({sizeClass:"tablet",displayContext:"master"}),isOnFirstTab:m.currentTabIndex===Object(L.o)(this.props.tabs),appTitle:this.props.serializedApp.title,showShareButton:!c.enableShareScreen,screen:C,overrideContext:this.props.appBarContext,onMenuClicked:a?this.onMenuClicked:void 0})),jt.createElement(Ak,{itemID:null!==w&&void 0!==w?w:"none",className:"left-panel"},jt.createElement(qa,{key:C.screenId+"screen",screen:C,inTab:o,isSubScreen:!1,renderEnvironment:i.with({sizeClass:"tablet",displayContext:"master",needsPush:x}),currentTab:r})))}if(void 0!==k){var S=k.currentScreen,E=void 0!==j,M=E?"right-panel":"center-panel",R=E?fj:pj,D=E&&this.canDoublePop(k)||!E&&k.canCurrentScreenPop;s=jt.createElement(jt.Fragment,null,jt.createElement(R,{expandLeftPanel:e},jt.createElement(Ck,{isSubScreen:D,renderEnv:i.with({sizeClass:"tablet",displayContext:"detail"}),isOnFirstTab:k.currentTabIndex===Object(L.o)(this.props.tabs),appTitle:this.props.serializedApp.title,showShareButton:!1,screen:S,overrideContext:this.props.appBarContext,onMenuClicked:E?void 0:this.props.onMenuClicked})),jt.createElement("div",{className:M,key:M},jt.createElement("div",{className:"content-wrapper"},jt.createElement(qa,{key:S.screenId+"screen",screen:S,inTab:o&&!v,isSubScreen:!0,renderEnvironment:i.with({sizeClass:"tablet",displayContext:"detail"}),currentTab:r}))))}if(void 0!==h||void 0!==b){var T=Object(A.n)(null!==h&&void 0!==h?h:b),P=void 0===h,I=T.currentScreen;I.flags.has(L.e.IsSignaturePad)&&(f=600,p=364),d=jt.createElement("div",{className:"tablet-modal "+(P?"leave":"enter")},jt.createElement("div",{className:"tablet-modal-content"},jt.createElement("div",{className:"tablet-modal-scr"},jt.createElement(qa,{key:I.screenId+"screen",screen:I,inTab:!1,isSubScreen:!1,renderEnvironment:i.with({sizeClass:"tablet",displayContext:"modal"}),currentTab:r})),jt.createElement("div",{className:"tablet-modal-bar"},jt.createElement(Ck,{isSubScreen:T.canCurrentScreenPop,renderEnv:i.with({sizeClass:"tablet",displayContext:"modal"}),isOnFirstTab:!1,appTitle:this.props.serializedApp.title,showShareButton:!1,screen:I,overrideContext:this.props.appBarContext,onMenuClicked:void 0}))))}return jt.createElement(sj,{id:"tablet",expandLeftPanel:e,modalWidth:f,modalHeight:p},l,jt.createElement($j,{useLargeTitles:!1},s,d))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.currentNavigationModel&&e.currentNavigationModel!==t.currentNavigationModel&&(t.previousNavigationModel=t.currentNavigationModel,t.currentNavigationModel=e.currentNavigationModel),t}}]),n}(jt.PureComponent),Lk=n(23);Object(y.j)(F.g),Object(F.g)(dt),Object(F.g)(ft),Object(F.g)(vt),Object(F.g)(ht),Object(F.g)(bt),Object(m.d)(),Object(g.f)(),Object(F.f)(Q),Object(F.f)($),Object(F.f)(ee),Object(F.f)(te),Object(F.f)(ne),Object(F.f)(ie),Object(F.f)(re),Object(F.f)(ae),Object(F.f)(oe),Object(F.f)(ce),Object(F.f)(ue),Object(F.f)(se),Object(F.f)(de),Object(F.f)(fe),Object(F.f)(pe),Object(F.f)(ve),Object(F.f)(he),Object(F.f)(be),Object(F.f)(me),Object(F.f)(ge),Object(F.f)(Oe),Object(F.f)(ye),Object(F.f)(je),Object(F.f)(ke),Object(F.f)(xe),Object(F.f)(Ce),Object(F.f)(we),Object(F.f)(Pe),Object(F.f)(Se),Object(F.f)(Ee),Object(F.f)(Me),Object(F.f)(Re),Object(F.f)(Te),Object(F.f)(Ie),Object(F.f)(_e),Object(F.f)(Ne),Object(F.f)(Ae),Object(F.f)(Fe),Object(F.f)(Le),Object(F.f)(Be),Object(F.f)(Ve),Object(F.f)(Ue),Object(F.f)(ze),Object(F.f)(q),Object(F.g)(Je),Object(F.g)(tt),Object(m.c)("UserAPIFetch",new y.a(Ge)),Object(We.m)(),Object(F.h)(Pt.R,new Mh),Object(F.h)(Pt.l,new pf),Object(F.h)(Pt.o,new If),Object(F.h)(Pt.N,new sh),Object(F.h)(Pt.K,new Sv),Object(F.h)(Pt.u,new Vf),Object(F.h)(Pt.q,new _f),Object(F.h)(Pt.I,new pn.a),Object(F.h)(Pt.O,new Ch),Object(F.h)(Pt.xb,new Yg),Object(F.h)(new po),Object(F.h)(Pt.ab,new Ub),Object(F.h)(Pt.J,new $b),Object(F.h)(Pt.mb,new zi),Object(F.h)(Pt.kb,new ng),Object(F.h)(Pt.vb,new kg),Object(F.h)(Pt.m,new yf),Object(F.h)(Pt.n,new Rf),Object(F.h)(Pt.Z,new _b),Object(F.h)(Pt.U,new oh),Object(F.h)(Pt.qb,new oh),Object(F.h)(Pt.k,new oh),Object(F.h)(Pt.T,new cv),Object(F.h)(Pt.a,new ro),Object(F.h)(Pt.X,new wb),Object(F.h)(Pt.eb,new um),Object(F.h)(Pt.H,new Np),Object(F.h)(Pt.G,new _p),Object(F.h)(Pt.M,new ch),Object(F.h)(Pt.L,new $v),Object(F.h)(Pt.Eb,new uO),Object(F.h)(Pt.Db,new iO),Object(F.h)(Pt.t,new cp),Object(F.h)(Pt.s,new np),Object(F.h)(Pt.F,new mp),Object(F.h)(Pt.E,new pp),Object(F.h)(Pt.h,new Su),Object(F.h)(Pt.zb,new Ja),Object(F.h)(Pt.Ab,new Dc),Object(F.h)(Pt.Y,new Pb),Object(F.h)(Pt.fb,new Zi),Object(F.h)(Pt.d,new yo),Object(F.h)(Pt.rb,new Yi),Object(F.h)(Pt.Hb,new lv),Object(F.h)(Pt.v,new df),Object(F.h)(Pt.j,new ff),Object(F.h)(Pt.f,new Ic),Object(F.h)(Pt.e,new Vc),Object(F.h)(Pt.i,new Lu),Object(F.h)(Pt.wb,new wg),Object(F.h)(Pt.c,new go),Object(F.h)(Pt.Bb,new nO),Object(F.h)(Pt.Q,new Eh),Object(F.h)(Pt.yb,new Qg),Object(F.h)(Pt.x,new Kn),Object(F.h)(Pt.w,new Uf),Object(F.h)(Pt.bb,new em),Object(F.h)(Pt.db,new cm),Object(F.h)(Pt.Fb,new dO),Object(F.h)(Pt.lb,new cg),Object(F.h)(Pt.gb,new km),Object(F.h)(Pt.y,new fv),Object(F.h)(Pt.P,new Sh),Object(F.h)(Pt.D,new wv),Object(F.h)(Pt.S,new Rh),Object(F.h)(Pt.jb,new Xr),Object(F.h)(Pt.ib,new tg),Object(F.h)(Pt.hb,new Zm),Object(F.h)(Pt.p,new Zm),Object(F.h)(Pt.g,new uu),Object(F.h)(Pt.pb,new jg),Object(F.h)(Pt.z,new hv),Object(F.h)(Pt.Cb,new rO),Object(F.h)(Pt.Gb,new yO),Object(F.h)(Pt.cb,new om),Object(F.h)(Pt.W,new ob),Object(F.h)(Pt.sb,new ra),Object(F.h)(Pt.nb,new dg),Object(F.h)(Pt.ob,new yg),Object(F.h)(Pt.r,new _n),Object(F.h)(Pt.V,new Zy),Object(F.h)(Pt.C,new wr),Object(F.h)(Pt.B,new cr);var Bk=Object(yt.a)("form-submission-success-toast",(function(){return n.e(75).then(n.bind(null,1650))}));function Vk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return Object(s.a)(Object(s.a)({},e),{},{navigationModel:t,builderNavigationModel:!1!==n?n:e.builderNavigationModel})}function Uk(e,t){return void 0!==e&&e.filter((function(e){return!0===e.isVisible&&!e.inFlyout})).length>1&&!t.currentScreenInheritedFlags.has(Dt.a.HideTabBar)}var zk=function(e){Object(c.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(e,r){var a,c;return Object(i.a)(this,n),(c=t.call(this,e,r))._subscriptionManager=new p.t(Object(o.a)(c)),c.navigationFragment=void 0,c.onTabSelect=function(e,t,n){var r=Object(o.a)(c).navigationModel;r.currentTabIndex===e&&c.isTabletMode||(r.currentTabIndex===e?c.popToRootImpl():c.updateNavigationModel((function(t){return t.setTab(e)})),void 0===t||void 0===n||Object(Ct.z)()||("edit"===n?t.push(Object(Ct.p)(c.appID,String(e))):t.push(Object(Ct.b)(c.appID))))},c.evaluateUsernameProxy=function(){var e,t,n,r,i=null===(e=c.glideAppState)||void 0===e?void 0:e.functions;if(void 0!==i){var a=c.makeRootEvalEnvironment(),o=new B.h({}),u=null===(t=i.get("userProfileName"))||void 0===t?void 0:t.evalInEnvironment(a,o);if(void 0!==u){var l=null===(n=i.get("userProfileSetName"))||void 0===n?void 0:n.evalInEnvironment(a,o),s=null===(r=i.get("userProfileCanSetName"))||void 0===r?void 0:r.evalInEnvironment(a,o);return void 0===l||void 0===s?{getUsername:function(){return u},canSetUsername:function(){return!1},setUsername:function(){}}:{getUsername:function(){return u},canSetUsername:function(){var e;return null!==(e=Object(p.M)(s.current,p.x))&&void 0!==e&&e},setUsername:function(e){if(u.set(e)){var t=c.makeRenderEnvironment(!1);Object(p.M)(l.current,(function(e){return Object(B.o)(e).run(o,t,B.d.None)}))}}}}}},c.currentToken=0,c.overlayMap=new Map,c.overlayAppBar=function(e,t){if(void 0!==t&&c.overlayMap.has(t))return c.overlayMap.set(t,e),c.updateAppBarContext(),t;var n=c.currentToken++;return c.overlayMap.set(n,e),c.updateAppBarContext(),n},c.removeAppBarOverlay=function(e){var t=c.overlayMap.delete(e);return c.updateAppBarContext(),t},c.onMenuClicked=function(){c.setState({showFlyout:!0})},c.shouldExpandLeftPanel=function(e){return c.isTabletMode&&e>1116},c.lastStateFragment="",c.onAuthSaveAuthPopUp=function(e){e?Object(Lk.o)(Object(Lk.c)(c.appID),"true"):(Object(Lk.o)(Object(Lk.c)(c.appID),"false"),Object(ek.c)(c.appID)),c.setDirty()},window.location.pathname.includes("/dl/")&&(c.navigationFragment=window.location.pathname),(null===(a=c.navigationFragment)||void 0===a?void 0:a.endsWith("/full"))&&(c.navigationFragment=c.navigationFragment.substring(0,c.navigationFragment.length-"/full".length)),c}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.appEnvironment;e.setDelegate(this),e.isMounted(!1)}},{key:"componentWillUnmount",value:function(){this._subscriptionManager.unsubscribe(),this.props.appEnvironment.isUnmounted(!1)}},{key:"componentDidUpdate",value:function(e){var t=this.props.appEnvironment;this.props.appEnvironment!==e.appEnvironment&&(e.appEnvironment.setDelegate(void 0),e.appEnvironment.isUnmounted(!1),t.setDelegate(this),t.isMounted(!1))}},{key:"setDirty",value:function(){var e=this;setTimeout((function(){return e.forceUpdate()}),0)}},{key:"modifyAppFeatures",value:function(e){return e}},{key:"updateNavigationModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.updateGlideAppState((function(n){var r=n.navigationModel,i=e(r);return Vk(n,i,!t&&i)}))}},{key:"makeRootEvalEnvironment",value:function(){var e=Object(A.n)(this.glideAppState).functions;return new v.f(this.props.appEnvironment,e)}},{key:"makeScreenToPush",value:function(e,t,n,r,i){var a=Object(A.n)(this.glideAppState).screens,o=this.makeRootEvalEnvironment();return Object(A.n)(a.get(e)).instantiate(t,n,o,r,void 0,i)}},{key:"makeScreenAndUpdateNavigationModel",value:function(e,t,n,r,i,a){var o=this.makeScreenToPush(e,t,n,r,i);this.updateNavigationModel((function(e){return a(e,o)}))}},{key:"pushBuilderScreen",value:function(e,t,n,r,i,a){Object(Ot.b)("pushBuilderScreen",{screen_name:e}),this.makeScreenAndUpdateNavigationModel(e,t,n,i,a,(function(e,t){return"tablet"===r.sizeClass&&"master"===r.displayContext?e.popToRoot().pushScreen({pivots:t}):e.pushScreen({pivots:t})}))}},{key:"pushModalBuilderScreen",value:function(e,t,n,r){Object(Ot.b)("pushModalBuilderScreen",{screen_name:e}),this.makeScreenAndUpdateNavigationModel(e,t,n,r,void 0,(function(e,t){return e.pushModalScreen({pivots:t})}))}},{key:"pushMenuScreen",value:function(e,t,n,r,i){var a=this.makeMenuScreen(e,t,n);this.pushBuilderScreen(a,r,void 0,i,void 0,void 0)}},{key:"popScreen",value:function(e){Object(Ot.b)("popScreen",{}),this.updateNavigationModel((function(e){return e.canCurrentScreenPop?e.popScreen():(Object(P.a)("Trying to pop screen, but cannot"),e)}))}},{key:"popToRoot",value:function(e){this.popToRootImpl()}},{key:"popToRootImpl",value:function(){this.updateNavigationModel((function(e){return e.popToRoot()}))}},{key:"popModalScreen",value:function(e){Object(Ot.b)("popModalScreen",{}),this.updateNavigationModel((function(e){return e.popModalScreen()}))}},{key:"pushUserProfileScreen",value:function(){var e,t=new B.h(void 0),n=new Set([L.e.IsUserProfileScreen]);if(!0===(null===(e=this.glideAppState)||void 0===e?void 0:e.screens.has(N.pc)))return this.pushModalBuilderScreen(N.pc,t,void 0,n);var r=this.makeScreenToPush(N.pc,t,void 0,n,void 0);this.updateNavigationModel((function(e){return e.pushModalScreen({pivots:r})}))}},{key:"setCurrentTab",value:function(e){var t=this.serializedApp;if(void 0!==t){var n=Object(L.s)(t)[e];if(void 0!==n)if(!0===n.inFlyout){var r=this.navigationModel;this.isTabletMode?this.onTabSelect(e):this.updateNavigationModel((function(t){return t.pushScreen(r.getRootForTab(e),e,[Dt.a.HideTabBar])}))}else this.updateNavigationModel((function(t){return t.setTab(e)}))}}},{key:"setCurrentPivot",value:function(e){this.updateNavigationModel((function(t){return t.setPivot(e)}))}},{key:"getTableForScreen",value:function(e){var t=this.serializedApp;if(void 0!==t){var n=this.props.appEnvironment.dataStore.schema,r=t.screenDescriptions[e];if(void 0!==r&&r.kind===N.o.Class)return Object(N.O)(n,Object(N.ob)(r.type))}}},{key:"getCurrentLinkFragment",value:function(){var e,t,n=this.navigationModel,r=n.currentScreen,i=r.name,a=r.inputCtx.current,o=r.title,c=n.currentLogicalTabIndex;if(void 0!==i){var u=this.getTableForScreen(i);if(void 0!==u){var l=u.rowIDColumn;if(void 0!==l&&Object(v.k)(a)){var s=null===(e=a.data)||void 0===e?void 0:e.current;if(Object(v.k)(s)){var h=null===(t=s[l])||void 0===t?void 0:t.current;if("string"===typeof h){var b={t:c,s:i,r:h,n:Object(d.definedMap)(null===o||void 0===o?void 0:o.current,p.F)};return"/dl/"+encodeURIComponent(Object(f.b)(JSON.stringify(b)))}}}}}}},{key:"getNavigateToLinkFragmentTarget",value:function(e,t){var n,r,i,a;try{var o=e.split("/"),c=e=o[o.length-1],u=JSON.parse(Object(f.a)(decodeURIComponent(c)));Object(P.b)("fragment",u),n=Object(A.h)(u.t),r=Object(A.i)(u.s),i=Object(A.i)(u.r),a=Object(d.definedMap)(u.n,A.i)}catch(k){return void Object(P.a)("Error decoding link fragment",e,k.toString())}var l=t[n];if(void 0!==l){if(l.isVisible===B.i)return B.i;if(l.isVisible){var s=this.getTableForScreen(r);if(Object(P.b)("table for screen",s),void 0!==s){var p=s.rowIDColumn;if(void 0!==p){var h=Object(N.nb)(s),O=new y.b(new y.a(m.a),[new b.b(i),new y.f(new y.e,p)],void 0),j=new y.d(new v.b(O,this.makeRootEvalEnvironment()),new g.a(this.props.appEnvironment,new b.b("default"),new b.b(h.name),!1));return{tabIndex:n,screenName:r,ctx:new B.h({data:j}),title:a}}}}}}},{key:"navigateToLinkFragment",value:function(e,t){var n=t.tabIndex,r=t.screenName,i=t.ctx,a=t.title;this.setCurrentTab(n),this.pushBuilderScreen(r,i,new b.b(a),e,void 0,void 0)}},{key:"makeUserProfileGlobalVariables",value:function(){var e=Object(d.definedMap)(this.serializedApp,mt.b),t=new Map;return t.set(N.i.UserProfileTableName,Object(d.definedMap)(e,(function(e){return e.tableName.name}))),t.set(N.i.UserProfileEmailColumnName,Object(d.definedMap)(e,(function(e){return e.emailColumnName}))),t.set(N.i.UserProfileNameColumnName,Object(d.definedMap)(e,(function(e){return e.nameColumnName}))),t.set(N.i.UserProfileImageColumnName,Object(d.definedMap)(e,(function(e){return e.imageColumnName}))),t}},{key:"makeGlobalVariable",value:function(e){var t,n=null===(t=this.makeUserProfileGlobalVariables())||void 0===t?void 0:t.get(e);if(void 0!==n)return new B.h(n)}},{key:"updateGlobalVariables",value:function(e){var t=this.makeUserProfileGlobalVariables();if(void 0!==t){var n=!0,i=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var u=Object(r.a)(o.value,2);d(u[0],u[1])}}catch(p){i=!0,a=p}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}f(N.i.AppFeatures,this.props.appEnvironment.appFeatures);var l,s=this.serializedApp;if(void 0!==s)f(N.i.AppMetadata,{title:s.title,author:null!==(l=s.author)&&void 0!==l?l:this.fallbackAuthor})}function d(t,n){Object(P.b)("setting",t,n),e.has(t)?e.get(t).set(n):e.set(t,new B.h(n))}function f(t,n){var r=B.h.fromJSON(n);e.has(t)?Object(b.m)(e.get(t),r):e.set(t,r)}}},{key:"makeRenderEnvironment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new B.l(this.props.appEnvironment,{needsRerender:e,sizeClass:this.isTabletMode?"tablet":"phone",displayContext:"default"})}},{key:"evaluateUserProfileProperties",value:function(){var e,t;return null===(e=this.glideAppState)||void 0===e||null===(t=e.functions.get("userProfileProperties"))||void 0===t?void 0:t.evalInEnvironment(this.makeRootEvalEnvironment(),new B.h({}))}},{key:"getFlyoutMenu",value:function(e,t,n,r){var i,a=this,o=e.filter((function(e){return e.isVisible})),c=o.filter((function(e){return!0!==e.inFlyout})).length;if(0===(i=this.isTabletMode&&c<=1?o:o.filter((function(e){return!0===e.inFlyout}))).length){var u,l;if(!Object(gt.a)("userProfiles"))return;if((null===(u=this.authentication)||void 0===u?void 0:u.kind)!==L.a.EmailPin&&void 0===(null===(l=this.serializedApp)||void 0===l?void 0:l.userProfile))return}this.updateGlobalVariables(this.props.appEnvironment.globalVariables);return jt.createElement(Fj,{appEnvironment:this.props.appEnvironment,isOpen:!0===this.state.showFlyout,selected:e[t.currentTabIndex],items:i,onSelected:function(t){a.setCurrentTab(e.indexOf(t)),a.setState({showFlyout:!1,lastTabIndex:void 0})},onClose:function(){return a.setState({showFlyout:!1})},userProfile:n,renderEnvironment:r})}},{key:"getTabBar",value:function(e,t,n){var r=Uk(e,t),i=e[t.currentTabIndex];return jt.createElement(Xj,{hidden:i.hidden||!r,selected:t.currentTabIndex,onTabSelect:this.onTabSelect,tabs:e,sizeClass:n.sizeClass})}},{key:"updateAppBarContext",value:function(){var e;this.overlayMap.forEach((function(t){return e=t})),this.state.appBarContext!==e&&this.setState({appBarContext:e})}},{key:"suppressNotificationTopic",value:function(e){Object(Tt.suppressPushNotificationTopic)(this.appID,e)}},{key:"unsuppressNotificationTopic",value:function(e){Object(Tt.unsuppressPushNotificationTopic)(this.appID,e)}},{key:"showToast",value:function(e,t){this.setState({showingSuccessToast:{key:Date.now(),message:e,isSuccess:t}})}},{key:"playSound",value:function(e){new St(e).play()}},{key:"getTabs",value:function(e){var t=this.serializedApp,n=this.glideAppState;if(void 0!==t&&void 0!==n){var r=Object(L.s)(t),i=n.navigationModel.isVisibles;return Object(A.d)(r.length===i.length),r.map((function(t,n){var r=!t.hidden;if(r){var a=Object(d.definedMap)(i[n],e);r=a===B.i?B.i:!1!==a}return Object(s.a)(Object(s.a)({},t),{},{isVisible:r})}))}}},{key:"updateDeepLinkURL",value:function(){var e;if(Object(gt.a)("deepLinks")&&!this.props.appEnvironment.isBuilder){var t=this.props.appEnvironment.appID,n=null!==(e=this.getCurrentLinkFragment())&&void 0!==e?e:"";window.location.pathname.includes("play/")&&(n="/play/".concat(t).concat(n)),window.location.pathname.endsWith("/full")&&(n="".concat(n,"/full")),""===n&&(n="/"),this.lastStateFragment!==n&&(window.history.replaceState({},document.title,n),this.lastStateFragment=n)}}},{key:"recompute",value:function(e){var t=this,n=this.serializedApp,r=this.getTabs(e);if(void 0===n||void 0===this.glideAppState||void 0===r||r.some((function(e){return e.isVisible===B.i})))return this.appFacilities.renderProgress();Object(gt.d)(this.appID);var i=this.glideAppState.navigationModel,a=r[i.currentTabIndex],o=this.props.appEnvironment,c=o.appFeatures,u=o.isBuilder;if(!a.isVisible&&!u){var l=r.findIndex((function(e){return e.isVisible&&!0!==e.inFlyout}));return l<0&&(l=r.findIndex((function(e){return e.isVisible}))),l>=0&&setTimeout((function(){return t.updateNavigationModel((function(e){return e.setTab(l)}))}),0),null}var s=i.currentScreen,d={overlayAppBar:this.overlayAppBar,removeAppBarOverlay:this.removeAppBarOverlay,getScreenLocalState:function(){return t.navigationModel.currentScreenLocalState},updateScreenLocalState:function(e){return t.updateNavigationModel((function(t){return t.updateScreenLocalState(e)})),t.navigationModel.currentScreenLocalState},getPivotLocalState:function(){return t.navigationModel.currentPivotLocalState},pivotLocalStateForIndex:function(e){return t.navigationModel.pivotLocalStateForIndex(e)},updatePivotLocalState:function(e){return t.updateNavigationModel((function(t){return t.updatePivotLocalState(e)}),!0),t.navigationModel.currentPivotLocalState}},f=this.makeRenderEnvironment(s.needsRerender);if(s.needsRerender=!1,void 0!==this.navigationFragment){var p=this.getNavigateToLinkFragmentTarget(this.navigationFragment,r);p!==B.i&&(this.navigationFragment=void 0,void 0!==p&&setTimeout((function(){t.navigateToLinkFragment(f,p)}),0))}var v=this.evaluateUserProfileProperties(),b=this.evaluateUsernameProxy(),m=this.getTabBar(r,i,f),g=this.getFlyoutMenu(r,i,v,f),y=this.state.showingSuccessToast;this.updateDeepLinkURL();var j=Uk(r,i),k=o.authentication,x=(null===k||void 0===k?void 0:k.kind)===L.a.EmailPin,C=!0===c.askUserToSaveAuthCookie,w=void 0!==Object(Lk.m)(Object(Lk.c)(this.appID)),S=C&&!w&&!u&&x;return jt.createElement(ek.a,null,(function(e){return o.fallbackUsername.set(e.username),void 0!==b?e.setUsernameProxy(b):e.setUsernameProxy({getUsername:function(){return o.fallbackUsername},setUsername:function(e){return o.fallbackUsername.set(e)},canSetUsername:function(){return!0}}),jt.createElement(Mt,{value:d},jt.createElement(Us,{env:o,renderEnvironment:f},void 0!==y&&jt.createElement(jt.Suspense,{fallback:jt.createElement(jt.Fragment,null)},jt.createElement(Bk,{key:y.key,message:y.message,isSuccess:y.isSuccess})),S&&jt.createElement(Is.a,{title:Object(O.e)("saveLoginTitle"),accept:Object(O.e)("allow"),cancel:Object(O.e)("doNotAllow"),description:Object(O.e)("shouldSaveAuthCookie"),modalStyle:h.a.Confirm,onFinish:t.onAuthSaveAuthPopUp}),g,t.isTabletMode?jt.createElement(xt.a,{handleWidth:!0,resizableElementId:"root"},(function(e,o){var c=t.shouldExpandLeftPanel(e);return jt.createElement(Fk,{tabs:r,serializedApp:n,appBarContext:t.state.appBarContext,onMenuClicked:void 0!==g?t.onMenuClicked:void 0,currentScreen:s,hasFlyout:void 0!==g,currentNavigationModel:i,hasTabBar:null!==m,renderEnvironment:f,currentTab:a,expandLeftPanel:c})})):jt.createElement($j,{useLargeTitles:!i.canCurrentScreenPop&&!i.isInModal()},jt.createElement(Ck,{isSubScreen:i.canCurrentScreenPop,renderEnv:f,isOnFirstTab:i.currentTabIndex===Object(L.o)(r),appTitle:n.title,showShareButton:t.props.appEnvironment.enableShareScreen,screen:s,overrideContext:t.state.appBarContext,onMenuClicked:void 0===g||i.isInModal()?void 0:t.onMenuClicked}),jt.createElement(_k,{currentScreen:s,currentNavigationModel:i,hasTabBar:j,renderEnvironment:f,currentTab:a})),m))}))}},{key:"render",value:function(){return this._subscriptionManager.run(!0)}},{key:"appFacilities",get:function(){return this.props.appEnvironment.appFacilities}},{key:"appID",get:function(){return this.props.appEnvironment.appID}},{key:"navigationModel",get:function(){return Object(A.n)(this.glideAppState).navigationModel}},{key:"authentication",get:function(){var e;return null===(e=this.serializedApp)||void 0===e?void 0:e.authentication}},{key:"currentPivot",get:function(){return this.navigationModel.currentPivotIndex}}]),n}(jt.Component)},737:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.None="none",e.Float="float",e.Outline="outline"}(r||(r={}))},738:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Map="map",e.List="list"}(r||(r={}))},739:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var r=n(29),i=n(4),a=n(5),o=n(9),c=n(21),u=n(13),l=n(169),s=n(596),d=n(595),f=n(599),p=n(597),v=n(594);var h;!function(e){e.Default="default",e.Neutral="neutral",e.Warning="warning",e.Error="error",e.Success="success"}(h||(h={}));var b=[{value:h.Default,label:"Default"},{value:h.Neutral,label:"Neutral"},{value:h.Success,label:"Success"},{value:h.Warning,label:"Warning"},{value:h.Error,label:"Error"}],m=new p.c({mood:h.Default},"Mood","Mood",b,v.a.Options,"dropdown"),g=function(e){Object(o.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(u.a)(e);if(t()){var i=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.call(this,"hint")}return Object(a.a)(n,[{key:"entryForTableColumn",value:function(e,t,n){var r=n.input,i=e.b;return i.ui("Hint",{title:Object(s.A)(e,t.title,r,!0),text:Object(s.A)(e,t.text,r,!0),mood:i.constant(m.getEnum(t))})}},{key:"getDescriptor",value:function(e,t,n,i){var a=[Object(d.x)("title","Title","Enter title",!0,i,{searchable:!1}),Object(d.x)("text","Text","Enter hint text",!0,i,{searchable:!1}),m].concat(Object(r.a)(this.getBasePropertyDescriptors()));return{name:"Hint",description:"Special text",img:"componentBasicText",group:"Text",helpUrl:Object(l.a)("hint"),properties:a}}}]),n}(f.a)},740:function(e,t,n){"use strict";var r,i,a;n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),function(e){e.Footnote="Footnote",e.BodySmall="Small",e.Body="Regular",e.BodyLarge="Large",e.H1="Headline 1",e.H2="Headline 2",e.H3="Headline 3",e.H4="Headline 4"}(r||(r={})),function(e){e.Center="Center",e.Left="Left",e.Right="Right",e.Justify="Justify"}(i||(i={})),function(e){e.None="None",e.One="One",e.Two="Two",e.Three="Three",e.Four="Four",e.Five="Five",e.Six="Six"}(a||(a={}))},756:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(4),i=n(5),a=n(9),o=n(21),c=n(13),u=n(10),l=n(0),s=n.n(l),d=n(95),f=n(1046),p=n.n(f),v=Math.PI;function h(e){return e*v/180}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labelPosition,n=e.lineWidth,r=e.labelHorizontalShift;if(0===r)return"middle";if(t>100)return r>0?"start":"end";var i=100-n;return t<i?r>0?"end":"start":"middle"}function m(e,t,n){return e>n?n:e<t?t:e}function g(e,t){return e*t/100}var O=n(35);function y(e){var t=e.cx,n=e.cy,r=e.startAngle,i=e.lengthAngle,a=e.radius,o=e.lineWidth,c=e.reveal,u=e.title,l=Object(d.a)(e,["cx","cy","startAngle","lengthAngle","radius","lineWidth","reveal","title"]),f=a-o/2,v=function(e,t,n,r,i){var a=m(r,-359.999,359.999);return p()(e,t,i,h(n),h(n+a)).map((function(e){return e.join(" ")})).join(" ")}(t,n,r,i,f),b=O.d?1e3:void 0,y=O.d?1:void 0;if("number"===typeof c){var j=h(f)*i;y=(b=Math.abs(j))-g(b,c)}return s.a.createElement("path",Object.assign({d:v,strokeWidth:o,strokeDasharray:b,strokeDashoffset:y},l),u&&s.a.createElement("title",null,u))}y.displayName="ReactMinimalPieChartPath",y.defaultProps={startAngle:0,lengthAngle:0,lineWidth:100,radius:100};var j=n(87),k=n.n(j),x=k.a.objectOf(k.a.oneOfType([k.a.number,k.a.string]));k.a.arrayOf(k.a.shape({title:k.a.oneOfType([k.a.number,k.a.string]),value:k.a.number.isRequired,color:k.a.string,key:k.a.oneOfType([k.a.number,k.a.string]),style:x}));function C(e){e.data,e.dataIndex;var t=e.color,n=Object(d.a)(e,["data","dataIndex","color"]);return s.a.createElement("text",Object.assign({textAnchor:"middle",dominantBaseline:"middle",fill:t},n))}C.displayName="ReactMinimalPieChartLabel";var w=n(176),S=n(105);function E(e,t){var n=g(t.radius,t.labelPosition);return e.map((function(r,i){var a=h(t.startAngle+r.startOffset+r.degrees/2),o=Math.cos(a)*n,c=Math.sin(a)*n,u=Object(w.c)(r.color);void 0!==t.hoveredSlice&&t.hoveredSlice!==i&&(u="".concat(r.color,"33"));var l,d={key:"label-".concat(r.key||i),x:t.cx,y:t.cy,dx:o,dy:c,textAnchor:b({lineWidth:t.lineWidth,labelPosition:t.labelPosition,labelHorizontalShift:o}),data:e,dataIndex:i,color:r.color,style:{fontSize:"5px",fontWeight:"600",fill:u}};if(r.percentage>=2)return function(e,t,n){if(s.a.isValidElement(e))return s.a.cloneElement(e,t);var r=n;return"function"===typeof e&&(r=e(t),s.a.isValidElement(r))?r:s.a.createElement(C,t,r)}(t.label,d,null!==(l=r.displayValue)&&void 0!==l?l:Object(S.b)(r.value))}))}function M(e,t,n){var r,i=t.segmentsStyle;if(t.animate){var a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=["stroke-dashoffset ".concat(e,"ms ").concat(t),n.transition].filter(Boolean).join(",");return{transition:r}}(t.animationDuration,t.animationEasing,i);i=Object.assign({},i,a)}!0===n?r=0:"number"===typeof t.reveal?r=t.reveal:!1===n&&(r=100);var o=e.map((function(e,n){var a=t.startAngle+e.startOffset,o=e.color;return void 0!==t.hoveredSlice&&t.hoveredSlice!==n&&(o="".concat(e.color,"33")),s.a.createElement(y,{key:e.key||n,cx:t.cx,cy:t.cy,startAngle:a,lengthAngle:e.degrees,radius:t.radius,lineWidth:g(t.radius,t.lineWidth),reveal:r,title:e.title,style:Object.assign({},i,e.style),stroke:o,strokeLinecap:t.rounded?"round":void 0,fill:"none",onMouseOver:t.onMouseOver&&function(e){return t.onMouseOver(e,t.data,n)},onMouseOut:t.onMouseOut&&function(e){return t.onMouseOut(e,t.data,n)},onClick:t.onClick&&function(e){return t.onClick(e,t.data,n)},onMouseDown:t.onMouseDown&&function(e){return t.onMouseDown(e,t.data,n)},onTouchStart:t.onTouchStart&&function(e){return t.onTouchStart(e,t.data,n)},onTouchMove:t.onTouchMove&&function(e){return t.onTouchMove(e,t.data,n)},onMouseUp:t.onMouseUp&&function(e){return t.onMouseUp(e,t.data,n)},onTouchEnd:t.onTouchEnd&&function(e){return t.onTouchEnd(e,t.data,n)}})}));return t.background&&o.unshift(s.a.createElement(y,{key:"bg",cx:t.cx,cy:t.cy,startAngle:t.startAngle,lengthAngle:t.lengthAngle,radius:t.radius,lineWidth:g(t.radius,t.lineWidth),stroke:t.background,strokeLinecap:t.rounded?"round":void 0,fill:"none"})),o}var R=function(e){Object(a.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(c.a)(e);if(t()){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}(n);function n(e){var i;return Object(r.a)(this,n),!0===(i=t.call(this,e)).props.animate&&(i.hideSegments=!0),i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;!0===this.props.animate&&requestAnimationFrame&&(this.initialAnimationTimerId=setTimeout((function(){e.initialAnimationTimerId=null,e.initialAnimationRAFId=requestAnimationFrame((function(){e.initialAnimationRAFId=null,e.startAnimation()}))})))}},{key:"componentWillUnmount",value:function(){this.initialAnimationTimerId&&clearTimeout(this.initialAnimationTimerId),this.initialAnimationRAFId&&cancelAnimationFrame(this.initialAnimationRAFId)}},{key:"startAnimation",value:function(){this.hideSegments=!1,this.forceUpdate()}},{key:"render",value:function(){if(void 0===this.props.data)return null;var e,t,n=function(e){var t=e.data,n=e.lengthAngle,r=e.totalValue,i=e.paddingAngle,a=r||function(e){return e.reduce((function(e,t){return e+t.value}),0)}(t),o=m(n,-360,360),c=360===Math.abs(o)?t.length:t.length-1,l=Math.abs(i)*Math.sign(n),s=o-l*c,d=0;return t.map((function(e){var t=0===a?0:e.value/a*100,n=g(s,t),r=d;return d=d+n+l,Object(u.a)({percentage:t,degrees:n,startOffset:r},e)}))}(this.props);return s.a.createElement("div",{className:this.props.className,style:this.props.style},s.a.createElement("svg",{viewBox:(e=this.props.ratio,t=100,e>1?"0 0 ".concat(t," ").concat(t/e):"0 0 ".concat(t*e," ").concat(t)),width:"100%",height:"100%",style:{display:"block"}},M(n,this.props,this.hideSegments),this.props.label&&E(n,this.props),this.props.injectSvg&&this.props.injectSvg()),this.props.children)}}]),n}(l.Component);R.displayName="ReactMinimalPieChart",R.defaultProps={cx:50,cy:50,ratio:1,startAngle:0,lengthAngle:360,paddingAngle:0,lineWidth:100,radius:50,rounded:!1,animate:!1,animationDuration:500,animationEasing:"ease-out",label:!1,labelPosition:50,onMouseOver:void 0,onMouseOut:void 0,onClick:void 0,onMouseDown:void 0,onTouchStart:void 0,onTouchMove:void 0,onMouseUp:void 0,onTouchEnd:void 0,hoveredSlice:void 0}},760:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return m}));var r=n(16),i=n(96),a=n(22),o=n(716);function c(){var e=Object(r.a)(["\n    display: flex;\n    align-items: center;\n\n    ",";\n    color: ",";\n\n    margin: 4px 0 8px 0;\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n    position: relative;\n    padding-top: ","px;\n    min-height: ","px;\n    display: grid;\n\n    grid-template-rows: 1fr;\n    grid-template-columns: 1fr;\n\n    & > input {\n        opacity: ",";\n    }\n\n    & > * {\n        grid-row: 1;\n        grid-column: 1;\n        overflow: hidden;\n    }\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n    ",";\n\n    flex-grow: 1;\n    flex-shrink: 1;\n\n    margin: 4px 0 8px 0;\n\n    color: ",";\n\n    ::placeholder {\n        color: ",";\n    }\n\n    ::-webkit-calendar-picker-indicator {\n        opacity: 0.4;\n        filter: ",";\n    }\n"]);return l=function(){return e},e}function s(){var e=Object(r.a)(["\n    ",";\n\n    flex-grow: 1;\n    flex-shrink: 1;\n\n    margin: 4px 0 8px 0;\n\n    color: ",";\n"]);return s=function(){return e},e}function d(){var e=Object(r.a)(["\n    ","\n\n    color: ",";\n    transition: all 200ms ease-in-out;\n    position: absolute;\n\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    width: 100%;\n\n    top: ","px;\n\n    .tf-has-error & {\n        color: ",";\n    }\n"]);return d=function(){return e},e}function f(){var e=Object(r.a)(["\n    padding: ","px ","px 12px;\n\n    :not(.highlight-view) &:last-child,\n    .highlight-view:last-child & {\n        margin-bottom: 20px;\n    }\n\n    :not(.highlight-view) &:first-child,\n    .highlight-view:first-child & {\n        margin-top: ","px;\n    }\n\n    & > .tf-inner {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n\n        padding-top: 9px;\n        padding-left: ","px;\n        padding-right: ","px;\n        padding-bottom: ",";\n\n        border-top-left-radius: 4px;\n        border-top-right-radius: 4px;\n\n        background-color: ",";\n        border-bottom-color: ",";\n        border-bottom-width: ",";\n        border-bottom-style: solid;\n\n        color: ",";\n    }\n\n    &.tf-has-error > .tf-inner {\n        border-bottom-color: ",";\n        border-bottom-width: 2px;\n        padding-bottom: 0;\n    }\n\n    & > .tf-footer {\n        padding-top: 4px;\n        ",";\n        color: ",";\n\n        display: flex;\n        justify-content: space-between;\n\n        > :not(:first-child) {\n            flex-shrink: 0;\n        }\n    }\n\n    & .tf-error {\n        color: ",";\n    }\n\n    ","\n"]);return f=function(){return e},e}var p=a.i.div(f(),(function(e){return"iOS"===e.theme.navBar.style?3:12}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.pageMarginMedium-12}),(function(e){return"iOS"===e.theme.navBar.style?0:12}),(function(e){return"iOS"===e.theme.navBar.style?0:12}),(function(e){return e.focused?"0":"1px"}),(function(e){return"iOS"===e.theme.navBar.style?"transparent":e.theme.offBaseColor}),(function(e){return e.focused?e.theme.primaryAccentColor:e.theme.fgColorLight}),(function(e){return e.focused?"2px":"1px"}),(function(e){return e.focused?e.theme.primaryAccentColor:e.theme.fgColorMedium}),(function(e){return e.theme.destroyColor}),(function(e){return e.theme.fontStyles.Body6Fixed}),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.destroyColor}),(function(e){return!e.isEnabled&&a.g})),v=a.i.div(d(),(function(e){return e.shrink?e.theme.fontStyles.Body5:e.theme.fontStyles.Body4}),(function(e){return e.shrink&&e.focused?e.theme.primaryAccentColor:e.theme.fgColorLight}),(function(e){return e.shrink?8:18}),(function(e){return e.theme.destroyColor})),h=Object(a.i)(o.a)(s(),(function(e){return e.theme.fontStyles.Body4}),(function(e){return e.theme.fgColorDark})),b=a.i.input(l(),(function(e){return e.theme.fontStyles.Body4}),(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fgColorLight}),(function(e){return Object(i.d)(e.theme)?"invert(1)":"invert(0)"})),m=a.i.div(u(),(function(e){return e.hasTitle?20:3}),(function(e){return e.hasTitle?46:29}),(function(e){return e.hideInput?0:1}));a.i.div(c(),(function(e){return e.theme.fontStyles.Body4}),(function(e){return e.theme.fgColorLight}))},761:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e,t,n,i,a){var o;a=null!==(o=a)&&void 0!==o&&o;var c=r.useRef();r.useEffect((function(){c.current=t}),[t]),r.useEffect((function(){if(null!==n&&void 0!==n.addEventListener){var t=n,r=function(e){var n;null===(n=c.current)||void 0===n||n.call(t,e)};return t.addEventListener(e,r,{passive:i,capture:a}),function(){t.removeEventListener(e,r)}}}),[e,n,i,a])}},762:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e){if(void 0!==e)return e.split("\n").map((function(e,t,n){return r.createElement(r.Fragment,{key:t},r.createElement("span",null,e),t!==n.length-1&&r.createElement("br",null))}))}},763:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(4),i=n(5),a=n(9),o=n(21),c=n(13),u=n(16),l=n(0),s=n(695),d=n(22),f=n(25);function p(){var e=Object(u.a)(["\n    max-height: ",";\n    overflow: hidden;\n\n    position: relative;\n\n    & > .te-more-button {\n        background-image: ",";\n        background-image: linear-gradient(to right, ","00, ","ff 20%);\n\n        color: ",";\n        padding-left: 16px;\n\n        position: absolute;\n        right: 0;\n        bottom: 0;\n\n        font-weight: 500;\n    }\n"]);return p=function(){return e},e}var v=d.i.div(p(),(function(e){return e.isOpen?"unset":e.maxLines*e.lineHeight+"px"}),(function(e){return e.theme.baseColor}),(function(e){return e.theme.baseColor}),(function(e){return e.theme.baseColor}),(function(e){return e.theme.primaryAccentColor})),h=function(e){Object(a.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(c.a)(e);if(t()){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isOpen:!1,needExpander:!1},e.wrapperRef=l.createRef(),e.onOpen=function(t){e.state.isOpen||(e.setState({isOpen:!0}),t.stopPropagation(),t.preventDefault())},e.onResize=function(t,n){var r=e.wrapperRef.current;if(null!==r&&!e.state.isOpen){var i=r.children[1];if(void 0!==i&&null!==i){var a=Math.floor(i.getBoundingClientRect().height);Math.abs(n-a)>1&&!e.state.needExpander?e.setState({needExpander:!0}):a<=n&&e.state.needExpander&&e.setState({needExpander:!1})}}},e}return Object(i.a)(n,[{key:"render",value:function(){return l.createElement(v,Object.assign({"data-test":"glide-expander"},this.props,this.state,{ref:this.wrapperRef,onClick:this.onOpen}),l.createElement(s.a,{handleHeight:!0,onResize:this.onResize}),this.props.children,!this.state.isOpen&&this.state.needExpander&&l.createElement("div",{className:"te-more-button"},Object(f.e)("more")))}}]),n}(l.PureComponent)},764:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(36),i={overlayName:"listOverlayTheme",listItem:{titleFontStyle:Object(r.a)("fontStyles.AccentCallout4"),titleLineHeight:Object(r.a)("fontStyles.AccentCallout4Height"),detailFontStyle:Object(r.a)("fontStyles.Body5"),detailLineHeight:Object(r.a)("fontStyles.Body5Height")}}},765:function(e,t,n){"use strict";function r(e,t){return void 0!==e&&(e&t)===t}n.d(t,"a",(function(){return r}))},773:function(e,t,n){"use strict";n.d(t,"d",(function(){return M})),n.d(t,"g",(function(){return R})),n.d(t,"u",(function(){return D})),n.d(t,"s",(function(){return T})),n.d(t,"h",(function(){return P})),n.d(t,"l",(function(){return I})),n.d(t,"k",(function(){return _})),n.d(t,"r",(function(){return N})),n.d(t,"b",(function(){return A})),n.d(t,"o",(function(){return F})),n.d(t,"c",(function(){return L})),n.d(t,"t",(function(){return B})),n.d(t,"n",(function(){return V})),n.d(t,"i",(function(){return U})),n.d(t,"m",(function(){return z})),n.d(t,"f",(function(){return W})),n.d(t,"j",(function(){return H})),n.d(t,"e",(function(){return K})),n.d(t,"a",(function(){return q})),n.d(t,"q",(function(){return G})),n.d(t,"p",(function(){return J}));var r=n(16),i=n(0),a=n.n(i),o=n(22),c=n(205),u=n(81);function l(){var e=Object(r.a)(["\n    display: flex;\n    justify-content: center;\n    width: 100%;\n\n    color: ",";\n"]);return l=function(){return e},e}function s(){var e=Object(r.a)(["\n    width: 100%;\n    height: 100%;\n\n    border: 0px;\n    flex-grow: 1000;\n"]);return s=function(){return e},e}function d(){var e=Object(r.a)(["\n    position: absolute;\n    left: 8%;\n    right: 8%;\n    bottom: 48.52%;\n\n    ","\n    text-align: center;\n    color: ",";\n"]);return d=function(){return e},e}function f(){var e=Object(r.a)(["\n    grid-area: pic;\n    max-width: 64px;\n    height: 64px;\n    object-fit: cover;\n"]);return f=function(){return e},e}function p(){var e=Object(r.a)(["\n    grid-area: desc;\n    ","\n    color: ",";\n"]);return p=function(){return e},e}function v(){var e=Object(r.a)(["\n    grid-area: name;\n    ","\n    color: ",";\n    align-self: flex-end;\n"]);return v=function(){return e},e}function h(){var e=Object(r.a)(["\n    display: grid;\n    grid-row-gap: 4px;\n    grid-column-gap: 12px;\n    grid-template-columns: auto 1fr;\n    grid-template-areas: ",";\n    padding: ","px;\n"]);return h=function(){return e},e}function b(){var e=Object(r.a)(["\n    grid-area: price;\n\n    ","\n\n    color: ",";\n"]);return b=function(){return e},e}function m(){var e=Object(r.a)(["\n    grid-area: total;\n\n    ","\n\n    color: ",";\n"]);return m=function(){return e},e}function g(){var e=Object(r.a)(["\n    grid-area: button;\n"]);return g=function(){return e},e}function O(){var e=Object(r.a)(["\n    flex-grow: 1;\n    flex-shrink: 1;\n"]);return O=function(){return e},e}function y(){var e=Object(r.a)(["\n    padding: ",'px;\n    display: grid;\n\n    grid-column-gap: 34px;\n    grid-template-columns: 3fr 5fr;\n    grid-template-areas:\n        "price button"\n        "total button";\n']);return y=function(){return e},e}function j(){var e=Object(r.a)(["\n    display: flex;\n    align-items: center;\n    grid-area: cc;\n\n    padding: 0 12px;\n    height: ",";\n    border-radius: 4px;\n    border: 1px solid ",";\n\n    box-shadow: 0 0 0 "," "," inset !important;\n    -webkit-box-shadow: 0 0 0 "," "," inset !important;\n    background-color: "," !important;\n    background-clip: content-box !important;\n\n    & > * {\n        width: 100%;\n    }\n"]);return j=function(){return e},e}function k(){var e=Object(r.a)(["\n    grid-area: ",";\n    color: ",";\n\n    a {\n        color: ",";\n        text-decoration: underline !important;\n    }\n"]);return k=function(){return e},e}function x(){var e=Object(r.a)(["\n    display: flex;\n    align-items: center;\n    padding: 0 12px;\n\n    height: ",";\n\n    grid-area: ",";\n\n    border-radius: 4px;\n    border: 1px solid ",";\n\n    input {\n        width: 100%;\n    }\n\n    cursor: text;\n"]);return x=function(){return e},e}function C(){var e=Object(r.a)(["\n    ","\n    color: ",";\n    grid-area: ",";\n    padding: 4px 0;\n"]);return C=function(){return e},e}function w(){var e=Object(r.a)(["\n    box-shadow: 0 0 0 "," "," inset !important;\n    -webkit-box-shadow: 0 0 0 "," "," inset !important;\n    background-color: "," !important;\n    background-clip: content-box !important;\n\n    font-family: ",";\n    font-size: ",";\n    color: ",";\n\n    :-webkit-autofill {\n        font-family: ",";\n        font-size: ",";\n        color: ",";\n        -webkit-text-fill-color: ",";\n    }\n"]);return w=function(){return e},e}function S(){var e=Object(r.a)(["\n    padding: ","px;\n\n    ",'\n\n    display: grid;\n\n    grid-template-columns: 8fr 3fr 4fr;\n    grid-row-gap: 12px;\n    grid-column-gap: 4px;\n    grid-template-areas:\n        "method method method"\n        "cc cc billzip"\n        ','\n        "name name name"\n        "contact contact contact"\n        "email email email"\n        "phone phone phone"\n        "shipping shipping shipping"\n        "add1 add1 add1"\n        "add2 add2 add2"\n        "city state zip"\n        "country country country";\n']);return S=function(){return e},e}function E(){var e=Object(r.a)(["\n    display: flex;\n    flex-direction: column;\n\n    flex-grow: 1;\n"]);return E=function(){return e},e}var M=o.i.div(E()),R=o.i.div(S(),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.disabled&&o.g}),(function(e){return e.testMode&&'"testmode testmode testmode"'})),D="14px",T=o.i.input(w(),"44px",(function(e){return e.theme.baseColor}),"44px",(function(e){return e.theme.baseColor}),(function(e){return e.theme.baseColor}),u.d,D,(function(e){return e.theme.fgColorDark}),u.d,D,(function(e){return e.theme.fgColorDark}),(function(e){return e.theme.fgColorDark})),P=o.i.div(C(),(function(e){return e.theme.fontStyles.Header4}),(function(e){return e.theme.fgColorDark}),(function(e){return e.area})),I=o.i.label(x(),"44px",(function(e){return e.area}),(function(e){return e.theme.separatorColor})),_=o.i.div(k(),(function(e){return e.area}),(function(e){return e.theme.fgColorMedium}),(function(e){return e.theme.linkColor})),N=o.i.div(j(),"44px",(function(e){return e.theme.separatorColor}),"44px",(function(e){return e.theme.baseColor}),"44px",(function(e){return e.theme.baseColor}),(function(e){return e.theme.baseColor})),A=o.i.div(y(),(function(e){return e.theme.pageMarginMedium})),F=o.i.div(O()),L=o.i.div(g()),B=o.i.div(m(),(function(e){return e.theme.fontStyles.AccentCallout4}),(function(e){return e.theme.fgColorMedium})),V=o.i.div(b(),(function(e){return e.theme.fontStyles.AccentHeader3}),(function(e){return e.theme.fgColorDark})),U=o.i.div(h(),(function(e){return e.hasImage?'"pic name" "pic desc"':'"name" "desc"'}),(function(e){return e.theme.pageMarginMedium})),z=o.i.div(v(),(function(e){return e.theme.fontStyles.AccentCallout4}),(function(e){return e.theme.fgColorDark})),W=o.i.div(p(),(function(e){return e.theme.fontStyles.Body5}),(function(e){return e.theme.fgColorMedium})),H=Object(o.i)(c.a)(f()),K=o.i.p(d(),(function(e){return e.theme.fontStyles.Body4}),(function(e){return e.theme.fgColorDark})),q=o.i.iframe(s()),G=o.i.div(l(),(function(e){return e.theme.fgColorMedium})),J=function(){return a.a.createElement("svg",{width:"109",height:"18",viewBox:"0 0 109 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M102.462 10.3755H108.335C108.349 10.2139 108.375 9.58528 108.375 9.29475C108.375 6.22256 106.887 3.79798 104.038 3.79798C101.185 3.79798 99.4478 6.22362 99.4478 9.2789C99.4478 12.8962 101.495 14.726 104.417 14.726C105.851 14.726 106.928 14.4006 107.742 13.9485V11.5323C106.924 11.9444 105.986 12.1958 104.796 12.1958C103.626 12.1958 102.596 11.7817 102.462 10.3755ZM102.436 8.16117C102.436 6.80995 103.269 6.24369 104.019 6.24369C104.756 6.24369 105.537 6.81101 105.537 8.16117H102.436Z",fill:"currentColor "}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.4699 13.9675C92.9009 14.2834 93.5422 14.726 94.5923 14.726C96.738 14.726 98.7009 12.9998 98.7009 9.18805C98.7009 5.69539 96.7169 3.79798 94.6103 3.79798C93.4345 3.79798 92.6749 4.35157 92.2607 4.73823L92.1044 3.99765H89.4632L89.4643 18L92.4636 17.3619L92.4699 13.9675ZM92.4604 7.04977C92.7731 6.70642 93.2052 6.45498 93.893 6.45498C94.9906 6.45498 95.746 7.68471 95.746 9.25355C95.746 10.8689 95.0022 12.0764 93.893 12.0764C93.1894 12.0764 92.7699 11.8229 92.4784 11.507L92.4604 7.04977Z",fill:"currentColor "}),a.a.createElement("path",{d:"M88.1384 3.99765H85.1275V14.5116H88.1384V3.99765Z",fill:"currentColor "}),a.a.createElement("path",{d:"M88.1384 0L85.1275 0.640216V3.08381L88.1384 2.4436V0Z",fill:"currentColor "}),a.a.createElement("path",{d:"M81.9169 14.5116V7.38361C82.6258 6.45287 83.8228 6.63247 84.2041 6.75607V3.99871C83.8048 3.85503 82.4029 3.59303 81.7003 4.88402L81.5123 3.99765H78.9187V14.5116H81.9169Z",fill:"currentColor "}),a.a.createElement("path",{d:"M77.764 11.8873C77.3805 12.0405 75.4873 12.5909 75.4873 10.8235V6.55535H77.765V3.99765H75.4873L75.4852 1.39242L72.5567 2.01573L72.5429 11.639C72.5429 13.415 73.8793 14.726 75.6595 14.726C76.6399 14.726 77.3646 14.5485 77.764 14.3288V11.8873Z",fill:"currentColor "}),a.a.createElement("path",{d:"M67.5353 14.726C70.0296 14.726 71.7485 13.4942 71.7485 11.3348C71.7485 9.11893 69.9887 8.52213 68.6494 8.0679C67.8265 7.78884 67.1624 7.56359 67.1624 7.04977C67.1624 6.58176 67.5532 6.40005 68.1818 6.40005C69.0936 6.40005 70.2525 6.67895 71.1653 7.17232V4.34628C70.1712 3.95011 69.1781 3.79798 68.184 3.79798C65.7509 3.79798 64.1293 5.0689 64.1293 7.19239C64.1293 9.19678 65.7908 9.79489 67.1078 10.269C67.9726 10.5803 68.6889 10.8382 68.6889 11.4056C68.6889 11.9602 68.2072 12.1398 67.5385 12.1398C66.5443 12.1398 65.2618 11.7288 64.255 11.1816V14.0457C65.3706 14.5253 66.501 14.726 67.5353 14.726Z",fill:"currentColor "}),a.a.createElement("path",{d:"M53.6936 15.0091H55.0723L58.2301 7.0159H56.7732L55.4283 10.6628L54.094 7.0159H52.6372L54.7607 12.3743L53.6936 15.0091Z",fill:"currentColor "}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48.368 12.1852C48.8117 12.5306 49.3019 12.7081 49.7794 12.7081C51.269 12.7081 52.2917 11.5069 52.2917 9.79545C52.2917 8.08292 51.269 6.88278 49.7794 6.88278C49.3019 6.88278 48.8117 7.06027 48.368 7.39411V4.58075H46.945V12.575H48.368V12.1852ZM48.368 8.60587C48.7008 8.27203 49.0906 8.10511 49.4794 8.10511C50.2802 8.10511 50.8359 8.79498 50.8359 9.79545C50.8359 10.7959 50.2802 11.4847 49.4794 11.4847C49.0906 11.4847 48.7008 11.3178 48.368 10.985V8.60587Z",fill:"currentColor "}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.7726 12.7081C40.2618 12.7081 40.7509 12.5306 41.1841 12.1852V12.575H42.6187V4.58075H41.1841V7.39411C40.7509 7.06027 40.2618 6.88278 39.7726 6.88278C38.2936 6.88278 37.2604 8.08292 37.2604 9.79545C37.2604 11.5069 38.2936 12.7081 39.7726 12.7081ZM40.0843 8.10511C40.4731 8.10511 40.8618 8.27203 41.1841 8.60587V10.985C40.8618 11.3178 40.4731 11.4847 40.0843 11.4847C39.2719 11.4847 38.7162 10.7959 38.7162 9.79545C38.7162 8.79498 39.2719 8.10511 40.0843 8.10511Z",fill:"currentColor "}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.4016 11.6073C33.4687 11.6073 32.801 11.0294 32.7123 10.1842H36.4807C36.5029 9.99512 36.5029 9.81764 36.5029 9.66128C36.5029 8.02799 35.514 6.88278 34.0572 6.88278C32.4672 6.88278 31.3114 8.07236 31.3114 9.75108C31.3114 11.4847 32.4894 12.7081 34.1681 12.7081C34.7914 12.7081 35.4253 12.5634 36.0581 12.275V11.0843C35.4802 11.4182 34.914 11.6073 34.4016 11.6073ZM32.7123 9.26194C32.7789 8.49494 33.3124 7.98256 34.0022 7.98256C34.6361 7.98256 35.0914 8.50551 35.1358 9.26194H32.7123Z",fill:"currentColor "}),a.a.createElement("path",{d:"M28.965 12.575V8.86154C29.3316 8.39458 29.8324 8.13892 30.2993 8.13892C30.4663 8.13892 30.6437 8.1611 30.799 8.20547V6.93772C30.6437 6.89335 30.4884 6.88278 30.3321 6.88278C29.8546 6.88278 29.3654 7.12683 28.965 7.5716V7.0159H27.542V12.575H28.965Z",fill:"currentColor "}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.306 11.6073C23.3721 11.6073 22.7055 11.0294 22.6167 10.1842H26.3851C26.4073 9.99512 26.4073 9.81764 26.4073 9.66128C26.4073 8.02799 25.4174 6.88278 23.9616 6.88278C22.3716 6.88278 21.2159 8.07236 21.2159 9.75108C21.2159 11.4847 22.3938 12.7081 24.0725 12.7081C24.6948 12.7081 25.3287 12.5634 25.9626 12.275V11.0843C25.3847 11.4182 24.8174 11.6073 24.306 11.6073ZM22.6167 9.26194C22.6833 8.49494 23.2168 7.98256 23.9056 7.98256C24.5395 7.98256 24.9959 8.50551 25.0403 9.26194H22.6167Z",fill:"currentColor "}),a.a.createElement("path",{d:"M16.5114 8.79498L17.6461 12.575H18.9244L20.825 7.0159H19.4019L18.2789 10.7959L17.1559 7.0159H15.867L14.744 10.7959L13.621 7.0159H12.1979L14.1101 12.575H15.3884L16.5114 8.79498Z",fill:"currentColor "}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.08205 9.79545C6.08205 11.4964 7.27163 12.7081 8.95035 12.7081C10.6291 12.7081 11.8081 11.4964 11.8081 9.79545C11.8081 8.08292 10.6291 6.88278 8.95035 6.88278C7.27163 6.88278 6.08205 8.08292 6.08205 9.79545ZM7.53891 9.79545C7.53891 8.77279 8.1168 8.07236 8.95035 8.07236C9.77333 8.07236 10.3512 8.77279 10.3512 9.79545C10.3512 10.8181 9.77333 11.5185 8.95035 11.5185C8.1168 11.5185 7.53891 10.8181 7.53891 9.79545Z",fill:"currentColor "}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.42305 9.8282H2.70137C4.2586 9.8282 5.37 8.82773 5.37 7.38249C5.37 5.93725 4.2586 4.92516 2.70137 4.92516H0V12.575H1.42305V9.8282ZM1.42305 6.08199H2.5017C3.32469 6.08199 3.90257 6.60494 3.90257 7.38249C3.90257 8.14948 3.32469 8.67243 2.5017 8.67243H1.42305V6.08199Z",fill:"currentColor "}))}},774:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.CameraOnly="CameraOnly",e.Any="Any"}(r||(r={}))},775:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Dropdown="dropdown",e.Inline="inline"}(r||(r={}))},779:function(e,t,n){"use strict";n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return w})),n.d(t,"n",(function(){return S})),n.d(t,"k",(function(){return E})),n.d(t,"a",(function(){return M})),n.d(t,"f",(function(){return R})),n.d(t,"m",(function(){return D})),n.d(t,"d",(function(){return T})),n.d(t,"l",(function(){return P}));var r=n(16),i=n(22);function a(){var e=Object(r.a)(["\n    display: flex;\n    height: 100%;\n"]);return a=function(){return e},e}function o(){var e=Object(r.a)(["\n    position: absolute;\n\n    top: 0;\n    height: 100%;\n    left: calc(calc(100% / ",") * ",");\n    width: calc(100% / ",");\n\n    .bar-color-inner {\n        position: absolute;\n\n        bottom: ","%;\n        top: ",'%;\n        width: max(2px, calc(100% - 2px));\n        left: 0;\n\n        content: "";\n\n        background-color: ',";\n        border-radius: 2px;\n    }\n\n    & .bar-color-inner.active {\n        background-color: ","33;\n    }\n\n    && .bar-color-inner.hover {\n        background-color: ",";\n    }\n"]);return o=function(){return e},e}function c(){var e=Object(r.a)(["\n    width: 100%;\n\n    margin-top: 8px;\n    padding-right: 8px;\n\n    text-align: center;\n    ",";\n    font-size: 10px; // fixme\n    color: ",";\n\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n    position: absolute;\n\n    height: 30px;\n    width: 100%;\n\n    bottom: -30px;\n"]);return u=function(){return e},e}function l(){var e=Object(r.a)(["\n    position: relative;\n\n    height: 100%;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    flex-grow: 1;\n    margin-right: 8px;\n"]);return l=function(){return e},e}function s(){var e=Object(r.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: flex-end;\n    flex-grow: 1;\n\n    padding-top: 30px;\n    padding-left: 8px;\n"]);return s=function(){return e},e}function d(){var e=Object(r.a)(["\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n\n    flex-shrink: 1;\n"]);return d=function(){return e},e}function f(){var e=Object(r.a)(["\n    ",";\n"]);return f=function(){return e},e}function p(){var e=Object(r.a)(["\n    display: flex;\n    align-items: center;\n\n    flex-grow: 1;\n    width: 1px;\n"]);return p=function(){return e},e}function v(){var e=Object(r.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    padding: 0 12px;\n    width: 100%;\n\n    color: ",";\n"]);return v=function(){return e},e}function h(){var e=Object(r.a)(["\n    position: absolute;\n    z-index: 10;\n\n    width: calc(100% - 24px);\n    height: 40px;\n\n    top: 8px;\n    margin-left: 24px;\n\n    box-shadow: 1px 1px 1px ",";\n    background-color: ",";\n    border-radius: 8px;\n\n    display: flex;\n    align-items: center;\n\n    pointer-events: none;\n"]);return h=function(){return e},e}function b(){var e=Object(r.a)(["\n    .value-separator {\n        height: 30px;\n        width: 100%;\n        line-height: 29px;\n\n        display: flex;\n        align-items: flex-end;\n\n        ",";\n        color: ",';\n\n        ::after {\n            content: "";\n            position: absolute;\n\n            width: 100%;\n            height: 1px;\n\n            background-color: ',";\n        }\n    }\n"]);return b=function(){return e},e}function m(){var e=Object(r.a)(["\n    position: relative;\n\n    height: 210px;\n\n    display: flex;\n\n    margin: 0 ","px;\n    margin-bottom: ",";\n"]);return m=function(){return e},e}function g(){var e=Object(r.a)(["\n    display: flex;\n    flex-direction: column;\n\n    padding: 12px 0;\n"]);return g=function(){return e},e}var O=i.i.div(g()),y=i.i.div(m(),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.showLabel?"34px":"16px"})),j=i.i.div(b(),(function(e){return e.theme.fontStyles.Body6}),(function(e){return e.theme.fgColorMedium}),(function(e){return e.theme.separatorColor})),k=i.i.div(h(),(function(e){return e.theme.separatorColor}),(function(e){return e.theme.fgColorOpaque})),x=i.i.div(v(),(function(e){return e.theme.baseColor})),C=i.i.div(p()),w=i.i.div(f(),(function(e){return e.theme.fontStyles.Body4})),S=i.i.div(d()),E=i.i.div(s()),M=i.i.div(l()),R=i.i.div(u()),D=i.i.div(c(),(function(e){return e.theme.fontStyles.Body6}),(function(e){return e.theme.fgColorMedium})),T=i.i.div(o(),(function(e){return e.numberOfItems}),(function(e){return e.itemIndex}),(function(e){return e.numberOfItems}),(function(e){return 100*e.bottom}),(function(e){return 100*e.top}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color})),P=i.i.div(a())},815:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g}));var r=n(20),i=n(4),a=n(5),o=n(1020),c=n(14),u=n(3),l=n(105);function s(e){return"0123456789".indexOf(e)>=0}function d(e){return Object(u.ub)(o.a.isAlphabetic(e.charCodeAt(0)))||s(e)}var f=function(){function e(t){Object(i.a)(this,e),this._s=t,this._index=0}return Object(a.a)(e,[{key:"consumeChar",value:function(){this._index+=1}},{key:"getChar",value:function(){return this._s[this._index]}},{key:"skipWhitespace",value:function(){for(;;){var e=this.getChar();if(void 0===e||"\n"!==e&&!Object(u.ub)(o.a.isWhiteSpace(e.charCodeAt(0))))break;this.consumeChar()}}},{key:"getTokenStartingAt",value:function(e,t){void 0===t&&(t=this._index);var n=t-e;return Object(u.d)(n>0),{length:n,s:this._s.substr(e,n)}}},{key:"scanNumber",value:function(e,t){for(var n="."===t,r=!n;;){var i=this.getChar();if(void 0===i)break;if("."===i){if(n)break;n=!0,this.consumeChar()}else{if(!s(i))break;r=!0,this.consumeChar()}}var a=this.getTokenStartingAt(e),o=a.length,c=a.s;return r?{kind:"number",index:e,length:o,value:parseFloat(c)}:{kind:"error",index:e,length:o,message:"This decimal point needs a number to go with it"}}},{key:"scanIdentifier",value:function(e){for(var t;;){var n=this.getChar();if(void 0===n){t=this._index;break}if(d(n))this.consumeChar();else{if(t=this._index,this.skipWhitespace(),void 0===(n=this.getChar()))break;if(!d(n))break}}var r=this.getTokenStartingAt(e,t);return{kind:"identifier",index:e,length:r.length,name:r.s}}},{key:"nextToken",value:function(){this.skipWhitespace();var e=this._index,t=this.getChar();switch(t){case void 0:return;case"(":case")":case",":case"+":case"-":case"*":case"/":case"^":return this.consumeChar(),{kind:t,index:e,length:1};default:return"."===t||s(t)?(this.consumeChar(),this.scanNumber(e,t)):Object(u.ub)(o.a.isAlphabetic(t.charCodeAt(0)))?(this.consumeChar(),this.scanIdentifier(e)):{kind:"error",index:e,length:0,message:'The character "'.concat(t,'" is not valid in a formula')}}}},{key:"index",get:function(){return this._index}}]),e}();function p(e){var t="",n=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var l=a.value;(Object(u.ub)(o.a.isAlphabetic(l.charCodeAt(0)))||s(l))&&(""===t&&s(l)||(t+=l))}}catch(d){r=!0,i=d}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}if(0!==t.length)return t}var v={[c.d.Add]:{kind:"+",precedence:1},[c.d.Subtract]:{kind:"-",precedence:1},[c.d.Multiply]:{kind:"*",precedence:2},[c.d.Divide]:{kind:"/",precedence:2},[c.d.Modulo]:{kind:"fn",fn:"mod"},[c.d.Minimum]:{kind:"fn",fn:"min"},[c.d.Maximum]:{kind:"fn",fn:"max"},[c.d.Power]:{kind:"^",precedence:3},[c.d.Logarithm]:{kind:"fn",fn:"log"},[c.d.ArcTangent2]:{kind:"fn",fn:"atan2"},[c.d.Round]:{kind:"fn",fn:"round"},[c.d.Truncate]:{kind:"fn",fn:"trunc"}},h={[c.s.Negate]:{kind:"-",precedence:4},[c.s.Absolute]:{kind:"fn",fn:"abs"},[c.s.Floor]:{kind:"fn",fn:"floor"},[c.s.Ceiling]:{kind:"fn",fn:"ceiling"},[c.s.Round]:{kind:"fn",fn:"round"},[c.s.Sign]:{kind:"fn",fn:"sign"},[c.s.Truncate]:{kind:"fn",fn:"trunc"},[c.s.Sine]:{kind:"fn",fn:"sin"},[c.s.Cosine]:{kind:"fn",fn:"cos"},[c.s.Tangent]:{kind:"fn",fn:"tan"},[c.s.ArcSine]:{kind:"fn",fn:"asin"},[c.s.ArcCosine]:{kind:"fn",fn:"acos"},[c.s.ArcTangent]:{kind:"fn",fn:"atan"},[c.s.Year]:{kind:"fn",fn:"year"},[c.s.Month]:{kind:"fn",fn:"month"},[c.s.Day]:{kind:"fn",fn:"day"},[c.s.Hour]:{kind:"fn",fn:"hour"},[c.s.Minute]:{kind:"fn",fn:"minute"},[c.s.Second]:{kind:"fn",fn:"second"},[c.s.Weekday]:{kind:"fn",fn:"weekday"},[c.s.WeekNumber]:{kind:"fn",fn:"weeknum"}};function b(e){var t=!0,n=!1,r=void 0;try{for(var i,a=Object.keys(v)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(v[o].kind===e)return o}}catch(c){n=!0,r=c}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return Object(u.hb)("Binary operator not found: ".concat(e))}function m(e){var t,n,i=new f(e),a=i.nextToken(),o=new Map;function l(){return a=i.nextToken()}function s(e,r){t=e,n=r}function d(e,t,n,i){var a=!0,o=!1,l=void 0;try{for(var d,f=Object(u.M)(v)[Symbol.iterator]();!(a=(d=f.next()).done);a=!0){var p=Object(r.a)(d.value,2),h=p[0],b=p[1];if(void 0!==b&&"fn"===b.kind&&b.fn===t)return 2!==n.length?s(i,'The "'.concat(e,'" function takes two arguments')):{kind:c.g.BinaryMath,fn:h,left:n[0],right:n[1]}}}catch(m){o=!0,l=m}finally{try{a||null==f.return||f.return()}finally{if(o)throw l}}}function p(e,t,n,i){var a=!0,o=!1,l=void 0;try{for(var d,f=Object(u.M)(h)[Symbol.iterator]();!(a=(d=f.next()).done);a=!0){var p=Object(r.a)(d.value,2),v=p[0],b=p[1];if(void 0!==b&&"fn"===b.kind&&b.fn===t)return 1!==n.length?s(i,'The "'.concat(e,'" function takes one argument')):{kind:c.g.UnaryMath,fn:v,operand:n[0]}}}catch(m){o=!0,l=m}finally{try{a||null==f.return||f.return()}finally{if(o)throw l}}}function m(){if(void 0===a)return s(i.index,"There's something missing");switch(a.kind){case"error":return s(a.index,a.message);case"identifier":var e=a.index,t=a.name,n=t.toLowerCase(),r=l();if(void 0!==r&&"("===r.kind){for(var f=[];;){r=l();var v=j();if(void 0===v)return;if(f.push(v),void 0===(r=a)||","!==r.kind&&")"!==r.kind)return s(i.index,'There should be a "," or a ")"');if(")"===r.kind){l();break}if(","!==r.kind)return Object(u.e)(r.kind)}return function(e,t,n,r){var i;if("round"===t||"trunc"===t)return 1===n.length?p(e,t,n,r):2===n.length?d(e,t,n,r):s(r,'The "'.concat(e,'" function takes one or two arguments'));var a=null!==(i=d(e,t,n,r))&&void 0!==i?i:p(e,t,n,r);return void 0===a?s(r,'"'.concat(e,'" is not a function')):a}(t,n,f,e)}var h=o.get(n);return void 0===h&&(h=t,o.set(n,h)),{kind:c.g.GetVariable,name:h};case"number":var b=a.value;return l(),{kind:c.g.Constant,value:b};case"(":l();var g=j();if(void 0!==g&&(y=")",!(void 0===a?(s(i.index,"There's a ".concat(y," missing")),0):"error"===a.kind?(s(a.index,a.message),0):a.kind!==y?(s(a.index,"There should be a ".concat(y)),0):(l(),1))))return;return g;case"-":l();var O=m();if(void 0===O)return;return{kind:c.g.UnaryMath,fn:c.s.Negate,operand:O};default:return s(a.index,'There should be a number, name, or "("')}var y}function g(e,t){var n=e();if(void 0!==n){for(;void 0!==a&&t.indexOf(a.kind)>=0;){var r=a.kind;l();var i=e();if(void 0===i)return;n={kind:c.g.BinaryMath,fn:b(r),left:n,right:i}}return n}}var O=function(){return g(m,["^"])},y=function(){return g(O,["*","/"])},j=function(){return g(y,["+","-"])};var k=function(){var e=j();if(void 0!==e)return void 0!==a?"error"===a.kind?s(a.index,a.message):s(a.index,'There should be a "+", "-", "*", "/", or "^"'):e}();return void 0===k?{success:!1,message:Object(u.n)(n),index:Object(u.n)(t)}:{success:!0,formula:{kind:c.g.WithUserEnteredText,text:e,formula:k},variableNames:Array.from(o.values())}}function g(e){return function e(t,n){switch(t.kind){case c.g.GetVariable:return t.name;case c.g.Constant:if("number"!==typeof t.value)return;return Object(l.b)(t.value);case c.g.UnaryMath:var r=h[t.fn];if("fn"===r.kind){var i=e(t.operand,0);if(void 0===i)return;return r.fn+"("+i+")"}var a=r.kind,o=r.precedence,u=e(t.operand,o);if(void 0===u)return;return a+u;case c.g.BinaryMath:var s=v[t.fn];if("fn"===s.kind){var d=e(t.left,0),f=e(t.right,0);if(void 0===d||void 0===f)return;return s.fn+"("+d+","+f+")"}var p=s.kind,b=s.precedence,m=e(t.left,b),g=e(t.right,b);if(void 0===m||void 0===g)return;var O=m+p+g;return n<=b?O:"("+O+")";case c.g.WithUserEnteredText:return t.text;default:return}}(e,0)}},822:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Alert="alert",e.Blip="blip",e.CalmThought="calm-thought",e.CloseEncounters="close-encounters",e.Hint="hint",e.NewThought="new-thought",e.Ping="ping",e.Sonar="sonar"}(r||(r={}))},823:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(20);function i(e,t,n){var i=Object(r.a)(e,2),a=i[0],o=i[1],c=Object(r.a)(t,2),u=c[0],l=c[1],s=Object(r.a)(n,2),d=u-a,f=l-o,p=s[0]-u,v=s[1]-l;return{width:Math.sqrt(d*d+f*f),height:Math.sqrt(p*p+v*v),angle:d<0?Math.PI+Math.atan(f/d):Math.atan(f/d)}}function a(e,t,n,a){var o=i(t,n,a),c=o.width,u=o.height,l=function(e,t,n){var i=Object(r.a)(e,2),a=i[0],o=i[1],c=Object(r.a)(n,2),u=a-c[0],l=o-c[1];return[Math.cos(t)*u-Math.sin(t)*l,Math.sin(t)*u+Math.cos(t)*l]}(e,-o.angle,t),s=Object(r.a)(l,2),d=s[0],f=s[1];return 0<=d&&d<c&&(u<0?u<f&&f<=0:0<=f&&f<u)}function o(e,t){if(e.width/e.height>t.width/t.height){var n=t.width/e.width,r=t.width,i=e.height*n;return{x:0,y:(t.height-i)/2,width:r,height:i,scale:n}}var a=t.height/e.height,o=e.width*a,c=t.height;return{x:(t.width-o)/2,y:0,width:o,height:c,scale:a}}},824:function(e,t,n){"use strict";function r(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes())}function i(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},825:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Two="2",e.Three="3",e.Four="4"}(r||(r={}))},826:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b}));var r=n(4),i=n(5),a=n(9),o=n(21),c=n(13),u=n(720),l=n(130),s=n(594),d=n(597);var f;!function(e){e.Default="default",e.Small="small",e.Medium="medium",e.Large="large"}(f||(f={}));var p=[{value:f.Default,label:"Default"},{value:f.Small,label:"Small"},{value:f.Medium,label:"Medium"},{value:f.Large,label:"Large"}],v=new d.f({showLine:!0},"Show line divider",s.a.Options),h=new d.c({size:f.Default},"Spacing","Spacing",p,s.a.Options,"dropdown"),b=function(e){Object(a.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(c.a)(e);if(t()){var i=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}(n);function n(){return Object(r.a)(this,n),t.call(this,{kind:"separator",name:"Separator",group:"Layout",description:"A horizontal line",img:"componentSeparator",uiClass:l.lb,helpPath:"separator"})}return Object(i.a)(n,[{key:"getPropertyDescriptors",value:function(){return[{descriptor:h,argumentName:"spacing"},{descriptor:v,argumentName:"showLine"}]}},{key:"needsColumns",get:function(){return!1}}]),n}(u.a)},834:function(e,t,n){"use strict";var r=n(2),i=n.n(r),a=n(8),o=n(4),c=n(5),u=n(9),l=n(21),s=n(13),d=n(0),f=n.n(d),p=n(24),v=n(262),h=n.n(v),b=n(3),m=n(28),g=n(10),O=n(16),y=n(22),j=n(96),k=n(736),x=n(205);function C(){var e=Object(O.a)([""]);return C=function(){return e},e}function w(){var e=Object(O.a)([""]);return w=function(){return e},e}function S(){var e=Object(O.a)(["\n        border-top-left-radius: ",";\n        border-top-right-radius: ",";\n        border-bottom-left-radius: ",";\n        border-bottom-right-radius: ",";\n    "]);return S=function(){return e},e}function E(){var e=Object(O.a)(["\n            border-radius: ",";\n        "]);return E=function(){return e},e}function M(){var e=Object(O.a)(["\n    width: ","px;\n    height: ","px;\n    border-radius: ",";\n    color: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: ",";\n    min-width: ","px;\n\n    margin-left: ","px;\n    ","\n\n    flex-shrink: 0;\n"]);return M=function(){return e},e}function R(){var e=Object(O.a)(["\n    display: flex;\n    -webkit-touch-callout: default;\n\n    z-index: 2;\n\n    color: inherit;\n    :hover {\n        color: inherit;\n        text-decoration: none;\n    }\n"]);return R=function(){return e},e}function D(){var e=Object(O.a)(["\n    position: relative;\n    padding: ","px ","px\n        ","px ","px;\n    transition: background-color 250ms ease-out;\n    display: flex;\n    align-items: center;\n\n    &.no-left-pad {\n        padding-left: 0;\n    }\n\n    min-height: ","rem;\n\n    .builder &.interactive:hover {\n        background-color: ",";\n        cursor: pointer;\n    }\n\n    &.touched {\n        background-color: ",";\n    }\n\n    & .topItem {\n        margin-bottom: 2px;\n    }\n\n    & .textContainer {\n        text-decoration: none;\n        flex-grow: 1;\n        flex-shrink: 1;\n        width: 1px;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n    }\n\n    & .horizontalTextContainer {\n        text-decoration: none;\n        flex-grow: 1;\n        flex-shrink: 1;\n        width: 1px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n\n        > .textStyle {\n            margin-right: 8px;\n        }\n\n        > * {\n            margin-bottom: 0;\n        }\n    }\n\n    & .textStyle {\n        ",";\n        color: ",";\n\n        ","\n    }\n\n    & .textDetailStyle {\n        ",";\n        color: ",";\n        margin-right: -8px;\n        font-size: 16px;\n\n        ","\n        min-width: 17px;\n    }\n\n    & .textDetailStyle.emoji {\n        flex-shrink: 0;\n    }\n\n    &.normal-weight .textStyle {\n        ",";\n    }\n\n    &.allow-wrapping .textStyle,\n    &.allow-wrapping .textDetailStyle {\n        ","\n    }\n\n    & .textCaptionStyle {\n        ",";\n        color: ",";\n\n        text-align: ",";\n\n        ","\n\n        margin-top: 4px;\n    }\n\n    & .imageBaseStyle {\n        ","\n\n        background-color: ",";\n        object-fit: cover;\n        margin-right: ","px;\n        margin-left: 0px;\n    }\n\n    &.move-image-right .imageBaseStyle {\n        margin-right: 0px;\n        margin-left: ","px;\n    }\n\n    & .initialsStyle {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        ",";\n        // TODO move these colors into the theme\n        color: ",";\n        background-color: ",";\n\n        ","\n    }\n\n    & .navigationIcon {\n        color: ",";\n        width: 24px;\n        height: 24px;\n        min-width: 24px;\n\n        transform: translateX(8px);\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    & .emojiImageStyle {\n        height: ","px;\n        width: ","px;\n\n        margin-right: ","px;\n\n        flex-shrink: 0;\n    }\n\n    & .ali-accessory-topright {\n        position: absolute;\n        top: 0;\n        right: 0;\n\n        background-color: ",';\n    }\n\n    &.separator {\n        :after {\n            content: "";\n            position: absolute;\n            bottom: 0;\n            height: 1px;\n            left: ',"px;\n            right: ","px;\n            background-color: ",";\n        }\n    }\n"]);return D=function(){return e},e}function T(){var e=Object(O.a)(["\n    height: ","px;\n    width: ","px;\n\n    flex-shrink: 0;\n\n    // This prevents ListItemTextContentStyle from stealing width\n    min-width: ","px;\n\n    ",";\n"]);return T=function(){return e},e}function P(){var e=Object(O.a)(["\n    text-overflow: inherit;\n    white-space: normal;\n    word-break: break-word;\n    overflow: visible;\n"]);return P=function(){return e},e}function I(){var e=Object(O.a)(["\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n"]);return I=function(){return e},e}function _(){var e=Object(O.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n"]);return _=function(){return e},e}function N(){var e=Object(O.a)(["\n    background-color: ",";\n    border-radius: 4px;\n\n    width: ",";\n    height: ",";\n    margin-bottom: ","px;\n"]);return N=function(){return e},e}var A=function(e){var t=e.str;return d.createElement("svg",{viewBox:"0 0 20 20"},d.createElement("text",{x:"0.25",y:"15"},t))},F=y.i.div(N(),(function(e){return e.theme.skeletonColor}),(function(e){return void 0!==e.width?e.width:"100%"}),(function(e){return void 0!==e.height?e.height:"100%"}),(function(e){return void 0!==e.marginBottom?e.marginBottom:"0"})),L=y.i.a(_()),B=Object(p.css)(I()),V=Object(p.css)(P()),U=function(e,t){return Object(p.css)(T(),t.listItem.mainImage.height,t.listItem.mainImage.width,t.listItem.mainImage.width,K(e,t))},z=y.i.div(D(),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.componentSmallInnerVerticalPadding}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.minHeight/16}),(function(e){return e.theme.listItem.selectedColor}),(function(e){return e.theme.listItem.selectedColor}),(function(e){return e.theme.listItem.titleFontStyle}),(function(e){return e.theme.fgColorDark}),B,(function(e){return e.theme.listItem.detailFontStyle}),(function(e){return e.theme.fgColorMedium}),B,(function(e){return e.theme.fontStyles.Body4}),V,(function(e){return e.theme.listItem.captionFontStyle}),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.listItem.captionAlign}),B,(function(e){return U(e.customCorners,e.theme)}),(function(e){return e.theme.skeletonColor}),(function(e){return e.theme.listItem.mainImage.marginRight}),(function(e){return e.theme.listItem.mainImage.marginRight}),(function(e){return e.theme.listItem.initialsFontStyle}),(function(e){return Object(j.c)(e.theme)}),(function(e){return Object(j.b)(e.theme)}),(function(e){return U(e.customCorners,e.theme)}),(function(e){return e.theme.fgColorLight}),(function(e){return e.theme.listItem.mainImage.height}),(function(e){return e.theme.listItem.mainImage.width}),(function(e){return e.theme.listItem.mainImage.marginRight}),(function(e){return e.theme.baseColor}),(function(e){return e.theme.listItem.underlineLeft}),(function(e){return e.theme.listItem.underlineRight}),(function(e){return e.theme.separatorColor})),W=y.i.a(R()),H=y.i.div(M(),(function(e){return e.theme.listItem.actionImage.width}),(function(e){return e.theme.listItem.actionImage.height}),(function(e){return e.theme.listItem.actionImage.borderRadius}),(function(e){return e.theme.primaryAccentColor}),(function(e){return e.theme.primaryAccentColor+"1e"}),(function(e){return e.theme.listItem.actionImage.width}),(function(e){return e.theme.listItem.actionImage.margin}),(function(e){return!e.isLast&&"margin-right: "+e.theme.listItem.actionImage.margin+"px;"})),K=function(e,t){if(void 0===e)return Object(p.css)(E(),t.listItem.mainImage.borderRadius);var n=Object(g.a)({},e);return void 0===n.topLeft&&(n.topLeft=t.listItem.mainImage.borderRadius),void 0===n.topRight&&(n.topRight=t.listItem.mainImage.borderRadius),void 0===n.bottomLeft&&(n.bottomLeft=t.listItem.mainImage.borderRadius),void 0===n.bottomRight&&(n.bottomRight=t.listItem.mainImage.borderRadius),Object(p.css)(S(),Object(k.isNumber)(n.topLeft)?n.topLeft+"px":n.topLeft,Object(k.isNumber)(n.topRight)?n.topRight+"px":n.topRight,Object(k.isNumber)(n.bottomLeft)?n.bottomLeft+"px":n.bottomLeft,Object(k.isNumber)(n.bottomRight)?n.bottomRight+"px":n.bottomRight)},q=Object(y.i)(x.a)(w()),G=Object(y.i)(q)(C()),J=n(129),Z=n(62),X=n(36),Y={overlayName:"LargeListItemOverlay",listItem:{defaultRowHeight:86,underlineLeft:Object(X.a)("pageMarginMedium"),underlineRight:Object(X.a)("pageMarginMedium"),mainImage:{width:62,height:62,borderRadius:"4px"}}},Q={overlayName:"BigCaptionListItem",listItem:{captionFontStyle:Object(X.a)("fontStyles.Body4"),captionAlign:"right"}},$=n(631),ee={overlayName:"SmallListItemOverlay",listItem:{defaultRowHeight:48,initialsFontSize:20,mainImage:{width:32,height:32},actionImage:{width:32,height:32}}},te=n(148),ne=n(25),re=n(7),ie=n(184),ae=n(12),oe=n(254),ce=n(152),ue=n(762),le=n(20);function se(){var e=Object(O.a)(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n\n    & > .etps-ContentContainer {\n        position: absolute;\n\n        pointer-events: none;\n    }\n\n    & > .etps-ContentContainer > * {\n        pointer-events: auto;\n    }\n"]);return se=function(){return e},e}var de=y.i.div(se()),fe=n(68),pe=n(48);function ve(e){for(var t=0,n=0,r=e;null!==r;)t+=r.offsetLeft,n+=r.offsetTop,t-=r.scrollLeft,n-=r.scrollTop,r=r.parentElement;return[t,n]}var he=function(e){Object(u.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(s.a)(e);if(t()){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={touchStarted:!1},e.onClick=function(t){e.props.onClose&&e.state.touchStarted&&e.props.onClose(),t.stopPropagation()},e.onTouchStart=function(){e.setState({touchStarted:!0})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.targetRef,n=e.children;if(null===t.current)return null;if(null===document.getElementById(fe.b))return null;var r=document.getElementById(fe.a);if(null===r)return null;var i=ve(r),a=Object(le.a)(i,2),o=a[0],c=a[1],u=ve(t.current),l=Object(le.a)(u,2),s=l[0],f=l[1],p=t.current.clientWidth,v=t.current.clientHeight,h=s-o,b=f-c,m={width:p,height:v,left:h,top:b};return Object(pe.createPortal)(d.createElement(de,{onClick:this.onClick,onTouchStart:this.onTouchStart,onMouseDown:this.onTouchStart},d.createElement("div",{className:"etps-ContentContainer",style:m},n({rootWidth:r.clientWidth,rootHeight:r.clientHeight,targetX:h,targetY:b,targetWidth:p,targetHeight:v}))),r)}}]),n}(d.PureComponent);function be(){var e=Object(O.a)(["\n                --right-bubble-color: ",";\n                color: ",";\n            "]);return be=function(){return e},e}function me(){var e=Object(O.a)(["\n                --left-bubble-color: ",";\n                color: ",";\n            "]);return me=function(){return e},e}function ge(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: row;\n\n    .lpab-left-side-wrapper {\n        --left-bubble-color: ",";\n\n        ",";\n\n        flex-flow: row-reverse;\n        justify-content: start;\n        border-right: 0.5px solid ",";\n    }\n\n    .lpab-right-side-wrapper {\n        --right-bubble-color: ",";\n\n        ",";\n\n        justify-content: start;\n        border-left: 0.5px solid ",";\n    }\n\n    .lpab-left-top-triangle {\n        width: 6px;\n        border-left: 6px solid transparent;\n        border-bottom: 6px solid var(--left-bubble-color);\n    }\n\n    .lpab-right-top-triangle {\n        width: 6px;\n        border-right: 6px solid transparent;\n        border-bottom: 6px solid var(--right-bubble-color);\n    }\n\n    .lpab-left-bottom-triangle {\n        width: 6px;\n        border-left: 6px solid transparent;\n        border-top: 6px solid var(--left-bubble-color);\n    }\n\n    .lpab-right-bottom-triangle {\n        width: 6px;\n        border-right: 6px solid transparent;\n        border-top: 6px solid var(--right-bubble-color);\n    }\n\n    .lpab-left-triangle-container {\n        display: flex;\n        flex-direction: column;\n        flex-flow: row-reverse;\n    }\n\n    .lpab-right-triangle-container {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .lpab-bubble-left {\n        border-radius: 6px 0px 0px 6px;\n        background-color: var(--left-bubble-color);\n    }\n\n    .lpab-bubble-right {\n        border-radius: 0px 6px 6px 0px;\n        background-color: var(--right-bubble-color);\n    }\n"]);return ge=function(){return e},e}function Oe(){var e=Object(O.a)(["\n            --bubble-color: ",";\n            color: ",";\n        "]);return Oe=function(){return e},e}function ye(){var e=Object(O.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    --bubble-color: ",";\n    ","\n\n    .lpab-bottom-triangle {\n        width: 0;\n        height: 0;\n        border-left: 6px solid transparent;\n        border-right: 6px solid transparent;\n        border-top: 6px solid var(--bubble-color);\n    }\n\n    .lpab-top-triangle {\n        width: 0;\n        height: 0;\n        border-left: 6px solid transparent;\n        border-right: 6px solid transparent;\n        border-bottom: 6px solid var(--bubble-color);\n    }\n\n    .lpab-bubble-full {\n        border-radius: 6px;\n        background-color: var(--bubble-color);\n    }\n"]);return ye=function(){return e},e}function je(){var e=Object(O.a)(["\n    user-select: none;\n\n    position: absolute;\n    ","\n    height: ","px;\n    left: 50%;\n    transform: translateX(-50%);\n\n    max-width: 80%;\n    animation-duration: 190ms;\n    animation-name: lpab-showup;\n    animation-timing-function: cubic-bezier(0.6, 0.78, 0.12, 1.55);\n    animation-fill-mode: forwards;\n\n    color: ",";\n\n    @keyframes lpab-showup {\n        0% {\n            opacity: 0;\n            transform: translateX(-50%) scale(0.67);\n        }\n        100% {\n            opacity: 1;\n            transform: translateX(-50%) scale(1);\n        }\n    }\n\n    .lpab-message {\n        display: block;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n\n    .lpab-bubble-general {\n        padding-left: ","px;\n        padding-right: ","px;\n        -webkit-tap-highlight-color: transparent;\n\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-content: center;\n\n        ","\n\n        height: 42px;\n        max-width: 100%;\n    }\n"]);return je=function(){return e},e}var ke=y.i.div(je(),(function(e){return e.isAbove?"bottom: 100%;":"top: 100%;"}),48,(function(e){return e.theme.baseColor}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.pageMarginMedium}),(function(e){return e.theme.fontStyles.Body5})),xe=Object(y.i)(ke)(ye(),(function(e){return e.theme.fgColorOpaque}),(function(e){return e.hover&&Object(y.f)(Oe(),(function(e){return e.theme.listItem.selectedColorOpaque}),(function(e){return e.theme.fgColorOpaque}))})),Ce=Object(y.i)(ke)(ge(),(function(e){return e.theme.fgColorOpaque}),(function(e){return e.leftHover&&Object(y.f)(me(),(function(e){return e.theme.listItem.selectedColorOpaque}),(function(e){return e.theme.fgColorOpaque}))}),(function(e){return e.theme.baseColor}),(function(e){return e.theme.fgColorOpaque}),(function(e){return e.rightHover&&Object(y.f)(be(),(function(e){return e.theme.listItem.selectedColorOpaque}),(function(e){return e.theme.fgColorOpaque}))}),(function(e){return e.theme.baseColor}));var we=function(e){Object(u.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(s.a)(e);if(t()){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={leftHover:!1,rightHover:!1},e.onLeftClick=function(t){t.preventDefault(),t.stopPropagation(),e.props.onLeftClick()},e.onLeftEnter=function(){e.state.leftHover||e.setState({leftHover:!0})},e.onLeftLeave=function(){e.state.leftHover&&e.setState({leftHover:!1})},e.onRightClick=function(t){t.preventDefault(),t.stopPropagation(),e.props.onRightClick()},e.onRightEnter=function(){e.state.rightHover||e.setState({rightHover:!0})},e.onRightLeave=function(){e.state.rightHover&&e.setState({rightHover:!1})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.leftLabel,r=t.rightLabel,i=t.target,a=t.onClose;return f.a.createElement(he,{targetRef:i,onClose:a},(function(t){var i=t.targetY<150?"below":"above";return f.a.createElement(Ce,{leftHover:e.state.leftHover,rightHover:e.state.rightHover,isAbove:"above"===i},f.a.createElement("div",{className:"lpab-wrapper lpab-left-side-wrapper"},"below"===i&&f.a.createElement("div",{className:"lpab-left-triangle-container"},f.a.createElement("div",{className:"lpab-left-top-triangle"})),f.a.createElement("div",{className:"lpab-bubble-general lpab-bubble-left",onMouseEnter:e.onLeftEnter,onTouchStart:e.onLeftEnter,onMouseLeave:e.onLeftLeave,onTouchEnd:e.onLeftLeave,onTouchCancel:e.onLeftLeave,onClick:e.onLeftClick},f.a.createElement("div",{className:"lpab-message"},n)),"above"===i&&f.a.createElement("div",{className:"lpab-left-triangle-container"},f.a.createElement("div",{className:"lpab-left-bottom-triangle"}))),f.a.createElement("div",{className:"lpab-wrapper lpab-right-side-wrapper"},"below"===i&&f.a.createElement("div",{className:"lpab-right-triangle-container"},f.a.createElement("div",{className:"lpab-right-top-triangle"})),f.a.createElement("div",{className:"lpab-bubble-general lpab-bubble-right",onMouseEnter:e.onRightEnter,onTouchStart:e.onRightEnter,onMouseLeave:e.onRightLeave,onTouchEnd:e.onRightLeave,onTouchCancel:e.onRightLeave,onClick:e.onRightClick},f.a.createElement("div",{className:"lpab-message"},r)),"above"===i&&f.a.createElement("div",{className:"lpab-right-triangle-container"},f.a.createElement("div",{className:"lpab-right-bottom-triangle"}))))}))}}]),n}(f.a.PureComponent);var Se=function(e){Object(u.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(s.a)(e);if(t()){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={hover:!1},e.onClick=function(t){t.preventDefault(),t.stopPropagation(),e.props.onClick()},e.onEnter=function(){e.state.hover||e.setState({hover:!0})},e.onLeave=function(){e.state.hover&&e.setState({hover:!1})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.target,i=t.onClose;return f.a.createElement(he,{targetRef:r,onClose:i},(function(t){var r=t.targetY<150?"below":"above";return f.a.createElement(xe,{hover:e.state.hover,isAbove:"above"===r,className:"lpab-wrapper"},"below"===r&&f.a.createElement("div",{className:"lpab-top-triangle"}),f.a.createElement("div",{className:"lpab-bubble-general lpab-bubble-full",onClick:e.onClick,onMouseEnter:e.onEnter,onTouchStart:e.onEnter,onMouseLeave:e.onLeave,onTouchEnd:e.onLeave,onTouchCancel:e.onLeave},f.a.createElement("div",{className:"lpab-message"},n)),"above"===r&&f.a.createElement("div",{className:"lpab-bottom-triangle"}))}))}}]),n}(f.a.PureComponent),Ee=n(763),Me=n(32),Re=n(46),De=n.n(Re),Te=n(764),Pe=n(765);var Ie=function(e){Object(u.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(s.a)(e);if(t()){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).isLink=!1,r.href=void 0,r.hrefIsBrowsable=!1,r.wrapperRef=d.createRef(),r.onTouchStart=function(e){void 0!==r.props.onTouchChanged&&r.props.onTouchChanged(!0)},r.onTouchEnd=function(e){void 0!==r.props.onTouchChanged&&r.props.onTouchChanged(!1)},r.onClick=function(e){void 0!==r.props.onClick&&r.props.onClick(!1,e)},r.onLinkClick=function(e){void 0!==r.props.onClick&&r.props.onClick(e,void 0)},r.onLongPress=Object(a.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props,n=t.menuItems,a=t.flags,!Object(Pe.a)(a,$.b.DisableLongPress)&&void 0!==r.props.onLongPressChanged){e.next=3;break}return e.abrupt("return");case 3:if(!r.isInteractive||void 0!==n&&0!==n.length){e.next=5;break}return e.abrupt("return");case 5:r.props.onLongPressChanged(!0);case 6:case"end":return e.stop()}}),e)}))),r.exitLongPress=function(){void 0!==r.props.onLongPressChanged&&r.props.onLongPressChanged(!1)},r.handleCopy=function(){return r.handleCopyPossiblyShare(!1)},r.handleShare=function(){return r.handleCopyPossiblyShare(!0)},r.determineLinkStatus(!1),r}return Object(c.a)(n,[{key:"shouldComponentUpdate",value:function(e){if(e.title!==this.props.title||e.subtitle!==this.props.subtitle||e.caption!==this.props.caption||!De()(e.imageSource,this.props.imageSource)||e.fallbackInitials!==this.props.fallbackInitials||e.targetUrl!==this.props.targetUrl||e.theme!==this.props.theme||e.flags!==this.props.flags||e.touched!==this.props.touched||e.showActionBubble!==this.props.showActionBubble||void 0===e.children!==(void 0===this.props.children))return!0;if(e.menuItems!==this.props.menuItems&&Object(b.o)(e.menuItems,0,(function(e){return e.length}))!==Object(b.o)(this.props.menuItems,0,(function(e){return e.length})))return!0;return!1}},{key:"determineLinkStatus",value:function(e){var t=this.props.targetUrl,n=this.href,r=this.isLink;this.isLink=void 0!==t,this.href=Object(b.sb)(t),this.hrefIsBrowsable=this.isLink&&void 0!==this.href&&(this.href.startsWith("http:")||this.href.startsWith("https:")),!e||this.href===n&&this.isLink===r||this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.ref.current;null!==e&&e.addEventListener("long-press",this.onLongPress)}},{key:"componentDidUpdate",value:function(e){var t=this.props.targetUrl;e.targetUrl!==t&&this.determineLinkStatus(!0)}},{key:"handleCopyPossiblyShare",value:function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a,o,c,u,l,s,d,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.exitLongPress(),e.next=3,Object(b.tb)(0);case 3:if(n=this.props,r=n.title,a=n.caption,o=this.isLink,c=this.href,u=this.hrefIsBrowsable,l=null===r||void 0===r?"":r,d=null!==(s=null===a?void 0:a)&&void 0!==s?s:l,f=function(){return h()(o&&u&&null!==c&&void 0!==c?c:d)},!t){e.next=23;break}return e.prev=10,e.next=13,navigator.share({text:this.textForShareSheet,url:Object(b.n)(c)});case 13:e.next=21;break;case 15:if(e.prev=15,e.t0=e.catch(10),!(e.t0 instanceof DOMException&&"AbortError"===e.t0.name)){e.next=19;break}return e.abrupt("return");case 19:Object(ae.b)("Could not show share sheet",e.t0),f();case 21:e.next=24;break;case 23:f();case 24:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"actionBubble",value:function(e){if(this.canShowShareSheet)return d.createElement(we,{target:e,leftLabel:Object(ne.e)("copyGeneral"),rightLabel:Object(ne.e)("shareLink"),onLeftClick:this.handleCopy,onRightClick:this.handleShare,onClose:this.exitLongPress});var t=this.props,n=t.title,r=t.subtitle,i=Object(re.N)(this.invertTitleAndSubtitle?r:n,Object(ne.e)("copyGeneral"),(function(e){return Object(ne.a)("copySpecific",[e])}));return d.createElement(Se,{label:i,target:e,onClick:this.handleCopy,onClose:this.exitLongPress})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.title,i=n.subtitle,a=n.imageSource,o=n.fallbackInitials,c=n.corners,u=n.caption,l=n.flags,s=n.theme,f=n.itemID,v=n.disableChevon,h=this.href,g=this.invertTitleAndSubtitle?"inverted":"normal",O=this.props.menuItems,y=null!==(e=this.props.accessoryPosition)&&void 0!==e?e:$.a.Left,j=!1;!this.isInteractive||void 0!==O||Object(Pe.a)(l,$.b.DisableChevron)||v||(O=[{title:"chevron",icon:"chevron-right"}],j=!0);var k,x,C,w,S,E,M=Object(Pe.a)(l,$.b.ConvertNewlines),R="textStyle",D="textDetailStyle";("normal"!==g||Object(b.G)(i)?"normal"===g||Object(b.G)(r)||(D+=" topItem"):R+=" topItem",r===m.i?k=d.createElement(F,{height:"".concat(s.listItem.titleLineHeight,"px"),width:"80%",marginBottom:"4"}):(k=d.createElement("div",{"data-test":"list-item-title",dir:"auto",className:R},M?Object(ue.a)(r):r),x=r),u===m.i||Object(b.F)(u)||(C=d.createElement("div",{"data-test":"list-item-caption",dir:"auto",className:"textCaptionStyle"},M?Object(ue.a)(u):u)),void 0!==a)&&(w=Object(J.e)(a,{thumbnail:!0},null===(S=this.props.appEnvironment)||void 0===S?void 0:S.appID));void 0!==O&&(E=O.map((function(e){return d.createElement(_e,{key:e.title,theme:t.props.theme,title:e.title,icon:e.icon,navigation:j,href:e.href,callback:e.onClick})})));var T=Object(Pe.a)(l,$.b.ReserveImageSpace),P=void 0!==w||void 0!==o||T?d.createElement(Ne,{onDropImage:this.props.onDropImage,src:w,initials:o,reserve:T}):null,I=Object(Pe.a)(l,$.b.SwapImageSide),_=s.listItem.titleLineHeight+2*s.componentSmallInnerVerticalPadding,N=Object(Pe.a)(l,$.b.HorizontalLayout);!N&&Object(Pe.a)(l,$.b.ReserveDetailSpace)&&(_+=2+s.listItem.detailLineHeight),!N&&Object(Pe.a)(l,$.b.ReserveCaptionSpace)&&(_+=4+s.listItem.captionLineHeight),_=Math.max(_,44);var A,B=y===$.a.Left&&void 0!==this.props.children,V=y===$.a.TopRight&&void 0!==this.props.children,U=y===$.a.Right&&void 0!==this.props.children;i===m.i?A=d.createElement(F,{height:"".concat(s.listItem.detailLineHeight,"px")}):(void 0!==i&&Object(b.E)(i)&&(D+=" emoji"),A=d.createElement("div",{"data-test":"list-item-subtitle",dir:"auto",className:D},M?Object(ue.a)(i):i));Object(Pe.a)(l,$.b.TruncateWrap)&&(k=d.createElement(Ee.a,{maxLines:4,lineHeight:s.listItem.titleLineHeight},k));var W,H=ie.a;this.isInteractive&&(H+=" interactive"),!0!==this.props.touched&&!0!==this.props.showActionBubble||(H+=" touched"),Object(Pe.a)(this.props.flags,$.b.WrapText)&&(H+=" allow-wrapping"),I&&(H+=" move-image-right"),Object(Pe.a)(this.props.flags,$.b.DrawSeparator)&&(H+=" separator"),B&&(H+=" no-left-pad"),Object(Pe.a)(l,$.b.LightWeight)&&(H+=" normal-weight"),void 0!==f&&(H+=" selected-item-list-item-".concat(f));var K=this.isLink&&void 0!==h&&!B;if(K&&void 0!==h){var q=Object(Z.b)(h,!1),G=q===Z.a.UseATag||q===Z.a.UseATagWithBlank,X=q===Z.a.UseATagWithBlank?"_blank":void 0;W=d.createElement(L,{"aria-label":x,onClick:function(){Object(ce.a)(h),t.onLinkClick(G)},href:G?h:void 0,target:X})}var ne=d.createElement(z,Object.assign({"data-test":"list-item",role:"button"},this.props.highlightProps,{ref:this.ref,minHeight:_,onClick:K?void 0:this.onClick,customCorners:c,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd,as:void 0===this.props.onClick&&void 0!==this.props.children?"label":void 0,onTouchCancel:this.onTouchEnd,className:H}),W,B&&this.props.children,!I&&P,d.createElement("div",{className:N?"horizontalTextContainer":"textContainer"},"normal"===g&&k,A,"inverted"===g&&k,C),I&&P,E,V&&d.createElement("div",{className:"ali-accessory-topright"},this.props.children),U&&d.createElement("div",{className:"ali-accessory-right"},this.props.children),!0===this.props.showActionBubble&&this.actionBubble(this.ref)),re=[];if(Object(Pe.a)(this.props.flags,$.b.LargeImage)&&re.push(Y),Object(Pe.a)(this.props.flags,$.b.SmallImage)&&re.push(ee),Object(Pe.a)(this.props.flags,$.b.BigCaption)&&re.push(Q),Object(Pe.a)(this.props.flags,$.b.ForceListStyle)&&re.push(Te.a),0===re.length)return ne;var ae=Object(te.b)(this.props.theme,re);return d.createElement(p.ThemeProvider,{theme:ae},ne)}},{key:"ref",get:function(){var e;return null!==(e=this.props.highlightProps.ref)&&void 0!==e?e:this.wrapperRef}},{key:"isInteractive",get:function(){var e=this.props.flags;return!Object(Pe.a)(e,$.b.Inert)}},{key:"textForShareSheet",get:function(){var e=this.props,t=e.title,n=e.subtitle,r=this.invertTitleAndSubtitle?t:n;return null===r?void 0:r}},{key:"canShowShareSheet",get:function(){return this.hrefIsBrowsable&&void 0!==navigator.share}},{key:"invertTitleAndSubtitle",get:function(){return Object(Pe.a)(this.props.flags,$.b.InvertTitleAndSubtitle)}}]),n}(d.Component);function _e(e){var t=e.icon,n=e.navigation,r=e.theme,i=e.title,a=e.href,o=e.callback;if(n)return d.createElement("div",{className:"navigationIcon"},d.createElement(Me.a,{icon:t,size:12}));var c=d.createElement(H,{isLast:!0},d.createElement(Me.a,{icon:t,size:r.listItem.actionImage.iconSize}));if(void 0===(a=Object(b.sb)(a))||void 0===o)return c;var u=Object(Z.b)(a,!1),l=u===Z.a.UseATag||u===Z.a.UseATagWithBlank,s=u===Z.a.UseATagWithBlank?"_blank":void 0;return d.createElement(W,{"data-test":"list-item-link-copy","aria-label":i,onClick:function(e){Object(ce.a)(Object(b.n)(a)),o(!!l),e.stopPropagation()},href:l?a:void 0,target:s},c)}var Ne=function(e){var t=e.src,n=e.initials,r=e.onDropImage,i=e.reserve,a=d.createElement("div",{className:"initialsStyle"},n);if(void 0!==t){var o=Object(b.y)(t);return void 0!==o?d.createElement("div",{"data-test":"list-item-emoji",className:"emojiImageStyle"},d.createElement(A,{str:o})):d.createElement(G,{"data-test":"list-item-image",className:"imageBaseStyle",onDropImage:r,src:t,alt:"",alternate:a,altBehavior:"both"})}return void 0!==n?d.createElement(G,{"data-test":"list-item-image",className:"imageBaseStyle",onDropImage:r,alt:"",alternate:a,altBehavior:"both"}):i?d.createElement("div",{className:"emojiImageStyle"}):null},Ae=Object(oe.d)(Object(p.withTheme)(Ie));t.a=Ae},836:function(e,t,n){"use strict";var r=n(20),i=n(95),a=n(0),o=n(4),c=n(5),u=n(9),l=n(21),s=n(13),d=n(168),f=n.n(d),p=n(25),v=n(3),h=n(254),b=n(760);var m=function(e){Object(u.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(s.a)(e);if(t()){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).inputRef=a.createRef(),e.onChange=function(t){void 0!==e.props.onChange&&e.props.onChange(t)},e.onWrapperClick=function(t){e.inputRef.current.focus(),t.stopPropagation()},e}return Object(c.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.dataType,r=t.focused,i=t.highlightProps,o=t.isEnabled,c=t.isRequired,u=t.onBlur,l=t.onFocus,s=t.placeholder,d=t.title,h=t.value,m=t.errorMessage,g=t.maximumChars;"text"===n?e=a.createElement(b.b,{"data-test":"app-tf-text-input","aria-label":d,inputRef:this.inputRef,placeholder:s,onFocus:l,onBlur:u,onChange:this.onChange,value:h}):"number"===n?e=a.createElement(b.d,{"data-test":"app-tf-number-input","aria-label":d,ref:this.inputRef,placeholder:s,type:"number",onFocus:l,onBlur:u,onChange:this.onChange,value:h}):"phone"===n?e=a.createElement(b.d,{"data-test":"app-tf-phone-input","aria-label":d,ref:this.inputRef,placeholder:s,type:"phone",onFocus:l,onBlur:u,onChange:this.onChange,value:h}):"email"===n?e=a.createElement(b.d,{"data-test":"app-tf-email-input","aria-label":d,ref:this.inputRef,placeholder:s,type:"email",onFocus:l,onBlur:u,onChange:this.onChange,value:h}):Object(v.e)(n);var O,y=null!==m&&void 0!==m?m:c?Object(p.e)("required"):void 0,j=!1;void 0!==g&&(O="".concat(h.length," / ").concat(g),j=h.length>g,void 0===y&&(y=""));var k=j||void 0!==m;return a.createElement(b.e,Object.assign({"data-test":"app-text-field",isEnabled:o,focused:r,className:f()(k&&"tf-has-error"),onClick:this.onWrapperClick},i,{ref:i.ref}),a.createElement("div",{className:"tf-inner"},a.createElement(b.a,{focused:r,shrink:r||""!==h||""!==s},d),a.createElement(b.c,{hideInput:!1,hasTitle:""!==d},e)),void 0!==y&&a.createElement("div",{className:"tf-footer"},a.createElement("div",{className:f()(void 0!==m&&"tf-error")},y),a.createElement("div",{className:f()(j&&"tf-error")},O)))}}]),n}(a.PureComponent),g=Object(h.d)(m);t.a=function(e){var t=e.value,n=e.onChange,o=e.validate,c=Object(i.a)(e,["value","onChange","validate"]),u=a.useState(t),l=Object(r.a)(u,2),s=l[0],d=l[1],f=a.useState(t),p=Object(r.a)(f,2),v=p[0],h=p[1],b=a.useState(!1),m=Object(r.a)(b,2),O=m[0],y=m[1],j=a.useState(void 0),k=Object(r.a)(j,2),x=k[0],C=k[1];a.useEffect((function(){v!==t&&(O||d(t),h(t))}),[v,t,O]);var w=a.useCallback((function(e){var t=e.target.value;if(d(t),void 0!==n&&n(t),void 0!==x&&void 0!==o){var r=""===t?void 0:o(t);C(r)}}),[n,o,x]),S=a.useCallback((function(){y(!0)}),[]),E=a.useCallback((function(){if(y(!1),void 0!==o){var e=""===s?void 0:o(s);C(e)}}),[o,s]);return a.createElement(g,Object.assign({value:s,onFocus:S,onBlur:E,focused:O,onChange:w,errorMessage:x},c))}},872:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(113),i=n(12),a=n(18);function o(e,t,n){try{var o=Object(r.c)(e,t),c=o.functions,u=o.screens,l=o.rootTabs,s=o.rootContext,d=o.computedColumns,f=n(l,c),p=f.screens;return{state:{rootContext:s,functions:f.functions,screens:u,computedColumns:d},evaluatedRoots:p}}catch(v){return Object(i.a)("Exception when deserializing app",v),Object(i.b)(e),{state:{rootContext:new a.c(void 0),functions:new Map,screens:new Map,computedColumns:new Map},evaluatedRoots:void 0}}}}}]);